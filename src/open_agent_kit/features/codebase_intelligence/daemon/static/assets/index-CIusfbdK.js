function Cw(e,s){for(var r=0;r<s.length;r++){const l=s[r];if(typeof l!="string"&&!Array.isArray(l)){for(const o in l)if(o!=="default"&&!(o in e)){const u=Object.getOwnPropertyDescriptor(l,o);u&&Object.defineProperty(e,o,u.get?u:{enumerable:!0,get:()=>l[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function r(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(o){if(o.ep)return;o.ep=!0;const u=r(o);fetch(o.href,u)}})();function sc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Jm={exports:{}},_o={};var gb;function Tw(){if(gb)return _o;gb=1;var e=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function r(l,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var f in o)f!=="key"&&(u[f]=o[f])}else u=o;return o=u.ref,{$$typeof:e,type:l,key:d,ref:o!==void 0?o:null,props:u}}return _o.Fragment=s,_o.jsx=r,_o.jsxs=r,_o}var yb;function kw(){return yb||(yb=1,Jm.exports=Tw()),Jm.exports}var n=kw(),Wm={exports:{}},Je={};var vb;function Aw(){if(vb)return Je;vb=1;var e=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),b=Symbol.iterator;function N(z){return z===null||typeof z!="object"?null:(z=b&&z[b]||z["@@iterator"],typeof z=="function"?z:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,E={};function w(z,le,T){this.props=z,this.context=le,this.refs=E,this.updater=T||C}w.prototype.isReactComponent={},w.prototype.setState=function(z,le){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,le,"setState")},w.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function R(){}R.prototype=w.prototype;function D(z,le,T){this.props=z,this.context=le,this.refs=E,this.updater=T||C}var Q=D.prototype=new R;Q.constructor=D,S(Q,w.prototype),Q.isPureReactComponent=!0;var ae=Array.isArray;function k(){}var A={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function O(z,le,T){var I=T.ref;return{$$typeof:e,type:z,key:le,ref:I!==void 0?I:null,props:T}}function X(z,le){return O(z.type,le,z.props)}function ee(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function Y(z){var le={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(T){return le[T]})}var G=/\/+/g;function J(z,le){return typeof z=="object"&&z!==null&&z.key!=null?Y(""+z.key):le.toString(36)}function ne(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(k,k):(z.status="pending",z.then(function(le){z.status==="pending"&&(z.status="fulfilled",z.value=le)},function(le){z.status==="pending"&&(z.status="rejected",z.reason=le)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function B(z,le,T,I,Z){var ie=typeof z;(ie==="undefined"||ie==="boolean")&&(z=null);var Ne=!1;if(z===null)Ne=!0;else switch(ie){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(z.$$typeof){case e:case s:Ne=!0;break;case g:return Ne=z._init,B(Ne(z._payload),le,T,I,Z)}}if(Ne)return Z=Z(z),Ne=I===""?"."+J(z,0):I,ae(Z)?(T="",Ne!=null&&(T=Ne.replace(G,"$&/")+"/"),B(Z,le,T,"",function(Dt){return Dt})):Z!=null&&(ee(Z)&&(Z=X(Z,T+(Z.key==null||z&&z.key===Z.key?"":(""+Z.key).replace(G,"$&/")+"/")+Ne)),le.push(Z)),1;Ne=0;var Fe=I===""?".":I+":";if(ae(z))for(var Qe=0;Qe<z.length;Qe++)I=z[Qe],ie=Fe+J(I,Qe),Ne+=B(I,le,T,ie,Z);else if(Qe=N(z),typeof Qe=="function")for(z=Qe.call(z),Qe=0;!(I=z.next()).done;)I=I.value,ie=Fe+J(I,Qe++),Ne+=B(I,le,T,ie,Z);else if(ie==="object"){if(typeof z.then=="function")return B(ne(z),le,T,I,Z);throw le=String(z),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function F(z,le,T){if(z==null)return z;var I=[],Z=0;return B(z,I,"","",function(ie){return le.call(T,ie,Z++)}),I}function q(z){if(z._status===-1){var le=z._result;le=le(),le.then(function(T){(z._status===0||z._status===-1)&&(z._status=1,z._result=T)},function(T){(z._status===0||z._status===-1)&&(z._status=2,z._result=T)}),z._status===-1&&(z._status=0,z._result=le)}if(z._status===1)return z._result.default;throw z._result}var _e=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},M={map:F,forEach:function(z,le,T){F(z,function(){le.apply(this,arguments)},T)},count:function(z){var le=0;return F(z,function(){le++}),le},toArray:function(z){return F(z,function(le){return le})||[]},only:function(z){if(!ee(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Je.Activity=y,Je.Children=M,Je.Component=w,Je.Fragment=r,Je.Profiler=o,Je.PureComponent=D,Je.StrictMode=l,Je.Suspense=x,Je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Je.__COMPILER_RUNTIME={__proto__:null,c:function(z){return A.H.useMemoCache(z)}},Je.cache=function(z){return function(){return z.apply(null,arguments)}},Je.cacheSignal=function(){return null},Je.cloneElement=function(z,le,T){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var I=S({},z.props),Z=z.key;if(le!=null)for(ie in le.key!==void 0&&(Z=""+le.key),le)!L.call(le,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&le.ref===void 0||(I[ie]=le[ie]);var ie=arguments.length-2;if(ie===1)I.children=T;else if(1<ie){for(var Ne=Array(ie),Fe=0;Fe<ie;Fe++)Ne[Fe]=arguments[Fe+2];I.children=Ne}return O(z.type,Z,I)},Je.createContext=function(z){return z={$$typeof:d,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:u,_context:z},z},Je.createElement=function(z,le,T){var I,Z={},ie=null;if(le!=null)for(I in le.key!==void 0&&(ie=""+le.key),le)L.call(le,I)&&I!=="key"&&I!=="__self"&&I!=="__source"&&(Z[I]=le[I]);var Ne=arguments.length-2;if(Ne===1)Z.children=T;else if(1<Ne){for(var Fe=Array(Ne),Qe=0;Qe<Ne;Qe++)Fe[Qe]=arguments[Qe+2];Z.children=Fe}if(z&&z.defaultProps)for(I in Ne=z.defaultProps,Ne)Z[I]===void 0&&(Z[I]=Ne[I]);return O(z,ie,Z)},Je.createRef=function(){return{current:null}},Je.forwardRef=function(z){return{$$typeof:f,render:z}},Je.isValidElement=ee,Je.lazy=function(z){return{$$typeof:g,_payload:{_status:-1,_result:z},_init:q}},Je.memo=function(z,le){return{$$typeof:h,type:z,compare:le===void 0?null:le}},Je.startTransition=function(z){var le=A.T,T={};A.T=T;try{var I=z(),Z=A.S;Z!==null&&Z(T,I),typeof I=="object"&&I!==null&&typeof I.then=="function"&&I.then(k,_e)}catch(ie){_e(ie)}finally{le!==null&&T.types!==null&&(le.types=T.types),A.T=le}},Je.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},Je.use=function(z){return A.H.use(z)},Je.useActionState=function(z,le,T){return A.H.useActionState(z,le,T)},Je.useCallback=function(z,le){return A.H.useCallback(z,le)},Je.useContext=function(z){return A.H.useContext(z)},Je.useDebugValue=function(){},Je.useDeferredValue=function(z,le){return A.H.useDeferredValue(z,le)},Je.useEffect=function(z,le){return A.H.useEffect(z,le)},Je.useEffectEvent=function(z){return A.H.useEffectEvent(z)},Je.useId=function(){return A.H.useId()},Je.useImperativeHandle=function(z,le,T){return A.H.useImperativeHandle(z,le,T)},Je.useInsertionEffect=function(z,le){return A.H.useInsertionEffect(z,le)},Je.useLayoutEffect=function(z,le){return A.H.useLayoutEffect(z,le)},Je.useMemo=function(z,le){return A.H.useMemo(z,le)},Je.useOptimistic=function(z,le){return A.H.useOptimistic(z,le)},Je.useReducer=function(z,le,T){return A.H.useReducer(z,le,T)},Je.useRef=function(z){return A.H.useRef(z)},Je.useState=function(z){return A.H.useState(z)},Je.useSyncExternalStore=function(z,le,T){return A.H.useSyncExternalStore(z,le,T)},Je.useTransition=function(){return A.H.useTransition()},Je.version="19.2.3",Je}var bb;function _p(){return bb||(bb=1,Wm.exports=Aw()),Wm.exports}var v=_p();const lN=sc(v),Td=Cw({__proto__:null,default:lN},[v]);var eh={exports:{}},Co={},th={exports:{}},nh={};var Nb;function Rw(){return Nb||(Nb=1,(function(e){function s(B,F){var q=B.length;B.push(F);e:for(;0<q;){var _e=q-1>>>1,M=B[_e];if(0<o(M,F))B[_e]=F,B[q]=M,q=_e;else break e}}function r(B){return B.length===0?null:B[0]}function l(B){if(B.length===0)return null;var F=B[0],q=B.pop();if(q!==F){B[0]=q;e:for(var _e=0,M=B.length,z=M>>>1;_e<z;){var le=2*(_e+1)-1,T=B[le],I=le+1,Z=B[I];if(0>o(T,q))I<M&&0>o(Z,T)?(B[_e]=Z,B[I]=q,_e=I):(B[_e]=T,B[le]=q,_e=le);else if(I<M&&0>o(Z,q))B[_e]=Z,B[I]=q,_e=I;else break e}}return F}function o(B,F){var q=B.sortIndex-F.sortIndex;return q!==0?q:B.id-F.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var d=Date,f=d.now();e.unstable_now=function(){return d.now()-f}}var x=[],h=[],g=1,y=null,b=3,N=!1,C=!1,S=!1,E=!1,w=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function Q(B){for(var F=r(h);F!==null;){if(F.callback===null)l(h);else if(F.startTime<=B)l(h),F.sortIndex=F.expirationTime,s(x,F);else break;F=r(h)}}function ae(B){if(S=!1,Q(B),!C)if(r(x)!==null)C=!0,k||(k=!0,Y());else{var F=r(h);F!==null&&ne(ae,F.startTime-B)}}var k=!1,A=-1,L=5,O=-1;function X(){return E?!0:!(e.unstable_now()-O<L)}function ee(){if(E=!1,k){var B=e.unstable_now();O=B;var F=!0;try{e:{C=!1,S&&(S=!1,R(A),A=-1),N=!0;var q=b;try{t:{for(Q(B),y=r(x);y!==null&&!(y.expirationTime>B&&X());){var _e=y.callback;if(typeof _e=="function"){y.callback=null,b=y.priorityLevel;var M=_e(y.expirationTime<=B);if(B=e.unstable_now(),typeof M=="function"){y.callback=M,Q(B),F=!0;break t}y===r(x)&&l(x),Q(B)}else l(x);y=r(x)}if(y!==null)F=!0;else{var z=r(h);z!==null&&ne(ae,z.startTime-B),F=!1}}break e}finally{y=null,b=q,N=!1}F=void 0}}finally{F?Y():k=!1}}}var Y;if(typeof D=="function")Y=function(){D(ee)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,J=G.port2;G.port1.onmessage=ee,Y=function(){J.postMessage(null)}}else Y=function(){w(ee,0)};function ne(B,F){A=w(function(){B(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(B){switch(b){case 1:case 2:case 3:var F=3;break;default:F=b}var q=b;b=F;try{return B()}finally{b=q}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function(B,F){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var q=b;b=B;try{return F()}finally{b=q}},e.unstable_scheduleCallback=function(B,F,q){var _e=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?_e+q:_e):q=_e,B){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=q+M,B={id:g++,callback:F,priorityLevel:B,startTime:q,expirationTime:M,sortIndex:-1},q>_e?(B.sortIndex=q,s(h,B),r(x)===null&&B===r(h)&&(S?(R(A),A=-1):S=!0,ne(ae,q-_e))):(B.sortIndex=M,s(x,B),C||N||(C=!0,k||(k=!0,Y()))),B},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(B){var F=b;return function(){var q=b;b=F;try{return B.apply(this,arguments)}finally{b=q}}}})(nh)),nh}var jb;function Ow(){return jb||(jb=1,th.exports=Rw()),th.exports}var ah={exports:{}},An={};var Sb;function Mw(){if(Sb)return An;Sb=1;var e=_p();function s(x){var h="https://react.dev/errors/"+x;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+x+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var l={d:{f:r,r:function(){throw Error(s(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(x,h,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:x,containerInfo:h,implementation:g}}var d=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(x,h){if(x==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return An.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,An.createPortal=function(x,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(s(299));return u(x,h,null,g)},An.flushSync=function(x){var h=d.T,g=l.p;try{if(d.T=null,l.p=2,x)return x()}finally{d.T=h,l.p=g,l.d.f()}},An.preconnect=function(x,h){typeof x=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,l.d.C(x,h))},An.prefetchDNS=function(x){typeof x=="string"&&l.d.D(x)},An.preinit=function(x,h){if(typeof x=="string"&&h&&typeof h.as=="string"){var g=h.as,y=f(g,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,N=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;g==="style"?l.d.S(x,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:N}):g==="script"&&l.d.X(x,{crossOrigin:y,integrity:b,fetchPriority:N,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},An.preinitModule=function(x,h){if(typeof x=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var g=f(h.as,h.crossOrigin);l.d.M(x,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&l.d.M(x)},An.preload=function(x,h){if(typeof x=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var g=h.as,y=f(g,h.crossOrigin);l.d.L(x,g,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},An.preloadModule=function(x,h){if(typeof x=="string")if(h){var g=f(h.as,h.crossOrigin);l.d.m(x,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else l.d.m(x)},An.requestFormReset=function(x){l.d.r(x)},An.unstable_batchedUpdates=function(x,h){return x(h)},An.useFormState=function(x,h,g){return d.H.useFormState(x,h,g)},An.useFormStatus=function(){return d.H.useHostTransitionStatus()},An.version="19.2.3",An}var Eb;function iN(){if(Eb)return ah.exports;Eb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(s){console.error(s)}}return e(),ah.exports=Mw(),ah.exports}var wb;function Dw(){if(wb)return Co;wb=1;var e=Ow(),s=_p(),r=iN();function l(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)a+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var a=t,i=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(i=a.return),t=a.return;while(t)}return a.tag===3?i:null}function d(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function f(t){if(t.tag===31){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function x(t){if(u(t)!==t)throw Error(l(188))}function h(t){var a=t.alternate;if(!a){if(a=u(t),a===null)throw Error(l(188));return a!==t?null:t}for(var i=t,c=a;;){var m=i.return;if(m===null)break;var p=m.alternate;if(p===null){if(c=m.return,c!==null){i=c;continue}break}if(m.child===p.child){for(p=m.child;p;){if(p===i)return x(m),t;if(p===c)return x(m),a;p=p.sibling}throw Error(l(188))}if(i.return!==c.return)i=m,c=p;else{for(var j=!1,_=m.child;_;){if(_===i){j=!0,i=m,c=p;break}if(_===c){j=!0,c=m,i=p;break}_=_.sibling}if(!j){for(_=p.child;_;){if(_===i){j=!0,i=p,c=m;break}if(_===c){j=!0,c=p,i=m;break}_=_.sibling}if(!j)throw Error(l(189))}}if(i.alternate!==c)throw Error(l(190))}if(i.tag!==3)throw Error(l(188));return i.stateNode.current===i?t:a}function g(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=g(t),a!==null)return a;t=t.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),D=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function Y(t){return t===null||typeof t!="object"?null:(t=ee&&t[ee]||t["@@iterator"],typeof t=="function"?t:null)}var G=Symbol.for("react.client.reference");function J(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===G?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case S:return"Fragment";case w:return"Profiler";case E:return"StrictMode";case ae:return"Suspense";case k:return"SuspenseList";case O:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case C:return"Portal";case D:return t.displayName||"Context";case R:return(t._context.displayName||"Context")+".Consumer";case Q:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case A:return a=t.displayName||null,a!==null?a:J(t.type)||"Memo";case L:a=t._payload,t=t._init;try{return J(t(a))}catch{}}return null}var ne=Array.isArray,B=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},_e=[],M=-1;function z(t){return{current:t}}function le(t){0>M||(t.current=_e[M],_e[M]=null,M--)}function T(t,a){M++,_e[M]=t.current,t.current=a}var I=z(null),Z=z(null),ie=z(null),Ne=z(null);function Fe(t,a){switch(T(ie,a),T(Z,t),T(I,null),a.nodeType){case 9:case 11:t=(t=a.documentElement)&&(t=t.namespaceURI)?Bv(t):0;break;default:if(t=a.tagName,a=a.namespaceURI)a=Bv(a),t=Fv(a,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}le(I),T(I,t)}function Qe(){le(I),le(Z),le(ie)}function Dt(t){t.memoizedState!==null&&T(Ne,t);var a=I.current,i=Fv(a,t.type);a!==i&&(T(Z,t),T(I,i))}function en(t){Z.current===t&&(le(I),le(Z)),Ne.current===t&&(le(Ne),jo._currentValue=q)}var gt,Fn;function tn(t){if(gt===void 0)try{throw Error()}catch(i){var a=i.stack.trim().match(/\n( *(at )?)/);gt=a&&a[1]||"",Fn=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gt+t+Fn}var ga=!1;function Ke(t,a){if(!t||ga)return"";ga=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(oe){var se=oe}Reflect.construct(t,[],me)}else{try{me.call()}catch(oe){se=oe}t.call(me.prototype)}}else{try{throw Error()}catch(oe){se=oe}(me=t())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(oe){if(oe&&se&&typeof oe.stack=="string")return[oe.stack,se.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),j=p[0],_=p[1];if(j&&_){var P=j.split(`
`),te=_.split(`
`);for(m=c=0;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;for(;m<te.length&&!te[m].includes("DetermineComponentFrameRoot");)m++;if(c===P.length||m===te.length)for(c=P.length-1,m=te.length-1;1<=c&&0<=m&&P[c]!==te[m];)m--;for(;1<=c&&0<=m;c--,m--)if(P[c]!==te[m]){if(c!==1||m!==1)do if(c--,m--,0>m||P[c]!==te[m]){var ue=`
`+P[c].replace(" at new "," at ");return t.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",t.displayName)),ue}while(1<=c&&0<=m);break}}}finally{ga=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?tn(i):""}function kn(t,a){switch(t.tag){case 26:case 27:case 5:return tn(t.type);case 16:return tn("Lazy");case 13:return t.child!==a&&a!==null?tn("Suspense Fallback"):tn("Suspense");case 19:return tn("SuspenseList");case 0:case 15:return Ke(t.type,!1);case 11:return Ke(t.type.render,!1);case 1:return Ke(t.type,!0);case 31:return tn("Activity");default:return""}}function ya(t){try{var a="",i=null;do a+=kn(t,i),i=t,t=t.return;while(t);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Wn=Object.prototype.hasOwnProperty,yn=e.unstable_scheduleCallback,xe=e.unstable_cancelCallback,Et=e.unstable_shouldYield,Gt=e.unstable_requestPaint,bt=e.unstable_now,Pt=e.unstable_getCurrentPriorityLevel,ce=e.unstable_ImmediatePriority,ve=e.unstable_UserBlockingPriority,ze=e.unstable_NormalPriority,V=e.unstable_LowPriority,De=e.unstable_IdlePriority,Vt=e.log,ea=e.unstable_setDisableYieldValue,vn=null,_t=null;function bn(t){if(typeof Vt=="function"&&ea(t),_t&&typeof _t.setStrictMode=="function")try{_t.setStrictMode(vn,t)}catch{}}var wt=Math.clz32?Math.clz32:yc,Fa=Math.log,ta=Math.LN2;function yc(t){return t>>>=0,t===0?32:31-(Fa(t)/ta|0)|0}var Ns=256,Ur=262144,Zs=4194304;function js(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Pr(t,a,i){var c=t.pendingLanes;if(c===0)return 0;var m=0,p=t.suspendedLanes,j=t.pingedLanes;t=t.warmLanes;var _=c&134217727;return _!==0?(c=_&~p,c!==0?m=js(c):(j&=_,j!==0?m=js(j):i||(i=_&~t,i!==0&&(m=js(i))))):(_=c&~p,_!==0?m=js(_):j!==0?m=js(j):i||(i=c&~t,i!==0&&(m=js(i)))),m===0?0:a!==0&&a!==m&&(a&p)===0&&(p=m&-m,i=a&-a,p>=i||p===32&&(i&4194048)!==0)?a:m}function Br(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function vc(t,a){switch(t){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fr(){var t=Zs;return Zs<<=1,(Zs&62914560)===0&&(Zs=4194304),t}function Js(t){for(var a=[],i=0;31>i;i++)a.push(t);return a}function Ws(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Gd(t,a,i,c,m,p){var j=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var _=t.entanglements,P=t.expirationTimes,te=t.hiddenUpdates;for(i=j&~i;0<i;){var ue=31-wt(i),me=1<<ue;_[ue]=0,P[ue]=-1;var se=te[ue];if(se!==null)for(te[ue]=null,ue=0;ue<se.length;ue++){var oe=se[ue];oe!==null&&(oe.lane&=-536870913)}i&=~me}c!==0&&bc(t,c,0),p!==0&&m===0&&t.tag!==0&&(t.suspendedLanes|=p&~(j&~a))}function bc(t,a,i){t.pendingLanes|=a,t.suspendedLanes&=~a;var c=31-wt(a);t.entangledLanes|=a,t.entanglements[c]=t.entanglements[c]|1073741824|i&261930}function U(t,a){var i=t.entangledLanes|=a;for(t=t.entanglements;i;){var c=31-wt(i),m=1<<c;m&a|t[c]&a&&(t[c]|=a),i&=~m}}function K(t,a){var i=a&-a;return i=(i&42)!==0?1:re(i),(i&(t.suspendedLanes|a))!==0?0:i}function re(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ge(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function je(){var t=F.p;return t!==0?t:(t=window.event,t===void 0?32:ub(t.type))}function Pe(t,a){var i=F.p;try{return F.p=t,a()}finally{F.p=i}}var Ee=Math.random().toString(36).slice(2),Se="__reactFiber$"+Ee,Ce="__reactProps$"+Ee,Ue="__reactContainer$"+Ee,Ge="__reactEvents$"+Ee,He="__reactListeners$"+Ee,xt="__reactHandles$"+Ee,dt="__reactResources$"+Ee,Ht="__reactMarker$"+Ee;function Yt(t){delete t[Se],delete t[Ce],delete t[Ge],delete t[He],delete t[xt]}function $t(t){var a=t[Se];if(a)return a;for(var i=t.parentNode;i;){if(a=i[Ue]||i[Se]){if(i=a.alternate,a.child!==null||i!==null&&i.child!==null)for(t=Qv(t);t!==null;){if(i=t[Se])return i;t=Qv(t)}return a}t=i,i=t.parentNode}return null}function ft(t){if(t=t[Se]||t[Ue]){var a=t.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return t}return null}function pn(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(l(33))}function Hn(t){var a=t[dt];return a||(a=t[dt]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Bt(t){t[Ht]=!0}var Ha=new Set,na={};function qa(t,a){va(t,a),va(t+"Capture",a)}function va(t,a){for(na[t]=a,t=0;t<a.length;t++)Ha.add(a[t])}var Ss=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hr={},qr={};function mt(t){return Wn.call(qr,t)?!0:Wn.call(Hr,t)?!1:Ss.test(t)?qr[t]=!0:(Hr[t]=!0,!1)}function Zt(t,a,i){if(mt(a))if(i===null)t.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+i)}}function Ga(t,a,i){if(i===null)t.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+i)}}function Nn(t,a,i,c){if(c===null)t.removeAttribute(i);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(a,i,""+c)}}function ht(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Gr(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Nc(t,a,i){var c=Object.getOwnPropertyDescriptor(t.constructor.prototype,a);if(!t.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,p=c.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return m.call(this)},set:function(j){i=""+j,p.call(this,j)}}),Object.defineProperty(t,a,{enumerable:c.enumerable}),{getValue:function(){return i},setValue:function(j){i=""+j},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function zi(t){if(!t._valueTracker){var a=Gr(t)?"checked":"value";t._valueTracker=Nc(t,a,""+t[a])}}function Mx(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var i=a.getValue(),c="";return t&&(c=Gr(t)?t.checked?"true":"false":t.value),t=c,t!==i?(a.setValue(t),!0):!1}function jc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var NE=/[\n"\\]/g;function ba(t){return t.replace(NE,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Vd(t,a,i,c,m,p,j,_){t.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?t.type=j:t.removeAttribute("type"),a!=null?j==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+ht(a)):t.value!==""+ht(a)&&(t.value=""+ht(a)):j!=="submit"&&j!=="reset"||t.removeAttribute("value"),a!=null?Yd(t,j,ht(a)):i!=null?Yd(t,j,ht(i)):c!=null&&t.removeAttribute("value"),m==null&&p!=null&&(t.defaultChecked=!!p),m!=null&&(t.checked=m&&typeof m!="function"&&typeof m!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.name=""+ht(_):t.removeAttribute("name")}function Dx(t,a,i,c,m,p,j,_){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.type=p),a!=null||i!=null){if(!(p!=="submit"&&p!=="reset"||a!=null)){zi(t);return}i=i!=null?""+ht(i):"",a=a!=null?""+ht(a):i,_||a===t.value||(t.value=a),t.defaultValue=a}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=_?t.checked:!!c,t.defaultChecked=!!c,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(t.name=j),zi(t)}function Yd(t,a,i){a==="number"&&jc(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function _l(t,a,i,c){if(t=t.options,a){a={};for(var m=0;m<i.length;m++)a["$"+i[m]]=!0;for(i=0;i<t.length;i++)m=a.hasOwnProperty("$"+t[i].value),t[i].selected!==m&&(t[i].selected=m),m&&c&&(t[i].defaultSelected=!0)}else{for(i=""+ht(i),a=null,m=0;m<t.length;m++){if(t[m].value===i){t[m].selected=!0,c&&(t[m].defaultSelected=!0);return}a!==null||t[m].disabled||(a=t[m])}a!==null&&(a.selected=!0)}}function Lx(t,a,i){if(a!=null&&(a=""+ht(a),a!==t.value&&(t.value=a),i==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=i!=null?""+ht(i):""}function Ix(t,a,i,c){if(a==null){if(c!=null){if(i!=null)throw Error(l(92));if(ne(c)){if(1<c.length)throw Error(l(93));c=c[0]}i=c}i==null&&(i=""),a=i}i=ht(a),t.defaultValue=i,c=t.textContent,c===i&&c!==""&&c!==null&&(t.value=c),zi(t)}function Cl(t,a){if(a){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=a;return}}t.textContent=a}var jE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zx(t,a,i){var c=a.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?c?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":c?t.setProperty(a,i):typeof i!="number"||i===0||jE.has(a)?a==="float"?t.cssFloat=i:t[a]=(""+i).trim():t[a]=i+"px"}function Ux(t,a,i){if(a!=null&&typeof a!="object")throw Error(l(62));if(t=t.style,i!=null){for(var c in i)!i.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var m in a)c=a[m],a.hasOwnProperty(m)&&i[m]!==c&&zx(t,m,c)}else for(var p in a)a.hasOwnProperty(p)&&zx(t,p,a[p])}function $d(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var SE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),EE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sc(t){return EE.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Es(){}var Qd=null;function Kd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Tl=null,kl=null;function Px(t){var a=ft(t);if(a&&(t=a.stateNode)){var i=t[Ce]||null;e:switch(t=a.stateNode,a.type){case"input":if(Vd(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),a=i.name,i.type==="radio"&&a!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+ba(""+a)+'"][type="radio"]'),a=0;a<i.length;a++){var c=i[a];if(c!==t&&c.form===t.form){var m=c[Ce]||null;if(!m)throw Error(l(90));Vd(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<i.length;a++)c=i[a],c.form===t.form&&Mx(c)}break e;case"textarea":Lx(t,i.value,i.defaultValue);break e;case"select":a=i.value,a!=null&&_l(t,!!i.multiple,a,!1)}}}var Xd=!1;function Bx(t,a,i){if(Xd)return t(a,i);Xd=!0;try{var c=t(a);return c}finally{if(Xd=!1,(Tl!==null||kl!==null)&&(uu(),Tl&&(a=Tl,t=kl,kl=Tl=null,Px(a),t)))for(a=0;a<t.length;a++)Px(t[a])}}function Ui(t,a){var i=t.stateNode;if(i===null)return null;var c=i[Ce]||null;if(c===null)return null;i=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(l(231,a,typeof i));return i}var ws=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zd=!1;if(ws)try{var Pi={};Object.defineProperty(Pi,"passive",{get:function(){Zd=!0}}),window.addEventListener("test",Pi,Pi),window.removeEventListener("test",Pi,Pi)}catch{Zd=!1}var er=null,Jd=null,Ec=null;function Fx(){if(Ec)return Ec;var t,a=Jd,i=a.length,c,m="value"in er?er.value:er.textContent,p=m.length;for(t=0;t<i&&a[t]===m[t];t++);var j=i-t;for(c=1;c<=j&&a[i-c]===m[p-c];c++);return Ec=m.slice(t,1<c?1-c:void 0)}function wc(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function _c(){return!0}function Hx(){return!1}function qn(t){function a(i,c,m,p,j){this._reactName=i,this._targetInst=m,this.type=c,this.nativeEvent=p,this.target=j,this.currentTarget=null;for(var _ in t)t.hasOwnProperty(_)&&(i=t[_],this[_]=i?i(p):p[_]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?_c:Hx,this.isPropagationStopped=Hx,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=_c)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=_c)},persist:function(){},isPersistent:_c}),a}var Vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cc=qn(Vr),Bi=y({},Vr,{view:0,detail:0}),wE=qn(Bi),Wd,ef,Fi,Tc=y({},Bi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fi&&(Fi&&t.type==="mousemove"?(Wd=t.screenX-Fi.screenX,ef=t.screenY-Fi.screenY):ef=Wd=0,Fi=t),Wd)},movementY:function(t){return"movementY"in t?t.movementY:ef}}),qx=qn(Tc),_E=y({},Tc,{dataTransfer:0}),CE=qn(_E),TE=y({},Bi,{relatedTarget:0}),tf=qn(TE),kE=y({},Vr,{animationName:0,elapsedTime:0,pseudoElement:0}),AE=qn(kE),RE=y({},Vr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),OE=qn(RE),ME=y({},Vr,{data:0}),Gx=qn(ME),DE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zE(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=IE[t])?!!a[t]:!1}function nf(){return zE}var UE=y({},Bi,{key:function(t){if(t.key){var a=DE[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=wc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?LE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nf,charCode:function(t){return t.type==="keypress"?wc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),PE=qn(UE),BE=y({},Tc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vx=qn(BE),FE=y({},Bi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nf}),HE=qn(FE),qE=y({},Vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),GE=qn(qE),VE=y({},Tc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),YE=qn(VE),$E=y({},Vr,{newState:0,oldState:0}),QE=qn($E),KE=[9,13,27,32],af=ws&&"CompositionEvent"in window,Hi=null;ws&&"documentMode"in document&&(Hi=document.documentMode);var XE=ws&&"TextEvent"in window&&!Hi,Yx=ws&&(!af||Hi&&8<Hi&&11>=Hi),$x=" ",Qx=!1;function Kx(t,a){switch(t){case"keyup":return KE.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Al=!1;function ZE(t,a){switch(t){case"compositionend":return Xx(a);case"keypress":return a.which!==32?null:(Qx=!0,$x);case"textInput":return t=a.data,t===$x&&Qx?null:t;default:return null}}function JE(t,a){if(Al)return t==="compositionend"||!af&&Kx(t,a)?(t=Fx(),Ec=Jd=er=null,Al=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Yx&&a.locale!=="ko"?null:a.data;default:return null}}var WE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zx(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!WE[t.type]:a==="textarea"}function Jx(t,a,i,c){Tl?kl?kl.push(c):kl=[c]:Tl=c,a=gu(a,"onChange"),0<a.length&&(i=new Cc("onChange","change",null,i,c),t.push({event:i,listeners:a}))}var qi=null,Gi=null;function e2(t){Dv(t,0)}function kc(t){var a=pn(t);if(Mx(a))return t}function Wx(t,a){if(t==="change")return a}var eg=!1;if(ws){var sf;if(ws){var rf="oninput"in document;if(!rf){var tg=document.createElement("div");tg.setAttribute("oninput","return;"),rf=typeof tg.oninput=="function"}sf=rf}else sf=!1;eg=sf&&(!document.documentMode||9<document.documentMode)}function ng(){qi&&(qi.detachEvent("onpropertychange",ag),Gi=qi=null)}function ag(t){if(t.propertyName==="value"&&kc(Gi)){var a=[];Jx(a,Gi,t,Kd(t)),Bx(e2,a)}}function t2(t,a,i){t==="focusin"?(ng(),qi=a,Gi=i,qi.attachEvent("onpropertychange",ag)):t==="focusout"&&ng()}function n2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return kc(Gi)}function a2(t,a){if(t==="click")return kc(a)}function s2(t,a){if(t==="input"||t==="change")return kc(a)}function r2(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var aa=typeof Object.is=="function"?Object.is:r2;function Vi(t,a){if(aa(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var i=Object.keys(t),c=Object.keys(a);if(i.length!==c.length)return!1;for(c=0;c<i.length;c++){var m=i[c];if(!Wn.call(a,m)||!aa(t[m],a[m]))return!1}return!0}function sg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rg(t,a){var i=sg(t);t=0;for(var c;i;){if(i.nodeType===3){if(c=t+i.textContent.length,t<=a&&c>=a)return{node:i,offset:a-t};t=c}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=sg(i)}}function lg(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?lg(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function ig(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=jc(t.document);a instanceof t.HTMLIFrameElement;){try{var i=typeof a.contentWindow.location.href=="string"}catch{i=!1}if(i)t=a.contentWindow;else break;a=jc(t.document)}return a}function lf(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}var l2=ws&&"documentMode"in document&&11>=document.documentMode,Rl=null,of=null,Yi=null,cf=!1;function og(t,a,i){var c=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;cf||Rl==null||Rl!==jc(c)||(c=Rl,"selectionStart"in c&&lf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Yi&&Vi(Yi,c)||(Yi=c,c=gu(of,"onSelect"),0<c.length&&(a=new Cc("onSelect","select",null,a,i),t.push({event:a,listeners:c}),a.target=Rl)))}function Yr(t,a){var i={};return i[t.toLowerCase()]=a.toLowerCase(),i["Webkit"+t]="webkit"+a,i["Moz"+t]="moz"+a,i}var Ol={animationend:Yr("Animation","AnimationEnd"),animationiteration:Yr("Animation","AnimationIteration"),animationstart:Yr("Animation","AnimationStart"),transitionrun:Yr("Transition","TransitionRun"),transitionstart:Yr("Transition","TransitionStart"),transitioncancel:Yr("Transition","TransitionCancel"),transitionend:Yr("Transition","TransitionEnd")},uf={},cg={};ws&&(cg=document.createElement("div").style,"AnimationEvent"in window||(delete Ol.animationend.animation,delete Ol.animationiteration.animation,delete Ol.animationstart.animation),"TransitionEvent"in window||delete Ol.transitionend.transition);function $r(t){if(uf[t])return uf[t];if(!Ol[t])return t;var a=Ol[t],i;for(i in a)if(a.hasOwnProperty(i)&&i in cg)return uf[t]=a[i];return t}var ug=$r("animationend"),dg=$r("animationiteration"),fg=$r("animationstart"),i2=$r("transitionrun"),o2=$r("transitionstart"),c2=$r("transitioncancel"),mg=$r("transitionend"),hg=new Map,df="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");df.push("scrollEnd");function Va(t,a){hg.set(t,a),qa(a,[t])}var Ac=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Na=[],Ml=0,ff=0;function Rc(){for(var t=Ml,a=ff=Ml=0;a<t;){var i=Na[a];Na[a++]=null;var c=Na[a];Na[a++]=null;var m=Na[a];Na[a++]=null;var p=Na[a];if(Na[a++]=null,c!==null&&m!==null){var j=c.pending;j===null?m.next=m:(m.next=j.next,j.next=m),c.pending=m}p!==0&&pg(i,m,p)}}function Oc(t,a,i,c){Na[Ml++]=t,Na[Ml++]=a,Na[Ml++]=i,Na[Ml++]=c,ff|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function mf(t,a,i,c){return Oc(t,a,i,c),Mc(t)}function Qr(t,a){return Oc(t,null,null,a),Mc(t)}function pg(t,a,i){t.lanes|=i;var c=t.alternate;c!==null&&(c.lanes|=i);for(var m=!1,p=t.return;p!==null;)p.childLanes|=i,c=p.alternate,c!==null&&(c.childLanes|=i),p.tag===22&&(t=p.stateNode,t===null||t._visibility&1||(m=!0)),t=p,p=p.return;return t.tag===3?(p=t.stateNode,m&&a!==null&&(m=31-wt(i),t=p.hiddenUpdates,c=t[m],c===null?t[m]=[a]:c.push(a),a.lane=i|536870912),p):null}function Mc(t){if(50<po)throw po=0,jm=null,Error(l(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var Dl={};function u2(t,a,i,c){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sa(t,a,i,c){return new u2(t,a,i,c)}function hf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _s(t,a){var i=t.alternate;return i===null?(i=sa(t.tag,a,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=a,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,a=t.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function xg(t,a){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,a=i.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function Dc(t,a,i,c,m,p){var j=0;if(c=t,typeof t=="function")hf(t)&&(j=1);else if(typeof t=="string")j=pw(t,i,I.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case O:return t=sa(31,i,a,m),t.elementType=O,t.lanes=p,t;case S:return Kr(i.children,m,p,a);case E:j=8,m|=24;break;case w:return t=sa(12,i,a,m|2),t.elementType=w,t.lanes=p,t;case ae:return t=sa(13,i,a,m),t.elementType=ae,t.lanes=p,t;case k:return t=sa(19,i,a,m),t.elementType=k,t.lanes=p,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case D:j=10;break e;case R:j=9;break e;case Q:j=11;break e;case A:j=14;break e;case L:j=16,c=null;break e}j=29,i=Error(l(130,t===null?"null":typeof t,"")),c=null}return a=sa(j,i,a,m),a.elementType=t,a.type=c,a.lanes=p,a}function Kr(t,a,i,c){return t=sa(7,t,c,a),t.lanes=i,t}function pf(t,a,i){return t=sa(6,t,null,a),t.lanes=i,t}function gg(t){var a=sa(18,null,null,0);return a.stateNode=t,a}function xf(t,a,i){return a=sa(4,t.children!==null?t.children:[],t.key,a),a.lanes=i,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}var yg=new WeakMap;function ja(t,a){if(typeof t=="object"&&t!==null){var i=yg.get(t);return i!==void 0?i:(a={value:t,source:a,stack:ya(a)},yg.set(t,a),a)}return{value:t,source:a,stack:ya(a)}}var Ll=[],Il=0,Lc=null,$i=0,Sa=[],Ea=0,tr=null,ts=1,ns="";function Cs(t,a){Ll[Il++]=$i,Ll[Il++]=Lc,Lc=t,$i=a}function vg(t,a,i){Sa[Ea++]=ts,Sa[Ea++]=ns,Sa[Ea++]=tr,tr=t;var c=ts;t=ns;var m=32-wt(c)-1;c&=~(1<<m),i+=1;var p=32-wt(a)+m;if(30<p){var j=m-m%5;p=(c&(1<<j)-1).toString(32),c>>=j,m-=j,ts=1<<32-wt(a)+m|i<<m|c,ns=p+t}else ts=1<<p|i<<m|c,ns=t}function gf(t){t.return!==null&&(Cs(t,1),vg(t,1,0))}function yf(t){for(;t===Lc;)Lc=Ll[--Il],Ll[Il]=null,$i=Ll[--Il],Ll[Il]=null;for(;t===tr;)tr=Sa[--Ea],Sa[Ea]=null,ns=Sa[--Ea],Sa[Ea]=null,ts=Sa[--Ea],Sa[Ea]=null}function bg(t,a){Sa[Ea++]=ts,Sa[Ea++]=ns,Sa[Ea++]=tr,ts=a.id,ns=a.overflow,tr=t}var jn=null,zt=null,pt=!1,nr=null,wa=!1,vf=Error(l(519));function ar(t){var a=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Qi(ja(a,t)),vf}function Ng(t){var a=t.stateNode,i=t.type,c=t.memoizedProps;switch(a[Se]=t,a[Ce]=c,i){case"dialog":ot("cancel",a),ot("close",a);break;case"iframe":case"object":case"embed":ot("load",a);break;case"video":case"audio":for(i=0;i<go.length;i++)ot(go[i],a);break;case"source":ot("error",a);break;case"img":case"image":case"link":ot("error",a),ot("load",a);break;case"details":ot("toggle",a);break;case"input":ot("invalid",a),Dx(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":ot("invalid",a);break;case"textarea":ot("invalid",a),Ix(a,c.value,c.defaultValue,c.children)}i=c.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||a.textContent===""+i||c.suppressHydrationWarning===!0||Uv(a.textContent,i)?(c.popover!=null&&(ot("beforetoggle",a),ot("toggle",a)),c.onScroll!=null&&ot("scroll",a),c.onScrollEnd!=null&&ot("scrollend",a),c.onClick!=null&&(a.onclick=Es),a=!0):a=!1,a||ar(t,!0)}function jg(t){for(jn=t.return;jn;)switch(jn.tag){case 5:case 31:case 13:wa=!1;return;case 27:case 3:wa=!0;return;default:jn=jn.return}}function zl(t){if(t!==jn)return!1;if(!pt)return jg(t),pt=!0,!1;var a=t.tag,i;if((i=a!==3&&a!==27)&&((i=a===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||zm(t.type,t.memoizedProps)),i=!i),i&&zt&&ar(t),jg(t),a===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));zt=$v(t)}else if(a===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));zt=$v(t)}else a===27?(a=zt,gr(t.type)?(t=Hm,Hm=null,zt=t):zt=a):zt=jn?Ca(t.stateNode.nextSibling):null;return!0}function Xr(){zt=jn=null,pt=!1}function bf(){var t=nr;return t!==null&&($n===null?$n=t:$n.push.apply($n,t),nr=null),t}function Qi(t){nr===null?nr=[t]:nr.push(t)}var Nf=z(null),Zr=null,Ts=null;function sr(t,a,i){T(Nf,a._currentValue),a._currentValue=i}function ks(t){t._currentValue=Nf.current,le(Nf)}function jf(t,a,i){for(;t!==null;){var c=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),t===i)break;t=t.return}}function Sf(t,a,i,c){var m=t.child;for(m!==null&&(m.return=t);m!==null;){var p=m.dependencies;if(p!==null){var j=m.child;p=p.firstContext;e:for(;p!==null;){var _=p;p=m;for(var P=0;P<a.length;P++)if(_.context===a[P]){p.lanes|=i,_=p.alternate,_!==null&&(_.lanes|=i),jf(p.return,i,t),c||(j=null);break e}p=_.next}}else if(m.tag===18){if(j=m.return,j===null)throw Error(l(341));j.lanes|=i,p=j.alternate,p!==null&&(p.lanes|=i),jf(j,i,t),j=null}else j=m.child;if(j!==null)j.return=m;else for(j=m;j!==null;){if(j===t){j=null;break}if(m=j.sibling,m!==null){m.return=j.return,j=m;break}j=j.return}m=j}}function Ul(t,a,i,c){t=null;for(var m=a,p=!1;m!==null;){if(!p){if((m.flags&524288)!==0)p=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var j=m.alternate;if(j===null)throw Error(l(387));if(j=j.memoizedProps,j!==null){var _=m.type;aa(m.pendingProps.value,j.value)||(t!==null?t.push(_):t=[_])}}else if(m===Ne.current){if(j=m.alternate,j===null)throw Error(l(387));j.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(t!==null?t.push(jo):t=[jo])}m=m.return}t!==null&&Sf(a,t,i,c),a.flags|=262144}function Ic(t){for(t=t.firstContext;t!==null;){if(!aa(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Jr(t){Zr=t,Ts=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Sn(t){return Sg(Zr,t)}function zc(t,a){return Zr===null&&Jr(t),Sg(t,a)}function Sg(t,a){var i=a._currentValue;if(a={context:a,memoizedValue:i,next:null},Ts===null){if(t===null)throw Error(l(308));Ts=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else Ts=Ts.next=a;return i}var d2=typeof AbortController<"u"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(i,c){t.push(c)}};this.abort=function(){a.aborted=!0,t.forEach(function(i){return i()})}},f2=e.unstable_scheduleCallback,m2=e.unstable_NormalPriority,nn={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ef(){return{controller:new d2,data:new Map,refCount:0}}function Ki(t){t.refCount--,t.refCount===0&&f2(m2,function(){t.controller.abort()})}var Xi=null,wf=0,Pl=0,Bl=null;function h2(t,a){if(Xi===null){var i=Xi=[];wf=0,Pl=Tm(),Bl={status:"pending",value:void 0,then:function(c){i.push(c)}}}return wf++,a.then(Eg,Eg),a}function Eg(){if(--wf===0&&Xi!==null){Bl!==null&&(Bl.status="fulfilled");var t=Xi;Xi=null,Pl=0,Bl=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function p2(t,a){var i=[],c={status:"pending",value:null,reason:null,then:function(m){i.push(m)}};return t.then(function(){c.status="fulfilled",c.value=a;for(var m=0;m<i.length;m++)(0,i[m])(a)},function(m){for(c.status="rejected",c.reason=m,m=0;m<i.length;m++)(0,i[m])(void 0)}),c}var wg=B.S;B.S=function(t,a){ov=bt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&h2(t,a),wg!==null&&wg(t,a)};var Wr=z(null);function _f(){var t=Wr.current;return t!==null?t:Ot.pooledCache}function Uc(t,a){a===null?T(Wr,Wr.current):T(Wr,a.pool)}function _g(){var t=_f();return t===null?null:{parent:nn._currentValue,pool:t}}var Fl=Error(l(460)),Cf=Error(l(474)),Pc=Error(l(542)),Bc={then:function(){}};function Cg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Tg(t,a,i){switch(i=t[i],i===void 0?t.push(a):i!==a&&(a.then(Es,Es),a=i),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,Ag(t),t;default:if(typeof a.status=="string")a.then(Es,Es);else{if(t=Ot,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=a,t.status="pending",t.then(function(c){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=c}},function(c){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,Ag(t),t}throw tl=a,Fl}}function el(t){try{var a=t._init;return a(t._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(tl=i,Fl):i}}var tl=null;function kg(){if(tl===null)throw Error(l(459));var t=tl;return tl=null,t}function Ag(t){if(t===Fl||t===Pc)throw Error(l(483))}var Hl=null,Zi=0;function Fc(t){var a=Zi;return Zi+=1,Hl===null&&(Hl=[]),Tg(Hl,t,a)}function Ji(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function Hc(t,a){throw a.$$typeof===b?Error(l(525)):(t=Object.prototype.toString.call(a),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function Rg(t){function a($,H){if(t){var W=$.deletions;W===null?($.deletions=[H],$.flags|=16):W.push(H)}}function i($,H){if(!t)return null;for(;H!==null;)a($,H),H=H.sibling;return null}function c($){for(var H=new Map;$!==null;)$.key!==null?H.set($.key,$):H.set($.index,$),$=$.sibling;return H}function m($,H){return $=_s($,H),$.index=0,$.sibling=null,$}function p($,H,W){return $.index=W,t?(W=$.alternate,W!==null?(W=W.index,W<H?($.flags|=67108866,H):W):($.flags|=67108866,H)):($.flags|=1048576,H)}function j($){return t&&$.alternate===null&&($.flags|=67108866),$}function _($,H,W,de){return H===null||H.tag!==6?(H=pf(W,$.mode,de),H.return=$,H):(H=m(H,W),H.return=$,H)}function P($,H,W,de){var qe=W.type;return qe===S?ue($,H,W.props.children,de,W.key):H!==null&&(H.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===L&&el(qe)===H.type)?(H=m(H,W.props),Ji(H,W),H.return=$,H):(H=Dc(W.type,W.key,W.props,null,$.mode,de),Ji(H,W),H.return=$,H)}function te($,H,W,de){return H===null||H.tag!==4||H.stateNode.containerInfo!==W.containerInfo||H.stateNode.implementation!==W.implementation?(H=xf(W,$.mode,de),H.return=$,H):(H=m(H,W.children||[]),H.return=$,H)}function ue($,H,W,de,qe){return H===null||H.tag!==7?(H=Kr(W,$.mode,de,qe),H.return=$,H):(H=m(H,W),H.return=$,H)}function me($,H,W){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=pf(""+H,$.mode,W),H.return=$,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case N:return W=Dc(H.type,H.key,H.props,null,$.mode,W),Ji(W,H),W.return=$,W;case C:return H=xf(H,$.mode,W),H.return=$,H;case L:return H=el(H),me($,H,W)}if(ne(H)||Y(H))return H=Kr(H,$.mode,W,null),H.return=$,H;if(typeof H.then=="function")return me($,Fc(H),W);if(H.$$typeof===D)return me($,zc($,H),W);Hc($,H)}return null}function se($,H,W,de){var qe=H!==null?H.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return qe!==null?null:_($,H,""+W,de);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case N:return W.key===qe?P($,H,W,de):null;case C:return W.key===qe?te($,H,W,de):null;case L:return W=el(W),se($,H,W,de)}if(ne(W)||Y(W))return qe!==null?null:ue($,H,W,de,null);if(typeof W.then=="function")return se($,H,Fc(W),de);if(W.$$typeof===D)return se($,H,zc($,W),de);Hc($,W)}return null}function oe($,H,W,de,qe){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return $=$.get(W)||null,_(H,$,""+de,qe);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case N:return $=$.get(de.key===null?W:de.key)||null,P(H,$,de,qe);case C:return $=$.get(de.key===null?W:de.key)||null,te(H,$,de,qe);case L:return de=el(de),oe($,H,W,de,qe)}if(ne(de)||Y(de))return $=$.get(W)||null,ue(H,$,de,qe,null);if(typeof de.then=="function")return oe($,H,W,Fc(de),qe);if(de.$$typeof===D)return oe($,H,W,zc(H,de),qe);Hc(H,de)}return null}function Ae($,H,W,de){for(var qe=null,yt=null,Le=H,nt=H=0,ut=null;Le!==null&&nt<W.length;nt++){Le.index>nt?(ut=Le,Le=null):ut=Le.sibling;var vt=se($,Le,W[nt],de);if(vt===null){Le===null&&(Le=ut);break}t&&Le&&vt.alternate===null&&a($,Le),H=p(vt,H,nt),yt===null?qe=vt:yt.sibling=vt,yt=vt,Le=ut}if(nt===W.length)return i($,Le),pt&&Cs($,nt),qe;if(Le===null){for(;nt<W.length;nt++)Le=me($,W[nt],de),Le!==null&&(H=p(Le,H,nt),yt===null?qe=Le:yt.sibling=Le,yt=Le);return pt&&Cs($,nt),qe}for(Le=c(Le);nt<W.length;nt++)ut=oe(Le,$,nt,W[nt],de),ut!==null&&(t&&ut.alternate!==null&&Le.delete(ut.key===null?nt:ut.key),H=p(ut,H,nt),yt===null?qe=ut:yt.sibling=ut,yt=ut);return t&&Le.forEach(function(jr){return a($,jr)}),pt&&Cs($,nt),qe}function Ye($,H,W,de){if(W==null)throw Error(l(151));for(var qe=null,yt=null,Le=H,nt=H=0,ut=null,vt=W.next();Le!==null&&!vt.done;nt++,vt=W.next()){Le.index>nt?(ut=Le,Le=null):ut=Le.sibling;var jr=se($,Le,vt.value,de);if(jr===null){Le===null&&(Le=ut);break}t&&Le&&jr.alternate===null&&a($,Le),H=p(jr,H,nt),yt===null?qe=jr:yt.sibling=jr,yt=jr,Le=ut}if(vt.done)return i($,Le),pt&&Cs($,nt),qe;if(Le===null){for(;!vt.done;nt++,vt=W.next())vt=me($,vt.value,de),vt!==null&&(H=p(vt,H,nt),yt===null?qe=vt:yt.sibling=vt,yt=vt);return pt&&Cs($,nt),qe}for(Le=c(Le);!vt.done;nt++,vt=W.next())vt=oe(Le,$,nt,vt.value,de),vt!==null&&(t&&vt.alternate!==null&&Le.delete(vt.key===null?nt:vt.key),H=p(vt,H,nt),yt===null?qe=vt:yt.sibling=vt,yt=vt);return t&&Le.forEach(function(_w){return a($,_w)}),pt&&Cs($,nt),qe}function Rt($,H,W,de){if(typeof W=="object"&&W!==null&&W.type===S&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case N:e:{for(var qe=W.key;H!==null;){if(H.key===qe){if(qe=W.type,qe===S){if(H.tag===7){i($,H.sibling),de=m(H,W.props.children),de.return=$,$=de;break e}}else if(H.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===L&&el(qe)===H.type){i($,H.sibling),de=m(H,W.props),Ji(de,W),de.return=$,$=de;break e}i($,H);break}else a($,H);H=H.sibling}W.type===S?(de=Kr(W.props.children,$.mode,de,W.key),de.return=$,$=de):(de=Dc(W.type,W.key,W.props,null,$.mode,de),Ji(de,W),de.return=$,$=de)}return j($);case C:e:{for(qe=W.key;H!==null;){if(H.key===qe)if(H.tag===4&&H.stateNode.containerInfo===W.containerInfo&&H.stateNode.implementation===W.implementation){i($,H.sibling),de=m(H,W.children||[]),de.return=$,$=de;break e}else{i($,H);break}else a($,H);H=H.sibling}de=xf(W,$.mode,de),de.return=$,$=de}return j($);case L:return W=el(W),Rt($,H,W,de)}if(ne(W))return Ae($,H,W,de);if(Y(W)){if(qe=Y(W),typeof qe!="function")throw Error(l(150));return W=qe.call(W),Ye($,H,W,de)}if(typeof W.then=="function")return Rt($,H,Fc(W),de);if(W.$$typeof===D)return Rt($,H,zc($,W),de);Hc($,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,H!==null&&H.tag===6?(i($,H.sibling),de=m(H,W),de.return=$,$=de):(i($,H),de=pf(W,$.mode,de),de.return=$,$=de),j($)):i($,H)}return function($,H,W,de){try{Zi=0;var qe=Rt($,H,W,de);return Hl=null,qe}catch(Le){if(Le===Fl||Le===Pc)throw Le;var yt=sa(29,Le,null,$.mode);return yt.lanes=de,yt.return=$,yt}}}var nl=Rg(!0),Og=Rg(!1),rr=!1;function Tf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kf(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function lr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ir(t,a,i){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(Nt&2)!==0){var m=c.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),c.pending=a,a=Mc(t),pg(t,null,i),a}return Oc(t,c,a,i),Mc(t)}function Wi(t,a,i){if(a=a.updateQueue,a!==null&&(a=a.shared,(i&4194048)!==0)){var c=a.lanes;c&=t.pendingLanes,i|=c,a.lanes=i,U(t,i)}}function Af(t,a){var i=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,i===c)){var m=null,p=null;if(i=i.firstBaseUpdate,i!==null){do{var j={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};p===null?m=p=j:p=p.next=j,i=i.next}while(i!==null);p===null?m=p=a:p=p.next=a}else m=p=a;i={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=a:t.next=a,i.lastBaseUpdate=a}var Rf=!1;function eo(){if(Rf){var t=Bl;if(t!==null)throw t}}function to(t,a,i,c){Rf=!1;var m=t.updateQueue;rr=!1;var p=m.firstBaseUpdate,j=m.lastBaseUpdate,_=m.shared.pending;if(_!==null){m.shared.pending=null;var P=_,te=P.next;P.next=null,j===null?p=te:j.next=te,j=P;var ue=t.alternate;ue!==null&&(ue=ue.updateQueue,_=ue.lastBaseUpdate,_!==j&&(_===null?ue.firstBaseUpdate=te:_.next=te,ue.lastBaseUpdate=P))}if(p!==null){var me=m.baseState;j=0,ue=te=P=null,_=p;do{var se=_.lane&-536870913,oe=se!==_.lane;if(oe?(ct&se)===se:(c&se)===se){se!==0&&se===Pl&&(Rf=!0),ue!==null&&(ue=ue.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var Ae=t,Ye=_;se=a;var Rt=i;switch(Ye.tag){case 1:if(Ae=Ye.payload,typeof Ae=="function"){me=Ae.call(Rt,me,se);break e}me=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Ye.payload,se=typeof Ae=="function"?Ae.call(Rt,me,se):Ae,se==null)break e;me=y({},me,se);break e;case 2:rr=!0}}se=_.callback,se!==null&&(t.flags|=64,oe&&(t.flags|=8192),oe=m.callbacks,oe===null?m.callbacks=[se]:oe.push(se))}else oe={lane:se,tag:_.tag,payload:_.payload,callback:_.callback,next:null},ue===null?(te=ue=oe,P=me):ue=ue.next=oe,j|=se;if(_=_.next,_===null){if(_=m.shared.pending,_===null)break;oe=_,_=oe.next,oe.next=null,m.lastBaseUpdate=oe,m.shared.pending=null}}while(!0);ue===null&&(P=me),m.baseState=P,m.firstBaseUpdate=te,m.lastBaseUpdate=ue,p===null&&(m.shared.lanes=0),fr|=j,t.lanes=j,t.memoizedState=me}}function Mg(t,a){if(typeof t!="function")throw Error(l(191,t));t.call(a)}function Dg(t,a){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)Mg(i[t],a)}var ql=z(null),qc=z(0);function Lg(t,a){t=Us,T(qc,t),T(ql,a),Us=t|a.baseLanes}function Of(){T(qc,Us),T(ql,ql.current)}function Mf(){Us=qc.current,le(ql),le(qc)}var ra=z(null),_a=null;function or(t){var a=t.alternate;T(Jt,Jt.current&1),T(ra,t),_a===null&&(a===null||ql.current!==null||a.memoizedState!==null)&&(_a=t)}function Df(t){T(Jt,Jt.current),T(ra,t),_a===null&&(_a=t)}function Ig(t){t.tag===22?(T(Jt,Jt.current),T(ra,t),_a===null&&(_a=t)):cr()}function cr(){T(Jt,Jt.current),T(ra,ra.current)}function la(t){le(ra),_a===t&&(_a=null),le(Jt)}var Jt=z(0);function Gc(t){for(var a=t;a!==null;){if(a.tag===13){var i=a.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Bm(i)||Fm(i)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var As=0,We=null,kt=null,an=null,Vc=!1,Gl=!1,al=!1,Yc=0,no=0,Vl=null,x2=0;function Qt(){throw Error(l(321))}function Lf(t,a){if(a===null)return!1;for(var i=0;i<a.length&&i<t.length;i++)if(!aa(t[i],a[i]))return!1;return!0}function If(t,a,i,c,m,p){return As=p,We=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,B.H=t===null||t.memoizedState===null?vy:Zf,al=!1,p=i(c,m),al=!1,Gl&&(p=Ug(a,i,c,m)),zg(t),p}function zg(t){B.H=ro;var a=kt!==null&&kt.next!==null;if(As=0,an=kt=We=null,Vc=!1,no=0,Vl=null,a)throw Error(l(300));t===null||sn||(t=t.dependencies,t!==null&&Ic(t)&&(sn=!0))}function Ug(t,a,i,c){We=t;var m=0;do{if(Gl&&(Vl=null),no=0,Gl=!1,25<=m)throw Error(l(301));if(m+=1,an=kt=null,t.updateQueue!=null){var p=t.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}B.H=by,p=a(i,c)}while(Gl);return p}function g2(){var t=B.H,a=t.useState()[0];return a=typeof a.then=="function"?ao(a):a,t=t.useState()[0],(kt!==null?kt.memoizedState:null)!==t&&(We.flags|=1024),a}function zf(){var t=Yc!==0;return Yc=0,t}function Uf(t,a,i){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~i}function Pf(t){if(Vc){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}Vc=!1}As=0,an=kt=We=null,Gl=!1,no=Yc=0,Vl=null}function zn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?We.memoizedState=an=t:an=an.next=t,an}function Wt(){if(kt===null){var t=We.alternate;t=t!==null?t.memoizedState:null}else t=kt.next;var a=an===null?We.memoizedState:an.next;if(a!==null)an=a,kt=t;else{if(t===null)throw We.alternate===null?Error(l(467)):Error(l(310));kt=t,t={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},an===null?We.memoizedState=an=t:an=an.next=t}return an}function $c(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ao(t){var a=no;return no+=1,Vl===null&&(Vl=[]),t=Tg(Vl,t,a),a=We,(an===null?a.memoizedState:an.next)===null&&(a=a.alternate,B.H=a===null||a.memoizedState===null?vy:Zf),t}function Qc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ao(t);if(t.$$typeof===D)return Sn(t)}throw Error(l(438,String(t)))}function Bf(t){var a=null,i=We.updateQueue;if(i!==null&&(a=i.memoCache),a==null){var c=We.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),i===null&&(i=$c(),We.updateQueue=i),i.memoCache=a,i=a.data[a.index],i===void 0)for(i=a.data[a.index]=Array(t),c=0;c<t;c++)i[c]=X;return a.index++,i}function Rs(t,a){return typeof a=="function"?a(t):a}function Kc(t){var a=Wt();return Ff(a,kt,t)}function Ff(t,a,i){var c=t.queue;if(c===null)throw Error(l(311));c.lastRenderedReducer=i;var m=t.baseQueue,p=c.pending;if(p!==null){if(m!==null){var j=m.next;m.next=p.next,p.next=j}a.baseQueue=m=p,c.pending=null}if(p=t.baseState,m===null)t.memoizedState=p;else{a=m.next;var _=j=null,P=null,te=a,ue=!1;do{var me=te.lane&-536870913;if(me!==te.lane?(ct&me)===me:(As&me)===me){var se=te.revertLane;if(se===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),me===Pl&&(ue=!0);else if((As&se)===se){te=te.next,se===Pl&&(ue=!0);continue}else me={lane:0,revertLane:te.revertLane,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},P===null?(_=P=me,j=p):P=P.next=me,We.lanes|=se,fr|=se;me=te.action,al&&i(p,me),p=te.hasEagerState?te.eagerState:i(p,me)}else se={lane:me,revertLane:te.revertLane,gesture:te.gesture,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},P===null?(_=P=se,j=p):P=P.next=se,We.lanes|=me,fr|=me;te=te.next}while(te!==null&&te!==a);if(P===null?j=p:P.next=_,!aa(p,t.memoizedState)&&(sn=!0,ue&&(i=Bl,i!==null)))throw i;t.memoizedState=p,t.baseState=j,t.baseQueue=P,c.lastRenderedState=p}return m===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function Hf(t){var a=Wt(),i=a.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=t;var c=i.dispatch,m=i.pending,p=a.memoizedState;if(m!==null){i.pending=null;var j=m=m.next;do p=t(p,j.action),j=j.next;while(j!==m);aa(p,a.memoizedState)||(sn=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),i.lastRenderedState=p}return[p,c]}function Pg(t,a,i){var c=We,m=Wt(),p=pt;if(p){if(i===void 0)throw Error(l(407));i=i()}else i=a();var j=!aa((kt||m).memoizedState,i);if(j&&(m.memoizedState=i,sn=!0),m=m.queue,Vf(Hg.bind(null,c,m,t),[t]),m.getSnapshot!==a||j||an!==null&&an.memoizedState.tag&1){if(c.flags|=2048,Yl(9,{destroy:void 0},Fg.bind(null,c,m,i,a),null),Ot===null)throw Error(l(349));p||(As&127)!==0||Bg(c,a,i)}return i}function Bg(t,a,i){t.flags|=16384,t={getSnapshot:a,value:i},a=We.updateQueue,a===null?(a=$c(),We.updateQueue=a,a.stores=[t]):(i=a.stores,i===null?a.stores=[t]:i.push(t))}function Fg(t,a,i,c){a.value=i,a.getSnapshot=c,qg(a)&&Gg(t)}function Hg(t,a,i){return i(function(){qg(a)&&Gg(t)})}function qg(t){var a=t.getSnapshot;t=t.value;try{var i=a();return!aa(t,i)}catch{return!0}}function Gg(t){var a=Qr(t,2);a!==null&&Qn(a,t,2)}function qf(t){var a=zn();if(typeof t=="function"){var i=t;if(t=i(),al){bn(!0);try{i()}finally{bn(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:t},a}function Vg(t,a,i,c){return t.baseState=i,Ff(t,kt,typeof c=="function"?c:Rs)}function y2(t,a,i,c,m){if(Jc(t))throw Error(l(485));if(t=a.action,t!==null){var p={payload:m,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){p.listeners.push(j)}};B.T!==null?i(!0):p.isTransition=!1,c(p),i=a.pending,i===null?(p.next=a.pending=p,Yg(a,p)):(p.next=i.next,a.pending=i.next=p)}}function Yg(t,a){var i=a.action,c=a.payload,m=t.state;if(a.isTransition){var p=B.T,j={};B.T=j;try{var _=i(m,c),P=B.S;P!==null&&P(j,_),$g(t,a,_)}catch(te){Gf(t,a,te)}finally{p!==null&&j.types!==null&&(p.types=j.types),B.T=p}}else try{p=i(m,c),$g(t,a,p)}catch(te){Gf(t,a,te)}}function $g(t,a,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(c){Qg(t,a,c)},function(c){return Gf(t,a,c)}):Qg(t,a,i)}function Qg(t,a,i){a.status="fulfilled",a.value=i,Kg(a),t.state=i,a=t.pending,a!==null&&(i=a.next,i===a?t.pending=null:(i=i.next,a.next=i,Yg(t,i)))}function Gf(t,a,i){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=i,Kg(a),a=a.next;while(a!==c)}t.action=null}function Kg(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function Xg(t,a){return a}function Zg(t,a){if(pt){var i=Ot.formState;if(i!==null){e:{var c=We;if(pt){if(zt){t:{for(var m=zt,p=wa;m.nodeType!==8;){if(!p){m=null;break t}if(m=Ca(m.nextSibling),m===null){m=null;break t}}p=m.data,m=p==="F!"||p==="F"?m:null}if(m){zt=Ca(m.nextSibling),c=m.data==="F!";break e}}ar(c)}c=!1}c&&(a=i[0])}}return i=zn(),i.memoizedState=i.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xg,lastRenderedState:a},i.queue=c,i=xy.bind(null,We,c),c.dispatch=i,c=qf(!1),p=Xf.bind(null,We,!1,c.queue),c=zn(),m={state:a,dispatch:null,action:t,pending:null},c.queue=m,i=y2.bind(null,We,m,p,i),m.dispatch=i,c.memoizedState=t,[a,i,!1]}function Jg(t){var a=Wt();return Wg(a,kt,t)}function Wg(t,a,i){if(a=Ff(t,a,Xg)[0],t=Kc(Rs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=ao(a)}catch(j){throw j===Fl?Pc:j}else c=a;a=Wt();var m=a.queue,p=m.dispatch;return i!==a.memoizedState&&(We.flags|=2048,Yl(9,{destroy:void 0},v2.bind(null,m,i),null)),[c,p,t]}function v2(t,a){t.action=a}function ey(t){var a=Wt(),i=kt;if(i!==null)return Wg(a,i,t);Wt(),a=a.memoizedState,i=Wt();var c=i.queue.dispatch;return i.memoizedState=t,[a,c,!1]}function Yl(t,a,i,c){return t={tag:t,create:i,deps:c,inst:a,next:null},a=We.updateQueue,a===null&&(a=$c(),We.updateQueue=a),i=a.lastEffect,i===null?a.lastEffect=t.next=t:(c=i.next,i.next=t,t.next=c,a.lastEffect=t),t}function ty(){return Wt().memoizedState}function Xc(t,a,i,c){var m=zn();We.flags|=t,m.memoizedState=Yl(1|a,{destroy:void 0},i,c===void 0?null:c)}function Zc(t,a,i,c){var m=Wt();c=c===void 0?null:c;var p=m.memoizedState.inst;kt!==null&&c!==null&&Lf(c,kt.memoizedState.deps)?m.memoizedState=Yl(a,p,i,c):(We.flags|=t,m.memoizedState=Yl(1|a,p,i,c))}function ny(t,a){Xc(8390656,8,t,a)}function Vf(t,a){Zc(2048,8,t,a)}function b2(t){We.flags|=4;var a=We.updateQueue;if(a===null)a=$c(),We.updateQueue=a,a.events=[t];else{var i=a.events;i===null?a.events=[t]:i.push(t)}}function ay(t){var a=Wt().memoizedState;return b2({ref:a,nextImpl:t}),function(){if((Nt&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}function sy(t,a){return Zc(4,2,t,a)}function ry(t,a){return Zc(4,4,t,a)}function ly(t,a){if(typeof a=="function"){t=t();var i=a(t);return function(){typeof i=="function"?i():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function iy(t,a,i){i=i!=null?i.concat([t]):null,Zc(4,4,ly.bind(null,a,t),i)}function Yf(){}function oy(t,a){var i=Wt();a=a===void 0?null:a;var c=i.memoizedState;return a!==null&&Lf(a,c[1])?c[0]:(i.memoizedState=[t,a],t)}function cy(t,a){var i=Wt();a=a===void 0?null:a;var c=i.memoizedState;if(a!==null&&Lf(a,c[1]))return c[0];if(c=t(),al){bn(!0);try{t()}finally{bn(!1)}}return i.memoizedState=[c,a],c}function $f(t,a,i){return i===void 0||(As&1073741824)!==0&&(ct&261930)===0?t.memoizedState=a:(t.memoizedState=i,t=uv(),We.lanes|=t,fr|=t,i)}function uy(t,a,i,c){return aa(i,a)?i:ql.current!==null?(t=$f(t,i,c),aa(t,a)||(sn=!0),t):(As&42)===0||(As&1073741824)!==0&&(ct&261930)===0?(sn=!0,t.memoizedState=i):(t=uv(),We.lanes|=t,fr|=t,a)}function dy(t,a,i,c,m){var p=F.p;F.p=p!==0&&8>p?p:8;var j=B.T,_={};B.T=_,Xf(t,!1,a,i);try{var P=m(),te=B.S;if(te!==null&&te(_,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var ue=p2(P,c);so(t,a,ue,ca(t))}else so(t,a,c,ca(t))}catch(me){so(t,a,{then:function(){},status:"rejected",reason:me},ca())}finally{F.p=p,j!==null&&_.types!==null&&(j.types=_.types),B.T=j}}function N2(){}function Qf(t,a,i,c){if(t.tag!==5)throw Error(l(476));var m=fy(t).queue;dy(t,m,a,q,i===null?N2:function(){return my(t),i(c)})}function fy(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:q},next:null};var i={};return a.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:i},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function my(t){var a=fy(t);a.next===null&&(a=t.alternate.memoizedState),so(t,a.next.queue,{},ca())}function Kf(){return Sn(jo)}function hy(){return Wt().memoizedState}function py(){return Wt().memoizedState}function j2(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var i=ca();t=lr(i);var c=ir(a,t,i);c!==null&&(Qn(c,a,i),Wi(c,a,i)),a={cache:Ef()},t.payload=a;return}a=a.return}}function S2(t,a,i){var c=ca();i={lane:c,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Jc(t)?gy(a,i):(i=mf(t,a,i,c),i!==null&&(Qn(i,t,c),yy(i,a,c)))}function xy(t,a,i){var c=ca();so(t,a,i,c)}function so(t,a,i,c){var m={lane:c,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Jc(t))gy(a,m);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var j=a.lastRenderedState,_=p(j,i);if(m.hasEagerState=!0,m.eagerState=_,aa(_,j))return Oc(t,a,m,0),Ot===null&&Rc(),!1}catch{}if(i=mf(t,a,m,c),i!==null)return Qn(i,t,c),yy(i,a,c),!0}return!1}function Xf(t,a,i,c){if(c={lane:2,revertLane:Tm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Jc(t)){if(a)throw Error(l(479))}else a=mf(t,i,c,2),a!==null&&Qn(a,t,2)}function Jc(t){var a=t.alternate;return t===We||a!==null&&a===We}function gy(t,a){Gl=Vc=!0;var i=t.pending;i===null?a.next=a:(a.next=i.next,i.next=a),t.pending=a}function yy(t,a,i){if((i&4194048)!==0){var c=a.lanes;c&=t.pendingLanes,i|=c,a.lanes=i,U(t,i)}}var ro={readContext:Sn,use:Qc,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useLayoutEffect:Qt,useInsertionEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useSyncExternalStore:Qt,useId:Qt,useHostTransitionStatus:Qt,useFormState:Qt,useActionState:Qt,useOptimistic:Qt,useMemoCache:Qt,useCacheRefresh:Qt};ro.useEffectEvent=Qt;var vy={readContext:Sn,use:Qc,useCallback:function(t,a){return zn().memoizedState=[t,a===void 0?null:a],t},useContext:Sn,useEffect:ny,useImperativeHandle:function(t,a,i){i=i!=null?i.concat([t]):null,Xc(4194308,4,ly.bind(null,a,t),i)},useLayoutEffect:function(t,a){return Xc(4194308,4,t,a)},useInsertionEffect:function(t,a){Xc(4,2,t,a)},useMemo:function(t,a){var i=zn();a=a===void 0?null:a;var c=t();if(al){bn(!0);try{t()}finally{bn(!1)}}return i.memoizedState=[c,a],c},useReducer:function(t,a,i){var c=zn();if(i!==void 0){var m=i(a);if(al){bn(!0);try{i(a)}finally{bn(!1)}}}else m=a;return c.memoizedState=c.baseState=m,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:m},c.queue=t,t=t.dispatch=S2.bind(null,We,t),[c.memoizedState,t]},useRef:function(t){var a=zn();return t={current:t},a.memoizedState=t},useState:function(t){t=qf(t);var a=t.queue,i=xy.bind(null,We,a);return a.dispatch=i,[t.memoizedState,i]},useDebugValue:Yf,useDeferredValue:function(t,a){var i=zn();return $f(i,t,a)},useTransition:function(){var t=qf(!1);return t=dy.bind(null,We,t.queue,!0,!1),zn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,i){var c=We,m=zn();if(pt){if(i===void 0)throw Error(l(407));i=i()}else{if(i=a(),Ot===null)throw Error(l(349));(ct&127)!==0||Bg(c,a,i)}m.memoizedState=i;var p={value:i,getSnapshot:a};return m.queue=p,ny(Hg.bind(null,c,p,t),[t]),c.flags|=2048,Yl(9,{destroy:void 0},Fg.bind(null,c,p,i,a),null),i},useId:function(){var t=zn(),a=Ot.identifierPrefix;if(pt){var i=ns,c=ts;i=(c&~(1<<32-wt(c)-1)).toString(32)+i,a="_"+a+"R_"+i,i=Yc++,0<i&&(a+="H"+i.toString(32)),a+="_"}else i=x2++,a="_"+a+"r_"+i.toString(32)+"_";return t.memoizedState=a},useHostTransitionStatus:Kf,useFormState:Zg,useActionState:Zg,useOptimistic:function(t){var a=zn();a.memoizedState=a.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=i,a=Xf.bind(null,We,!0,i),i.dispatch=a,[t,a]},useMemoCache:Bf,useCacheRefresh:function(){return zn().memoizedState=j2.bind(null,We)},useEffectEvent:function(t){var a=zn(),i={impl:t};return a.memoizedState=i,function(){if((Nt&2)!==0)throw Error(l(440));return i.impl.apply(void 0,arguments)}}},Zf={readContext:Sn,use:Qc,useCallback:oy,useContext:Sn,useEffect:Vf,useImperativeHandle:iy,useInsertionEffect:sy,useLayoutEffect:ry,useMemo:cy,useReducer:Kc,useRef:ty,useState:function(){return Kc(Rs)},useDebugValue:Yf,useDeferredValue:function(t,a){var i=Wt();return uy(i,kt.memoizedState,t,a)},useTransition:function(){var t=Kc(Rs)[0],a=Wt().memoizedState;return[typeof t=="boolean"?t:ao(t),a]},useSyncExternalStore:Pg,useId:hy,useHostTransitionStatus:Kf,useFormState:Jg,useActionState:Jg,useOptimistic:function(t,a){var i=Wt();return Vg(i,kt,t,a)},useMemoCache:Bf,useCacheRefresh:py};Zf.useEffectEvent=ay;var by={readContext:Sn,use:Qc,useCallback:oy,useContext:Sn,useEffect:Vf,useImperativeHandle:iy,useInsertionEffect:sy,useLayoutEffect:ry,useMemo:cy,useReducer:Hf,useRef:ty,useState:function(){return Hf(Rs)},useDebugValue:Yf,useDeferredValue:function(t,a){var i=Wt();return kt===null?$f(i,t,a):uy(i,kt.memoizedState,t,a)},useTransition:function(){var t=Hf(Rs)[0],a=Wt().memoizedState;return[typeof t=="boolean"?t:ao(t),a]},useSyncExternalStore:Pg,useId:hy,useHostTransitionStatus:Kf,useFormState:ey,useActionState:ey,useOptimistic:function(t,a){var i=Wt();return kt!==null?Vg(i,kt,t,a):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:Bf,useCacheRefresh:py};by.useEffectEvent=ay;function Jf(t,a,i,c){a=t.memoizedState,i=i(c,a),i=i==null?a:y({},a,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var Wf={enqueueSetState:function(t,a,i){t=t._reactInternals;var c=ca(),m=lr(c);m.payload=a,i!=null&&(m.callback=i),a=ir(t,m,c),a!==null&&(Qn(a,t,c),Wi(a,t,c))},enqueueReplaceState:function(t,a,i){t=t._reactInternals;var c=ca(),m=lr(c);m.tag=1,m.payload=a,i!=null&&(m.callback=i),a=ir(t,m,c),a!==null&&(Qn(a,t,c),Wi(a,t,c))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var i=ca(),c=lr(i);c.tag=2,a!=null&&(c.callback=a),a=ir(t,c,i),a!==null&&(Qn(a,t,i),Wi(a,t,i))}};function Ny(t,a,i,c,m,p,j){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,p,j):a.prototype&&a.prototype.isPureReactComponent?!Vi(i,c)||!Vi(m,p):!0}function jy(t,a,i,c){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(i,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(i,c),a.state!==t&&Wf.enqueueReplaceState(a,a.state,null)}function sl(t,a){var i=a;if("ref"in a){i={};for(var c in a)c!=="ref"&&(i[c]=a[c])}if(t=t.defaultProps){i===a&&(i=y({},i));for(var m in t)i[m]===void 0&&(i[m]=t[m])}return i}function Sy(t){Ac(t)}function Ey(t){console.error(t)}function wy(t){Ac(t)}function Wc(t,a){try{var i=t.onUncaughtError;i(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function _y(t,a,i){try{var c=t.onCaughtError;c(i.value,{componentStack:i.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function em(t,a,i){return i=lr(i),i.tag=3,i.payload={element:null},i.callback=function(){Wc(t,a)},i}function Cy(t){return t=lr(t),t.tag=3,t}function Ty(t,a,i,c){var m=i.type.getDerivedStateFromError;if(typeof m=="function"){var p=c.value;t.payload=function(){return m(p)},t.callback=function(){_y(a,i,c)}}var j=i.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(t.callback=function(){_y(a,i,c),typeof m!="function"&&(mr===null?mr=new Set([this]):mr.add(this));var _=c.stack;this.componentDidCatch(c.value,{componentStack:_!==null?_:""})})}function E2(t,a,i,c,m){if(i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=i.alternate,a!==null&&Ul(a,i,m,!0),i=ra.current,i!==null){switch(i.tag){case 31:case 13:return _a===null?du():i.alternate===null&&Kt===0&&(Kt=3),i.flags&=-257,i.flags|=65536,i.lanes=m,c===Bc?i.flags|=16384:(a=i.updateQueue,a===null?i.updateQueue=new Set([c]):a.add(c),wm(t,c,m)),!1;case 22:return i.flags|=65536,c===Bc?i.flags|=16384:(a=i.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},i.updateQueue=a):(i=a.retryQueue,i===null?a.retryQueue=new Set([c]):i.add(c)),wm(t,c,m)),!1}throw Error(l(435,i.tag))}return wm(t,c,m),du(),!1}if(pt)return a=ra.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,c!==vf&&(t=Error(l(422),{cause:c}),Qi(ja(t,i)))):(c!==vf&&(a=Error(l(423),{cause:c}),Qi(ja(a,i))),t=t.current.alternate,t.flags|=65536,m&=-m,t.lanes|=m,c=ja(c,i),m=em(t.stateNode,c,m),Af(t,m),Kt!==4&&(Kt=2)),!1;var p=Error(l(520),{cause:c});if(p=ja(p,i),ho===null?ho=[p]:ho.push(p),Kt!==4&&(Kt=2),a===null)return!0;c=ja(c,i),i=a;do{switch(i.tag){case 3:return i.flags|=65536,t=m&-m,i.lanes|=t,t=em(i.stateNode,c,t),Af(i,t),!1;case 1:if(a=i.type,p=i.stateNode,(i.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(mr===null||!mr.has(p))))return i.flags|=65536,m&=-m,i.lanes|=m,m=Cy(m),Ty(m,t,i,c),Af(i,m),!1}i=i.return}while(i!==null);return!1}var tm=Error(l(461)),sn=!1;function En(t,a,i,c){a.child=t===null?Og(a,null,i,c):nl(a,t.child,i,c)}function ky(t,a,i,c,m){i=i.render;var p=a.ref;if("ref"in c){var j={};for(var _ in c)_!=="ref"&&(j[_]=c[_])}else j=c;return Jr(a),c=If(t,a,i,j,p,m),_=zf(),t!==null&&!sn?(Uf(t,a,m),Os(t,a,m)):(pt&&_&&gf(a),a.flags|=1,En(t,a,c,m),a.child)}function Ay(t,a,i,c,m){if(t===null){var p=i.type;return typeof p=="function"&&!hf(p)&&p.defaultProps===void 0&&i.compare===null?(a.tag=15,a.type=p,Ry(t,a,p,c,m)):(t=Dc(i.type,null,c,a,a.mode,m),t.ref=a.ref,t.return=a,a.child=t)}if(p=t.child,!cm(t,m)){var j=p.memoizedProps;if(i=i.compare,i=i!==null?i:Vi,i(j,c)&&t.ref===a.ref)return Os(t,a,m)}return a.flags|=1,t=_s(p,c),t.ref=a.ref,t.return=a,a.child=t}function Ry(t,a,i,c,m){if(t!==null){var p=t.memoizedProps;if(Vi(p,c)&&t.ref===a.ref)if(sn=!1,a.pendingProps=c=p,cm(t,m))(t.flags&131072)!==0&&(sn=!0);else return a.lanes=t.lanes,Os(t,a,m)}return nm(t,a,i,c,m)}function Oy(t,a,i,c){var m=c.children,p=t!==null?t.memoizedState:null;if(t===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((a.flags&128)!==0){if(p=p!==null?p.baseLanes|i:i,t!==null){for(c=a.child=t.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~p}else c=0,a.child=null;return My(t,a,p,i,c)}if((i&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&Uc(a,p!==null?p.cachePool:null),p!==null?Lg(a,p):Of(),Ig(a);else return c=a.lanes=536870912,My(t,a,p!==null?p.baseLanes|i:i,i,c)}else p!==null?(Uc(a,p.cachePool),Lg(a,p),cr(),a.memoizedState=null):(t!==null&&Uc(a,null),Of(),cr());return En(t,a,m,i),a.child}function lo(t,a){return t!==null&&t.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function My(t,a,i,c,m){var p=_f();return p=p===null?null:{parent:nn._currentValue,pool:p},a.memoizedState={baseLanes:i,cachePool:p},t!==null&&Uc(a,null),Of(),Ig(a),t!==null&&Ul(t,a,c,!0),a.childLanes=m,null}function eu(t,a){return a=nu({mode:a.mode,children:a.children},t.mode),a.ref=t.ref,t.child=a,a.return=t,a}function Dy(t,a,i){return nl(a,t.child,null,i),t=eu(a,a.pendingProps),t.flags|=2,la(a),a.memoizedState=null,t}function w2(t,a,i){var c=a.pendingProps,m=(a.flags&128)!==0;if(a.flags&=-129,t===null){if(pt){if(c.mode==="hidden")return t=eu(a,c),a.lanes=536870912,lo(null,t);if(Df(a),(t=zt)?(t=Yv(t,wa),t=t!==null&&t.data==="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:tr!==null?{id:ts,overflow:ns}:null,retryLane:536870912,hydrationErrors:null},i=gg(t),i.return=a,a.child=i,jn=a,zt=null)):t=null,t===null)throw ar(a);return a.lanes=536870912,null}return eu(a,c)}var p=t.memoizedState;if(p!==null){var j=p.dehydrated;if(Df(a),m)if(a.flags&256)a.flags&=-257,a=Dy(t,a,i);else if(a.memoizedState!==null)a.child=t.child,a.flags|=128,a=null;else throw Error(l(558));else if(sn||Ul(t,a,i,!1),m=(i&t.childLanes)!==0,sn||m){if(c=Ot,c!==null&&(j=K(c,i),j!==0&&j!==p.retryLane))throw p.retryLane=j,Qr(t,j),Qn(c,t,j),tm;du(),a=Dy(t,a,i)}else t=p.treeContext,zt=Ca(j.nextSibling),jn=a,pt=!0,nr=null,wa=!1,t!==null&&bg(a,t),a=eu(a,c),a.flags|=4096;return a}return t=_s(t.child,{mode:c.mode,children:c.children}),t.ref=a.ref,a.child=t,t.return=a,t}function tu(t,a){var i=a.ref;if(i===null)t!==null&&t.ref!==null&&(a.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(l(284));(t===null||t.ref!==i)&&(a.flags|=4194816)}}function nm(t,a,i,c,m){return Jr(a),i=If(t,a,i,c,void 0,m),c=zf(),t!==null&&!sn?(Uf(t,a,m),Os(t,a,m)):(pt&&c&&gf(a),a.flags|=1,En(t,a,i,m),a.child)}function Ly(t,a,i,c,m,p){return Jr(a),a.updateQueue=null,i=Ug(a,c,i,m),zg(t),c=zf(),t!==null&&!sn?(Uf(t,a,p),Os(t,a,p)):(pt&&c&&gf(a),a.flags|=1,En(t,a,i,p),a.child)}function Iy(t,a,i,c,m){if(Jr(a),a.stateNode===null){var p=Dl,j=i.contextType;typeof j=="object"&&j!==null&&(p=Sn(j)),p=new i(c,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Wf,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=c,p.state=a.memoizedState,p.refs={},Tf(a),j=i.contextType,p.context=typeof j=="object"&&j!==null?Sn(j):Dl,p.state=a.memoizedState,j=i.getDerivedStateFromProps,typeof j=="function"&&(Jf(a,i,j,c),p.state=a.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(j=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),j!==p.state&&Wf.enqueueReplaceState(p,p.state,null),to(a,c,p,m),eo(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(t===null){p=a.stateNode;var _=a.memoizedProps,P=sl(i,_);p.props=P;var te=p.context,ue=i.contextType;j=Dl,typeof ue=="object"&&ue!==null&&(j=Sn(ue));var me=i.getDerivedStateFromProps;ue=typeof me=="function"||typeof p.getSnapshotBeforeUpdate=="function",_=a.pendingProps!==_,ue||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_||te!==j)&&jy(a,p,c,j),rr=!1;var se=a.memoizedState;p.state=se,to(a,c,p,m),eo(),te=a.memoizedState,_||se!==te||rr?(typeof me=="function"&&(Jf(a,i,me,c),te=a.memoizedState),(P=rr||Ny(a,i,P,c,se,te,j))?(ue||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=te),p.props=c,p.state=te,p.context=j,c=P):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{p=a.stateNode,kf(t,a),j=a.memoizedProps,ue=sl(i,j),p.props=ue,me=a.pendingProps,se=p.context,te=i.contextType,P=Dl,typeof te=="object"&&te!==null&&(P=Sn(te)),_=i.getDerivedStateFromProps,(te=typeof _=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(j!==me||se!==P)&&jy(a,p,c,P),rr=!1,se=a.memoizedState,p.state=se,to(a,c,p,m),eo();var oe=a.memoizedState;j!==me||se!==oe||rr||t!==null&&t.dependencies!==null&&Ic(t.dependencies)?(typeof _=="function"&&(Jf(a,i,_,c),oe=a.memoizedState),(ue=rr||Ny(a,i,ue,c,se,oe,P)||t!==null&&t.dependencies!==null&&Ic(t.dependencies))?(te||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,oe,P),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,oe,P)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||j===t.memoizedProps&&se===t.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||j===t.memoizedProps&&se===t.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=oe),p.props=c,p.state=oe,p.context=P,c=ue):(typeof p.componentDidUpdate!="function"||j===t.memoizedProps&&se===t.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||j===t.memoizedProps&&se===t.memoizedState||(a.flags|=1024),c=!1)}return p=c,tu(t,a),c=(a.flags&128)!==0,p||c?(p=a.stateNode,i=c&&typeof i.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,t!==null&&c?(a.child=nl(a,t.child,null,m),a.child=nl(a,null,i,m)):En(t,a,i,m),a.memoizedState=p.state,t=a.child):t=Os(t,a,m),t}function zy(t,a,i,c){return Xr(),a.flags|=256,En(t,a,i,c),a.child}var am={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sm(t){return{baseLanes:t,cachePool:_g()}}function rm(t,a,i){return t=t!==null?t.childLanes&~i:0,a&&(t|=oa),t}function Uy(t,a,i){var c=a.pendingProps,m=!1,p=(a.flags&128)!==0,j;if((j=p)||(j=t!==null&&t.memoizedState===null?!1:(Jt.current&2)!==0),j&&(m=!0,a.flags&=-129),j=(a.flags&32)!==0,a.flags&=-33,t===null){if(pt){if(m?or(a):cr(),(t=zt)?(t=Yv(t,wa),t=t!==null&&t.data!=="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:tr!==null?{id:ts,overflow:ns}:null,retryLane:536870912,hydrationErrors:null},i=gg(t),i.return=a,a.child=i,jn=a,zt=null)):t=null,t===null)throw ar(a);return Fm(t)?a.lanes=32:a.lanes=536870912,null}var _=c.children;return c=c.fallback,m?(cr(),m=a.mode,_=nu({mode:"hidden",children:_},m),c=Kr(c,m,i,null),_.return=a,c.return=a,_.sibling=c,a.child=_,c=a.child,c.memoizedState=sm(i),c.childLanes=rm(t,j,i),a.memoizedState=am,lo(null,c)):(or(a),lm(a,_))}var P=t.memoizedState;if(P!==null&&(_=P.dehydrated,_!==null)){if(p)a.flags&256?(or(a),a.flags&=-257,a=im(t,a,i)):a.memoizedState!==null?(cr(),a.child=t.child,a.flags|=128,a=null):(cr(),_=c.fallback,m=a.mode,c=nu({mode:"visible",children:c.children},m),_=Kr(_,m,i,null),_.flags|=2,c.return=a,_.return=a,c.sibling=_,a.child=c,nl(a,t.child,null,i),c=a.child,c.memoizedState=sm(i),c.childLanes=rm(t,j,i),a.memoizedState=am,a=lo(null,c));else if(or(a),Fm(_)){if(j=_.nextSibling&&_.nextSibling.dataset,j)var te=j.dgst;j=te,c=Error(l(419)),c.stack="",c.digest=j,Qi({value:c,source:null,stack:null}),a=im(t,a,i)}else if(sn||Ul(t,a,i,!1),j=(i&t.childLanes)!==0,sn||j){if(j=Ot,j!==null&&(c=K(j,i),c!==0&&c!==P.retryLane))throw P.retryLane=c,Qr(t,c),Qn(j,t,c),tm;Bm(_)||du(),a=im(t,a,i)}else Bm(_)?(a.flags|=192,a.child=t.child,a=null):(t=P.treeContext,zt=Ca(_.nextSibling),jn=a,pt=!0,nr=null,wa=!1,t!==null&&bg(a,t),a=lm(a,c.children),a.flags|=4096);return a}return m?(cr(),_=c.fallback,m=a.mode,P=t.child,te=P.sibling,c=_s(P,{mode:"hidden",children:c.children}),c.subtreeFlags=P.subtreeFlags&65011712,te!==null?_=_s(te,_):(_=Kr(_,m,i,null),_.flags|=2),_.return=a,c.return=a,c.sibling=_,a.child=c,lo(null,c),c=a.child,_=t.child.memoizedState,_===null?_=sm(i):(m=_.cachePool,m!==null?(P=nn._currentValue,m=m.parent!==P?{parent:P,pool:P}:m):m=_g(),_={baseLanes:_.baseLanes|i,cachePool:m}),c.memoizedState=_,c.childLanes=rm(t,j,i),a.memoizedState=am,lo(t.child,c)):(or(a),i=t.child,t=i.sibling,i=_s(i,{mode:"visible",children:c.children}),i.return=a,i.sibling=null,t!==null&&(j=a.deletions,j===null?(a.deletions=[t],a.flags|=16):j.push(t)),a.child=i,a.memoizedState=null,i)}function lm(t,a){return a=nu({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function nu(t,a){return t=sa(22,t,null,a),t.lanes=0,t}function im(t,a,i){return nl(a,t.child,null,i),t=lm(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function Py(t,a,i){t.lanes|=a;var c=t.alternate;c!==null&&(c.lanes|=a),jf(t.return,a,i)}function om(t,a,i,c,m,p){var j=t.memoizedState;j===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:i,tailMode:m,treeForkCount:p}:(j.isBackwards=a,j.rendering=null,j.renderingStartTime=0,j.last=c,j.tail=i,j.tailMode=m,j.treeForkCount=p)}function By(t,a,i){var c=a.pendingProps,m=c.revealOrder,p=c.tail;c=c.children;var j=Jt.current,_=(j&2)!==0;if(_?(j=j&1|2,a.flags|=128):j&=1,T(Jt,j),En(t,a,c,i),c=pt?$i:0,!_&&t!==null&&(t.flags&128)!==0)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Py(t,i,a);else if(t.tag===19)Py(t,i,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(m){case"forwards":for(i=a.child,m=null;i!==null;)t=i.alternate,t!==null&&Gc(t)===null&&(m=i),i=i.sibling;i=m,i===null?(m=a.child,a.child=null):(m=i.sibling,i.sibling=null),om(a,!1,m,i,p,c);break;case"backwards":case"unstable_legacy-backwards":for(i=null,m=a.child,a.child=null;m!==null;){if(t=m.alternate,t!==null&&Gc(t)===null){a.child=m;break}t=m.sibling,m.sibling=i,i=m,m=t}om(a,!0,i,null,p,c);break;case"together":om(a,!1,null,null,void 0,c);break;default:a.memoizedState=null}return a.child}function Os(t,a,i){if(t!==null&&(a.dependencies=t.dependencies),fr|=a.lanes,(i&a.childLanes)===0)if(t!==null){if(Ul(t,a,i,!1),(i&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(l(153));if(a.child!==null){for(t=a.child,i=_s(t,t.pendingProps),a.child=i,i.return=a;t.sibling!==null;)t=t.sibling,i=i.sibling=_s(t,t.pendingProps),i.return=a;i.sibling=null}return a.child}function cm(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&Ic(t)))}function _2(t,a,i){switch(a.tag){case 3:Fe(a,a.stateNode.containerInfo),sr(a,nn,t.memoizedState.cache),Xr();break;case 27:case 5:Dt(a);break;case 4:Fe(a,a.stateNode.containerInfo);break;case 10:sr(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Df(a),null;break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(or(a),a.flags|=128,null):(i&a.child.childLanes)!==0?Uy(t,a,i):(or(a),t=Os(t,a,i),t!==null?t.sibling:null);or(a);break;case 19:var m=(t.flags&128)!==0;if(c=(i&a.childLanes)!==0,c||(Ul(t,a,i,!1),c=(i&a.childLanes)!==0),m){if(c)return By(t,a,i);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),T(Jt,Jt.current),c)break;return null;case 22:return a.lanes=0,Oy(t,a,i,a.pendingProps);case 24:sr(a,nn,t.memoizedState.cache)}return Os(t,a,i)}function Fy(t,a,i){if(t!==null)if(t.memoizedProps!==a.pendingProps)sn=!0;else{if(!cm(t,i)&&(a.flags&128)===0)return sn=!1,_2(t,a,i);sn=(t.flags&131072)!==0}else sn=!1,pt&&(a.flags&1048576)!==0&&vg(a,$i,a.index);switch(a.lanes=0,a.tag){case 16:e:{var c=a.pendingProps;if(t=el(a.elementType),a.type=t,typeof t=="function")hf(t)?(c=sl(t,c),a.tag=1,a=Iy(null,a,t,c,i)):(a.tag=0,a=nm(null,a,t,c,i));else{if(t!=null){var m=t.$$typeof;if(m===Q){a.tag=11,a=ky(null,a,t,c,i);break e}else if(m===A){a.tag=14,a=Ay(null,a,t,c,i);break e}}throw a=J(t)||t,Error(l(306,a,""))}}return a;case 0:return nm(t,a,a.type,a.pendingProps,i);case 1:return c=a.type,m=sl(c,a.pendingProps),Iy(t,a,c,m,i);case 3:e:{if(Fe(a,a.stateNode.containerInfo),t===null)throw Error(l(387));c=a.pendingProps;var p=a.memoizedState;m=p.element,kf(t,a),to(a,c,null,i);var j=a.memoizedState;if(c=j.cache,sr(a,nn,c),c!==p.cache&&Sf(a,[nn],i,!0),eo(),c=j.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:j.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=zy(t,a,c,i);break e}else if(c!==m){m=ja(Error(l(424)),a),Qi(m),a=zy(t,a,c,i);break e}else for(t=a.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,zt=Ca(t.firstChild),jn=a,pt=!0,nr=null,wa=!0,i=Og(a,null,c,i),a.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Xr(),c===m){a=Os(t,a,i);break e}En(t,a,c,i)}a=a.child}return a;case 26:return tu(t,a),t===null?(i=Jv(a.type,null,a.pendingProps,null))?a.memoizedState=i:pt||(i=a.type,t=a.pendingProps,c=yu(ie.current).createElement(i),c[Se]=a,c[Ce]=t,wn(c,i,t),Bt(c),a.stateNode=c):a.memoizedState=Jv(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return Dt(a),t===null&&pt&&(c=a.stateNode=Kv(a.type,a.pendingProps,ie.current),jn=a,wa=!0,m=zt,gr(a.type)?(Hm=m,zt=Ca(c.firstChild)):zt=m),En(t,a,a.pendingProps.children,i),tu(t,a),t===null&&(a.flags|=4194304),a.child;case 5:return t===null&&pt&&((m=c=zt)&&(c=nw(c,a.type,a.pendingProps,wa),c!==null?(a.stateNode=c,jn=a,zt=Ca(c.firstChild),wa=!1,m=!0):m=!1),m||ar(a)),Dt(a),m=a.type,p=a.pendingProps,j=t!==null?t.memoizedProps:null,c=p.children,zm(m,p)?c=null:j!==null&&zm(m,j)&&(a.flags|=32),a.memoizedState!==null&&(m=If(t,a,g2,null,null,i),jo._currentValue=m),tu(t,a),En(t,a,c,i),a.child;case 6:return t===null&&pt&&((t=i=zt)&&(i=aw(i,a.pendingProps,wa),i!==null?(a.stateNode=i,jn=a,zt=null,t=!0):t=!1),t||ar(a)),null;case 13:return Uy(t,a,i);case 4:return Fe(a,a.stateNode.containerInfo),c=a.pendingProps,t===null?a.child=nl(a,null,c,i):En(t,a,c,i),a.child;case 11:return ky(t,a,a.type,a.pendingProps,i);case 7:return En(t,a,a.pendingProps,i),a.child;case 8:return En(t,a,a.pendingProps.children,i),a.child;case 12:return En(t,a,a.pendingProps.children,i),a.child;case 10:return c=a.pendingProps,sr(a,a.type,c.value),En(t,a,c.children,i),a.child;case 9:return m=a.type._context,c=a.pendingProps.children,Jr(a),m=Sn(m),c=c(m),a.flags|=1,En(t,a,c,i),a.child;case 14:return Ay(t,a,a.type,a.pendingProps,i);case 15:return Ry(t,a,a.type,a.pendingProps,i);case 19:return By(t,a,i);case 31:return w2(t,a,i);case 22:return Oy(t,a,i,a.pendingProps);case 24:return Jr(a),c=Sn(nn),t===null?(m=_f(),m===null&&(m=Ot,p=Ef(),m.pooledCache=p,p.refCount++,p!==null&&(m.pooledCacheLanes|=i),m=p),a.memoizedState={parent:c,cache:m},Tf(a),sr(a,nn,m)):((t.lanes&i)!==0&&(kf(t,a),to(a,null,null,i),eo()),m=t.memoizedState,p=a.memoizedState,m.parent!==c?(m={parent:c,cache:c},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),sr(a,nn,c)):(c=p.cache,sr(a,nn,c),c!==m.cache&&Sf(a,[nn],i,!0))),En(t,a,a.pendingProps.children,i),a.child;case 29:throw a.pendingProps}throw Error(l(156,a.tag))}function Ms(t){t.flags|=4}function um(t,a,i,c,m){if((a=(t.mode&32)!==0)&&(a=!1),a){if(t.flags|=16777216,(m&335544128)===m)if(t.stateNode.complete)t.flags|=8192;else if(hv())t.flags|=8192;else throw tl=Bc,Cf}else t.flags&=-16777217}function Hy(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ab(a))if(hv())t.flags|=8192;else throw tl=Bc,Cf}function au(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?Fr():536870912,t.lanes|=a,Xl|=a)}function io(t,a){if(!pt)switch(t.tailMode){case"hidden":a=t.tail;for(var i=null;a!==null;)a.alternate!==null&&(i=a),a=a.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function Ut(t){var a=t.alternate!==null&&t.alternate.child===t.child,i=0,c=0;if(a)for(var m=t.child;m!==null;)i|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=t,m=m.sibling;else for(m=t.child;m!==null;)i|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=t,m=m.sibling;return t.subtreeFlags|=c,t.childLanes=i,a}function C2(t,a,i){var c=a.pendingProps;switch(yf(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(a),null;case 1:return Ut(a),null;case 3:return i=a.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),ks(nn),Qe(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(zl(a)?Ms(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,bf())),Ut(a),null;case 26:var m=a.type,p=a.memoizedState;return t===null?(Ms(a),p!==null?(Ut(a),Hy(a,p)):(Ut(a),um(a,m,null,c,i))):p?p!==t.memoizedState?(Ms(a),Ut(a),Hy(a,p)):(Ut(a),a.flags&=-16777217):(t=t.memoizedProps,t!==c&&Ms(a),Ut(a),um(a,m,t,c,i)),null;case 27:if(en(a),i=ie.current,m=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==c&&Ms(a);else{if(!c){if(a.stateNode===null)throw Error(l(166));return Ut(a),null}t=I.current,zl(a)?Ng(a):(t=Kv(m,c,i),a.stateNode=t,Ms(a))}return Ut(a),null;case 5:if(en(a),m=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==c&&Ms(a);else{if(!c){if(a.stateNode===null)throw Error(l(166));return Ut(a),null}if(p=I.current,zl(a))Ng(a);else{var j=yu(ie.current);switch(p){case 1:p=j.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:p=j.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":p=j.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":p=j.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":p=j.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof c.is=="string"?j.createElement("select",{is:c.is}):j.createElement("select"),c.multiple?p.multiple=!0:c.size&&(p.size=c.size);break;default:p=typeof c.is=="string"?j.createElement(m,{is:c.is}):j.createElement(m)}}p[Se]=a,p[Ce]=c;e:for(j=a.child;j!==null;){if(j.tag===5||j.tag===6)p.appendChild(j.stateNode);else if(j.tag!==4&&j.tag!==27&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===a)break e;for(;j.sibling===null;){if(j.return===null||j.return===a)break e;j=j.return}j.sibling.return=j.return,j=j.sibling}a.stateNode=p;e:switch(wn(p,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Ms(a)}}return Ut(a),um(a,a.type,t===null?null:t.memoizedProps,a.pendingProps,i),null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==c&&Ms(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(l(166));if(t=ie.current,zl(a)){if(t=a.stateNode,i=a.memoizedProps,c=null,m=jn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}t[Se]=a,t=!!(t.nodeValue===i||c!==null&&c.suppressHydrationWarning===!0||Uv(t.nodeValue,i)),t||ar(a,!0)}else t=yu(t).createTextNode(c),t[Se]=a,a.stateNode=t}return Ut(a),null;case 31:if(i=a.memoizedState,t===null||t.memoizedState!==null){if(c=zl(a),i!==null){if(t===null){if(!c)throw Error(l(318));if(t=a.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(557));t[Se]=a}else Xr(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ut(a),t=!1}else i=bf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),t=!0;if(!t)return a.flags&256?(la(a),a):(la(a),null);if((a.flags&128)!==0)throw Error(l(558))}return Ut(a),null;case 13:if(c=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(m=zl(a),c!==null&&c.dehydrated!==null){if(t===null){if(!m)throw Error(l(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(l(317));m[Se]=a}else Xr(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ut(a),m=!1}else m=bf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(la(a),a):(la(a),null)}return la(a),(a.flags&128)!==0?(a.lanes=i,a):(i=c!==null,t=t!==null&&t.memoizedState!==null,i&&(c=a.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==m&&(c.flags|=2048)),i!==t&&i&&(a.child.flags|=8192),au(a,a.updateQueue),Ut(a),null);case 4:return Qe(),t===null&&Om(a.stateNode.containerInfo),Ut(a),null;case 10:return ks(a.type),Ut(a),null;case 19:if(le(Jt),c=a.memoizedState,c===null)return Ut(a),null;if(m=(a.flags&128)!==0,p=c.rendering,p===null)if(m)io(c,!1);else{if(Kt!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(p=Gc(t),p!==null){for(a.flags|=128,io(c,!1),t=p.updateQueue,a.updateQueue=t,au(a,t),a.subtreeFlags=0,t=i,i=a.child;i!==null;)xg(i,t),i=i.sibling;return T(Jt,Jt.current&1|2),pt&&Cs(a,c.treeForkCount),a.child}t=t.sibling}c.tail!==null&&bt()>ou&&(a.flags|=128,m=!0,io(c,!1),a.lanes=4194304)}else{if(!m)if(t=Gc(p),t!==null){if(a.flags|=128,m=!0,t=t.updateQueue,a.updateQueue=t,au(a,t),io(c,!0),c.tail===null&&c.tailMode==="hidden"&&!p.alternate&&!pt)return Ut(a),null}else 2*bt()-c.renderingStartTime>ou&&i!==536870912&&(a.flags|=128,m=!0,io(c,!1),a.lanes=4194304);c.isBackwards?(p.sibling=a.child,a.child=p):(t=c.last,t!==null?t.sibling=p:a.child=p,c.last=p)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=bt(),t.sibling=null,i=Jt.current,T(Jt,m?i&1|2:i&1),pt&&Cs(a,c.treeForkCount),t):(Ut(a),null);case 22:case 23:return la(a),Mf(),c=a.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(i&536870912)!==0&&(a.flags&128)===0&&(Ut(a),a.subtreeFlags&6&&(a.flags|=8192)):Ut(a),i=a.updateQueue,i!==null&&au(a,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==i&&(a.flags|=2048),t!==null&&le(Wr),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),a.memoizedState.cache!==i&&(a.flags|=2048),ks(nn),Ut(a),null;case 25:return null;case 30:return null}throw Error(l(156,a.tag))}function T2(t,a){switch(yf(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return ks(nn),Qe(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return en(a),null;case 31:if(a.memoizedState!==null){if(la(a),a.alternate===null)throw Error(l(340));Xr()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 13:if(la(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(l(340));Xr()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return le(Jt),null;case 4:return Qe(),null;case 10:return ks(a.type),null;case 22:case 23:return la(a),Mf(),t!==null&&le(Wr),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return ks(nn),null;case 25:return null;default:return null}}function qy(t,a){switch(yf(a),a.tag){case 3:ks(nn),Qe();break;case 26:case 27:case 5:en(a);break;case 4:Qe();break;case 31:a.memoizedState!==null&&la(a);break;case 13:la(a);break;case 19:le(Jt);break;case 10:ks(a.type);break;case 22:case 23:la(a),Mf(),t!==null&&le(Wr);break;case 24:ks(nn)}}function oo(t,a){try{var i=a.updateQueue,c=i!==null?i.lastEffect:null;if(c!==null){var m=c.next;i=m;do{if((i.tag&t)===t){c=void 0;var p=i.create,j=i.inst;c=p(),j.destroy=c}i=i.next}while(i!==m)}}catch(_){Tt(a,a.return,_)}}function ur(t,a,i){try{var c=a.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var p=m.next;c=p;do{if((c.tag&t)===t){var j=c.inst,_=j.destroy;if(_!==void 0){j.destroy=void 0,m=a;var P=i,te=_;try{te()}catch(ue){Tt(m,P,ue)}}}c=c.next}while(c!==p)}}catch(ue){Tt(a,a.return,ue)}}function Gy(t){var a=t.updateQueue;if(a!==null){var i=t.stateNode;try{Dg(a,i)}catch(c){Tt(t,t.return,c)}}}function Vy(t,a,i){i.props=sl(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(c){Tt(t,a,c)}}function co(t,a){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof i=="function"?t.refCleanup=i(c):i.current=c}}catch(m){Tt(t,a,m)}}function as(t,a){var i=t.ref,c=t.refCleanup;if(i!==null)if(typeof c=="function")try{c()}catch(m){Tt(t,a,m)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(m){Tt(t,a,m)}else i.current=null}function Yy(t){var a=t.type,i=t.memoizedProps,c=t.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":i.autoFocus&&c.focus();break e;case"img":i.src?c.src=i.src:i.srcSet&&(c.srcset=i.srcSet)}}catch(m){Tt(t,t.return,m)}}function dm(t,a,i){try{var c=t.stateNode;X2(c,t.type,i,a),c[Ce]=a}catch(m){Tt(t,t.return,m)}}function $y(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&gr(t.type)||t.tag===4}function fm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$y(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&gr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mm(t,a,i){var c=t.tag;if(c===5||c===6)t=t.stateNode,a?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,a):(a=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.appendChild(t),i=i._reactRootContainer,i!=null||a.onclick!==null||(a.onclick=Es));else if(c!==4&&(c===27&&gr(t.type)&&(i=t.stateNode,a=null),t=t.child,t!==null))for(mm(t,a,i),t=t.sibling;t!==null;)mm(t,a,i),t=t.sibling}function su(t,a,i){var c=t.tag;if(c===5||c===6)t=t.stateNode,a?i.insertBefore(t,a):i.appendChild(t);else if(c!==4&&(c===27&&gr(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(su(t,a,i),t=t.sibling;t!==null;)su(t,a,i),t=t.sibling}function Qy(t){var a=t.stateNode,i=t.memoizedProps;try{for(var c=t.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);wn(a,c,i),a[Se]=t,a[Ce]=i}catch(p){Tt(t,t.return,p)}}var Ds=!1,rn=!1,hm=!1,Ky=typeof WeakSet=="function"?WeakSet:Set,xn=null;function k2(t,a){if(t=t.containerInfo,Lm=wu,t=ig(t),lf(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var c=i.getSelection&&i.getSelection();if(c&&c.rangeCount!==0){i=c.anchorNode;var m=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{i.nodeType,p.nodeType}catch{i=null;break e}var j=0,_=-1,P=-1,te=0,ue=0,me=t,se=null;t:for(;;){for(var oe;me!==i||m!==0&&me.nodeType!==3||(_=j+m),me!==p||c!==0&&me.nodeType!==3||(P=j+c),me.nodeType===3&&(j+=me.nodeValue.length),(oe=me.firstChild)!==null;)se=me,me=oe;for(;;){if(me===t)break t;if(se===i&&++te===m&&(_=j),se===p&&++ue===c&&(P=j),(oe=me.nextSibling)!==null)break;me=se,se=me.parentNode}me=oe}i=_===-1||P===-1?null:{start:_,end:P}}else i=null}i=i||{start:0,end:0}}else i=null;for(Im={focusedElem:t,selectionRange:i},wu=!1,xn=a;xn!==null;)if(a=xn,t=a.child,(a.subtreeFlags&1028)!==0&&t!==null)t.return=a,xn=t;else for(;xn!==null;){switch(a=xn,p=a.alternate,t=a.flags,a.tag){case 0:if((t&4)!==0&&(t=a.updateQueue,t=t!==null?t.events:null,t!==null))for(i=0;i<t.length;i++)m=t[i],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&p!==null){t=void 0,i=a,m=p.memoizedProps,p=p.memoizedState,c=i.stateNode;try{var Ae=sl(i.type,m);t=c.getSnapshotBeforeUpdate(Ae,p),c.__reactInternalSnapshotBeforeUpdate=t}catch(Ye){Tt(i,i.return,Ye)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,i=t.nodeType,i===9)Pm(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Pm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=a.sibling,t!==null){t.return=a.return,xn=t;break}xn=a.return}}function Xy(t,a,i){var c=i.flags;switch(i.tag){case 0:case 11:case 15:Is(t,i),c&4&&oo(5,i);break;case 1:if(Is(t,i),c&4)if(t=i.stateNode,a===null)try{t.componentDidMount()}catch(j){Tt(i,i.return,j)}else{var m=sl(i.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(m,a,t.__reactInternalSnapshotBeforeUpdate)}catch(j){Tt(i,i.return,j)}}c&64&&Gy(i),c&512&&co(i,i.return);break;case 3:if(Is(t,i),c&64&&(t=i.updateQueue,t!==null)){if(a=null,i.child!==null)switch(i.child.tag){case 27:case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}try{Dg(t,a)}catch(j){Tt(i,i.return,j)}}break;case 27:a===null&&c&4&&Qy(i);case 26:case 5:Is(t,i),a===null&&c&4&&Yy(i),c&512&&co(i,i.return);break;case 12:Is(t,i);break;case 31:Is(t,i),c&4&&Wy(t,i);break;case 13:Is(t,i),c&4&&ev(t,i),c&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=U2.bind(null,i),sw(t,i))));break;case 22:if(c=i.memoizedState!==null||Ds,!c){a=a!==null&&a.memoizedState!==null||rn,m=Ds;var p=rn;Ds=c,(rn=a)&&!p?zs(t,i,(i.subtreeFlags&8772)!==0):Is(t,i),Ds=m,rn=p}break;case 30:break;default:Is(t,i)}}function Zy(t){var a=t.alternate;a!==null&&(t.alternate=null,Zy(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&Yt(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ft=null,Gn=!1;function Ls(t,a,i){for(i=i.child;i!==null;)Jy(t,a,i),i=i.sibling}function Jy(t,a,i){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(vn,i)}catch{}switch(i.tag){case 26:rn||as(i,a),Ls(t,a,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:rn||as(i,a);var c=Ft,m=Gn;gr(i.type)&&(Ft=i.stateNode,Gn=!1),Ls(t,a,i),vo(i.stateNode),Ft=c,Gn=m;break;case 5:rn||as(i,a);case 6:if(c=Ft,m=Gn,Ft=null,Ls(t,a,i),Ft=c,Gn=m,Ft!==null)if(Gn)try{(Ft.nodeType===9?Ft.body:Ft.nodeName==="HTML"?Ft.ownerDocument.body:Ft).removeChild(i.stateNode)}catch(p){Tt(i,a,p)}else try{Ft.removeChild(i.stateNode)}catch(p){Tt(i,a,p)}break;case 18:Ft!==null&&(Gn?(t=Ft,Gv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),si(t)):Gv(Ft,i.stateNode));break;case 4:c=Ft,m=Gn,Ft=i.stateNode.containerInfo,Gn=!0,Ls(t,a,i),Ft=c,Gn=m;break;case 0:case 11:case 14:case 15:ur(2,i,a),rn||ur(4,i,a),Ls(t,a,i);break;case 1:rn||(as(i,a),c=i.stateNode,typeof c.componentWillUnmount=="function"&&Vy(i,a,c)),Ls(t,a,i);break;case 21:Ls(t,a,i);break;case 22:rn=(c=rn)||i.memoizedState!==null,Ls(t,a,i),rn=c;break;default:Ls(t,a,i)}}function Wy(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{si(t)}catch(i){Tt(a,a.return,i)}}}function ev(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{si(t)}catch(i){Tt(a,a.return,i)}}function A2(t){switch(t.tag){case 31:case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new Ky),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new Ky),a;default:throw Error(l(435,t.tag))}}function ru(t,a){var i=A2(t);a.forEach(function(c){if(!i.has(c)){i.add(c);var m=P2.bind(null,t,c);c.then(m,m)}})}function Vn(t,a){var i=a.deletions;if(i!==null)for(var c=0;c<i.length;c++){var m=i[c],p=t,j=a,_=j;e:for(;_!==null;){switch(_.tag){case 27:if(gr(_.type)){Ft=_.stateNode,Gn=!1;break e}break;case 5:Ft=_.stateNode,Gn=!1;break e;case 3:case 4:Ft=_.stateNode.containerInfo,Gn=!0;break e}_=_.return}if(Ft===null)throw Error(l(160));Jy(p,j,m),Ft=null,Gn=!1,p=m.alternate,p!==null&&(p.return=null),m.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)tv(a,t),a=a.sibling}var Ya=null;function tv(t,a){var i=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Vn(a,t),Yn(t),c&4&&(ur(3,t,t.return),oo(3,t),ur(5,t,t.return));break;case 1:Vn(a,t),Yn(t),c&512&&(rn||i===null||as(i,i.return)),c&64&&Ds&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?c:i.concat(c))));break;case 26:var m=Ya;if(Vn(a,t),Yn(t),c&512&&(rn||i===null||as(i,i.return)),c&4){var p=i!==null?i.memoizedState:null;if(c=t.memoizedState,i===null)if(c===null)if(t.stateNode===null){e:{c=t.type,i=t.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":p=m.getElementsByTagName("title")[0],(!p||p[Ht]||p[Se]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=m.createElement(c),m.head.insertBefore(p,m.querySelector("head > title"))),wn(p,c,i),p[Se]=t,Bt(p),c=p;break e;case"link":var j=tb("link","href",m).get(c+(i.href||""));if(j){for(var _=0;_<j.length;_++)if(p=j[_],p.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&p.getAttribute("rel")===(i.rel==null?null:i.rel)&&p.getAttribute("title")===(i.title==null?null:i.title)&&p.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){j.splice(_,1);break t}}p=m.createElement(c),wn(p,c,i),m.head.appendChild(p);break;case"meta":if(j=tb("meta","content",m).get(c+(i.content||""))){for(_=0;_<j.length;_++)if(p=j[_],p.getAttribute("content")===(i.content==null?null:""+i.content)&&p.getAttribute("name")===(i.name==null?null:i.name)&&p.getAttribute("property")===(i.property==null?null:i.property)&&p.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&p.getAttribute("charset")===(i.charSet==null?null:i.charSet)){j.splice(_,1);break t}}p=m.createElement(c),wn(p,c,i),m.head.appendChild(p);break;default:throw Error(l(468,c))}p[Se]=t,Bt(p),c=p}t.stateNode=c}else nb(m,t.type,t.stateNode);else t.stateNode=eb(m,c,t.memoizedProps);else p!==c?(p===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):p.count--,c===null?nb(m,t.type,t.stateNode):eb(m,c,t.memoizedProps)):c===null&&t.stateNode!==null&&dm(t,t.memoizedProps,i.memoizedProps)}break;case 27:Vn(a,t),Yn(t),c&512&&(rn||i===null||as(i,i.return)),i!==null&&c&4&&dm(t,t.memoizedProps,i.memoizedProps);break;case 5:if(Vn(a,t),Yn(t),c&512&&(rn||i===null||as(i,i.return)),t.flags&32){m=t.stateNode;try{Cl(m,"")}catch(Ae){Tt(t,t.return,Ae)}}c&4&&t.stateNode!=null&&(m=t.memoizedProps,dm(t,m,i!==null?i.memoizedProps:m)),c&1024&&(hm=!0);break;case 6:if(Vn(a,t),Yn(t),c&4){if(t.stateNode===null)throw Error(l(162));c=t.memoizedProps,i=t.stateNode;try{i.nodeValue=c}catch(Ae){Tt(t,t.return,Ae)}}break;case 3:if(Nu=null,m=Ya,Ya=vu(a.containerInfo),Vn(a,t),Ya=m,Yn(t),c&4&&i!==null&&i.memoizedState.isDehydrated)try{si(a.containerInfo)}catch(Ae){Tt(t,t.return,Ae)}hm&&(hm=!1,nv(t));break;case 4:c=Ya,Ya=vu(t.stateNode.containerInfo),Vn(a,t),Yn(t),Ya=c;break;case 12:Vn(a,t),Yn(t);break;case 31:Vn(a,t),Yn(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,ru(t,c)));break;case 13:Vn(a,t),Yn(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(iu=bt()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,ru(t,c)));break;case 22:m=t.memoizedState!==null;var P=i!==null&&i.memoizedState!==null,te=Ds,ue=rn;if(Ds=te||m,rn=ue||P,Vn(a,t),rn=ue,Ds=te,Yn(t),c&8192)e:for(a=t.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(i===null||P||Ds||rn||rl(t)),i=null,a=t;;){if(a.tag===5||a.tag===26){if(i===null){P=i=a;try{if(p=P.stateNode,m)j=p.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{_=P.stateNode;var me=P.memoizedProps.style,se=me!=null&&me.hasOwnProperty("display")?me.display:null;_.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(Ae){Tt(P,P.return,Ae)}}}else if(a.tag===6){if(i===null){P=a;try{P.stateNode.nodeValue=m?"":P.memoizedProps}catch(Ae){Tt(P,P.return,Ae)}}}else if(a.tag===18){if(i===null){P=a;try{var oe=P.stateNode;m?Vv(oe,!0):Vv(P.stateNode,!1)}catch(Ae){Tt(P,P.return,Ae)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;i===a&&(i=null),a=a.return}i===a&&(i=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=t.updateQueue,c!==null&&(i=c.retryQueue,i!==null&&(c.retryQueue=null,ru(t,i))));break;case 19:Vn(a,t),Yn(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,ru(t,c)));break;case 30:break;case 21:break;default:Vn(a,t),Yn(t)}}function Yn(t){var a=t.flags;if(a&2){try{for(var i,c=t.return;c!==null;){if($y(c)){i=c;break}c=c.return}if(i==null)throw Error(l(160));switch(i.tag){case 27:var m=i.stateNode,p=fm(t);su(t,p,m);break;case 5:var j=i.stateNode;i.flags&32&&(Cl(j,""),i.flags&=-33);var _=fm(t);su(t,_,j);break;case 3:case 4:var P=i.stateNode.containerInfo,te=fm(t);mm(t,te,P);break;default:throw Error(l(161))}}catch(ue){Tt(t,t.return,ue)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function nv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;nv(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function Is(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Xy(t,a.alternate,a),a=a.sibling}function rl(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:ur(4,a,a.return),rl(a);break;case 1:as(a,a.return);var i=a.stateNode;typeof i.componentWillUnmount=="function"&&Vy(a,a.return,i),rl(a);break;case 27:vo(a.stateNode);case 26:case 5:as(a,a.return),rl(a);break;case 22:a.memoizedState===null&&rl(a);break;case 30:rl(a);break;default:rl(a)}t=t.sibling}}function zs(t,a,i){for(i=i&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,m=t,p=a,j=p.flags;switch(p.tag){case 0:case 11:case 15:zs(m,p,i),oo(4,p);break;case 1:if(zs(m,p,i),c=p,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(te){Tt(c,c.return,te)}if(c=p,m=c.updateQueue,m!==null){var _=c.stateNode;try{var P=m.shared.hiddenCallbacks;if(P!==null)for(m.shared.hiddenCallbacks=null,m=0;m<P.length;m++)Mg(P[m],_)}catch(te){Tt(c,c.return,te)}}i&&j&64&&Gy(p),co(p,p.return);break;case 27:Qy(p);case 26:case 5:zs(m,p,i),i&&c===null&&j&4&&Yy(p),co(p,p.return);break;case 12:zs(m,p,i);break;case 31:zs(m,p,i),i&&j&4&&Wy(m,p);break;case 13:zs(m,p,i),i&&j&4&&ev(m,p);break;case 22:p.memoizedState===null&&zs(m,p,i),co(p,p.return);break;case 30:break;default:zs(m,p,i)}a=a.sibling}}function pm(t,a){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&Ki(i))}function xm(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&Ki(t))}function $a(t,a,i,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)av(t,a,i,c),a=a.sibling}function av(t,a,i,c){var m=a.flags;switch(a.tag){case 0:case 11:case 15:$a(t,a,i,c),m&2048&&oo(9,a);break;case 1:$a(t,a,i,c);break;case 3:$a(t,a,i,c),m&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&Ki(t)));break;case 12:if(m&2048){$a(t,a,i,c),t=a.stateNode;try{var p=a.memoizedProps,j=p.id,_=p.onPostCommit;typeof _=="function"&&_(j,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(P){Tt(a,a.return,P)}}else $a(t,a,i,c);break;case 31:$a(t,a,i,c);break;case 13:$a(t,a,i,c);break;case 23:break;case 22:p=a.stateNode,j=a.alternate,a.memoizedState!==null?p._visibility&2?$a(t,a,i,c):uo(t,a):p._visibility&2?$a(t,a,i,c):(p._visibility|=2,$l(t,a,i,c,(a.subtreeFlags&10256)!==0||!1)),m&2048&&pm(j,a);break;case 24:$a(t,a,i,c),m&2048&&xm(a.alternate,a);break;default:$a(t,a,i,c)}}function $l(t,a,i,c,m){for(m=m&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var p=t,j=a,_=i,P=c,te=j.flags;switch(j.tag){case 0:case 11:case 15:$l(p,j,_,P,m),oo(8,j);break;case 23:break;case 22:var ue=j.stateNode;j.memoizedState!==null?ue._visibility&2?$l(p,j,_,P,m):uo(p,j):(ue._visibility|=2,$l(p,j,_,P,m)),m&&te&2048&&pm(j.alternate,j);break;case 24:$l(p,j,_,P,m),m&&te&2048&&xm(j.alternate,j);break;default:$l(p,j,_,P,m)}a=a.sibling}}function uo(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var i=t,c=a,m=c.flags;switch(c.tag){case 22:uo(i,c),m&2048&&pm(c.alternate,c);break;case 24:uo(i,c),m&2048&&xm(c.alternate,c);break;default:uo(i,c)}a=a.sibling}}var fo=8192;function Ql(t,a,i){if(t.subtreeFlags&fo)for(t=t.child;t!==null;)sv(t,a,i),t=t.sibling}function sv(t,a,i){switch(t.tag){case 26:Ql(t,a,i),t.flags&fo&&t.memoizedState!==null&&xw(i,Ya,t.memoizedState,t.memoizedProps);break;case 5:Ql(t,a,i);break;case 3:case 4:var c=Ya;Ya=vu(t.stateNode.containerInfo),Ql(t,a,i),Ya=c;break;case 22:t.memoizedState===null&&(c=t.alternate,c!==null&&c.memoizedState!==null?(c=fo,fo=16777216,Ql(t,a,i),fo=c):Ql(t,a,i));break;default:Ql(t,a,i)}}function rv(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function mo(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var i=0;i<a.length;i++){var c=a[i];xn=c,iv(c,t)}rv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)lv(t),t=t.sibling}function lv(t){switch(t.tag){case 0:case 11:case 15:mo(t),t.flags&2048&&ur(9,t,t.return);break;case 3:mo(t);break;case 12:mo(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&2&&(t.return===null||t.return.tag!==13)?(a._visibility&=-3,lu(t)):mo(t);break;default:mo(t)}}function lu(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var i=0;i<a.length;i++){var c=a[i];xn=c,iv(c,t)}rv(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:ur(8,a,a.return),lu(a);break;case 22:i=a.stateNode,i._visibility&2&&(i._visibility&=-3,lu(a));break;default:lu(a)}t=t.sibling}}function iv(t,a){for(;xn!==null;){var i=xn;switch(i.tag){case 0:case 11:case 15:ur(8,i,a);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var c=i.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Ki(i.memoizedState.cache)}if(c=i.child,c!==null)c.return=i,xn=c;else e:for(i=t;xn!==null;){c=xn;var m=c.sibling,p=c.return;if(Zy(c),c===i){xn=null;break e}if(m!==null){m.return=p,xn=m;break e}xn=p}}}var R2={getCacheForType:function(t){var a=Sn(nn),i=a.data.get(t);return i===void 0&&(i=t(),a.data.set(t,i)),i},cacheSignal:function(){return Sn(nn).controller.signal}},O2=typeof WeakMap=="function"?WeakMap:Map,Nt=0,Ot=null,it=null,ct=0,Ct=0,ia=null,dr=!1,Kl=!1,gm=!1,Us=0,Kt=0,fr=0,ll=0,ym=0,oa=0,Xl=0,ho=null,$n=null,vm=!1,iu=0,ov=0,ou=1/0,cu=null,mr=null,un=0,hr=null,Zl=null,Ps=0,bm=0,Nm=null,cv=null,po=0,jm=null;function ca(){return(Nt&2)!==0&&ct!==0?ct&-ct:B.T!==null?Tm():je()}function uv(){if(oa===0)if((ct&536870912)===0||pt){var t=Ur;Ur<<=1,(Ur&3932160)===0&&(Ur=262144),oa=t}else oa=536870912;return t=ra.current,t!==null&&(t.flags|=32),oa}function Qn(t,a,i){(t===Ot&&(Ct===2||Ct===9)||t.cancelPendingCommit!==null)&&(Jl(t,0),pr(t,ct,oa,!1)),Ws(t,i),((Nt&2)===0||t!==Ot)&&(t===Ot&&((Nt&2)===0&&(ll|=i),Kt===4&&pr(t,ct,oa,!1)),ss(t))}function dv(t,a,i){if((Nt&6)!==0)throw Error(l(327));var c=!i&&(a&127)===0&&(a&t.expiredLanes)===0||Br(t,a),m=c?L2(t,a):Em(t,a,!0),p=c;do{if(m===0){Kl&&!c&&pr(t,a,0,!1);break}else{if(i=t.current.alternate,p&&!M2(i)){m=Em(t,a,!1),p=!1;continue}if(m===2){if(p=a,t.errorRecoveryDisabledLanes&p)var j=0;else j=t.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){a=j;e:{var _=t;m=ho;var P=_.current.memoizedState.isDehydrated;if(P&&(Jl(_,j).flags|=256),j=Em(_,j,!1),j!==2){if(gm&&!P){_.errorRecoveryDisabledLanes|=p,ll|=p,m=4;break e}p=$n,$n=m,p!==null&&($n===null?$n=p:$n.push.apply($n,p))}m=j}if(p=!1,m!==2)continue}}if(m===1){Jl(t,0),pr(t,a,0,!0);break}e:{switch(c=t,p=m,p){case 0:case 1:throw Error(l(345));case 4:if((a&4194048)!==a)break;case 6:pr(c,a,oa,!dr);break e;case 2:$n=null;break;case 3:case 5:break;default:throw Error(l(329))}if((a&62914560)===a&&(m=iu+300-bt(),10<m)){if(pr(c,a,oa,!dr),Pr(c,0,!0)!==0)break e;Ps=a,c.timeoutHandle=Hv(fv.bind(null,c,i,$n,cu,vm,a,oa,ll,Xl,dr,p,"Throttled",-0,0),m);break e}fv(c,i,$n,cu,vm,a,oa,ll,Xl,dr,p,null,-0,0)}}break}while(!0);ss(t)}function fv(t,a,i,c,m,p,j,_,P,te,ue,me,se,oe){if(t.timeoutHandle=-1,me=a.subtreeFlags,me&8192||(me&16785408)===16785408){me={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Es},sv(a,p,me);var Ae=(p&62914560)===p?iu-bt():(p&4194048)===p?ov-bt():0;if(Ae=gw(me,Ae),Ae!==null){Ps=p,t.cancelPendingCommit=Ae(bv.bind(null,t,a,p,i,c,m,j,_,P,ue,me,null,se,oe)),pr(t,p,j,!te);return}}bv(t,a,p,i,c,m,j,_,P)}function M2(t){for(var a=t;;){var i=a.tag;if((i===0||i===11||i===15)&&a.flags&16384&&(i=a.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var c=0;c<i.length;c++){var m=i[c],p=m.getSnapshot;m=m.value;try{if(!aa(p(),m))return!1}catch{return!1}}if(i=a.child,a.subtreeFlags&16384&&i!==null)i.return=a,a=i;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function pr(t,a,i,c){a&=~ym,a&=~ll,t.suspendedLanes|=a,t.pingedLanes&=~a,c&&(t.warmLanes|=a),c=t.expirationTimes;for(var m=a;0<m;){var p=31-wt(m),j=1<<p;c[p]=-1,m&=~j}i!==0&&bc(t,i,a)}function uu(){return(Nt&6)===0?(xo(0),!1):!0}function Sm(){if(it!==null){if(Ct===0)var t=it.return;else t=it,Ts=Zr=null,Pf(t),Hl=null,Zi=0,t=it;for(;t!==null;)qy(t.alternate,t),t=t.return;it=null}}function Jl(t,a){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,W2(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),Ps=0,Sm(),Ot=t,it=i=_s(t.current,null),ct=a,Ct=0,ia=null,dr=!1,Kl=Br(t,a),gm=!1,Xl=oa=ym=ll=fr=Kt=0,$n=ho=null,vm=!1,(a&8)!==0&&(a|=a&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=a;0<c;){var m=31-wt(c),p=1<<m;a|=t[m],c&=~p}return Us=a,Rc(),i}function mv(t,a){We=null,B.H=ro,a===Fl||a===Pc?(a=kg(),Ct=3):a===Cf?(a=kg(),Ct=4):Ct=a===tm?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ia=a,it===null&&(Kt=1,Wc(t,ja(a,t.current)))}function hv(){var t=ra.current;return t===null?!0:(ct&4194048)===ct?_a===null:(ct&62914560)===ct||(ct&536870912)!==0?t===_a:!1}function pv(){var t=B.H;return B.H=ro,t===null?ro:t}function xv(){var t=B.A;return B.A=R2,t}function du(){Kt=4,dr||(ct&4194048)!==ct&&ra.current!==null||(Kl=!0),(fr&134217727)===0&&(ll&134217727)===0||Ot===null||pr(Ot,ct,oa,!1)}function Em(t,a,i){var c=Nt;Nt|=2;var m=pv(),p=xv();(Ot!==t||ct!==a)&&(cu=null,Jl(t,a)),a=!1;var j=Kt;e:do try{if(Ct!==0&&it!==null){var _=it,P=ia;switch(Ct){case 8:Sm(),j=6;break e;case 3:case 2:case 9:case 6:ra.current===null&&(a=!0);var te=Ct;if(Ct=0,ia=null,Wl(t,_,P,te),i&&Kl){j=0;break e}break;default:te=Ct,Ct=0,ia=null,Wl(t,_,P,te)}}D2(),j=Kt;break}catch(ue){mv(t,ue)}while(!0);return a&&t.shellSuspendCounter++,Ts=Zr=null,Nt=c,B.H=m,B.A=p,it===null&&(Ot=null,ct=0,Rc()),j}function D2(){for(;it!==null;)gv(it)}function L2(t,a){var i=Nt;Nt|=2;var c=pv(),m=xv();Ot!==t||ct!==a?(cu=null,ou=bt()+500,Jl(t,a)):Kl=Br(t,a);e:do try{if(Ct!==0&&it!==null){a=it;var p=ia;t:switch(Ct){case 1:Ct=0,ia=null,Wl(t,a,p,1);break;case 2:case 9:if(Cg(p)){Ct=0,ia=null,yv(a);break}a=function(){Ct!==2&&Ct!==9||Ot!==t||(Ct=7),ss(t)},p.then(a,a);break e;case 3:Ct=7;break e;case 4:Ct=5;break e;case 7:Cg(p)?(Ct=0,ia=null,yv(a)):(Ct=0,ia=null,Wl(t,a,p,7));break;case 5:var j=null;switch(it.tag){case 26:j=it.memoizedState;case 5:case 27:var _=it;if(j?ab(j):_.stateNode.complete){Ct=0,ia=null;var P=_.sibling;if(P!==null)it=P;else{var te=_.return;te!==null?(it=te,fu(te)):it=null}break t}}Ct=0,ia=null,Wl(t,a,p,5);break;case 6:Ct=0,ia=null,Wl(t,a,p,6);break;case 8:Sm(),Kt=6;break e;default:throw Error(l(462))}}I2();break}catch(ue){mv(t,ue)}while(!0);return Ts=Zr=null,B.H=c,B.A=m,Nt=i,it!==null?0:(Ot=null,ct=0,Rc(),Kt)}function I2(){for(;it!==null&&!Et();)gv(it)}function gv(t){var a=Fy(t.alternate,t,Us);t.memoizedProps=t.pendingProps,a===null?fu(t):it=a}function yv(t){var a=t,i=a.alternate;switch(a.tag){case 15:case 0:a=Ly(i,a,a.pendingProps,a.type,void 0,ct);break;case 11:a=Ly(i,a,a.pendingProps,a.type.render,a.ref,ct);break;case 5:Pf(a);default:qy(i,a),a=it=xg(a,Us),a=Fy(i,a,Us)}t.memoizedProps=t.pendingProps,a===null?fu(t):it=a}function Wl(t,a,i,c){Ts=Zr=null,Pf(a),Hl=null,Zi=0;var m=a.return;try{if(E2(t,m,a,i,ct)){Kt=1,Wc(t,ja(i,t.current)),it=null;return}}catch(p){if(m!==null)throw it=m,p;Kt=1,Wc(t,ja(i,t.current)),it=null;return}a.flags&32768?(pt||c===1?t=!0:Kl||(ct&536870912)!==0?t=!1:(dr=t=!0,(c===2||c===9||c===3||c===6)&&(c=ra.current,c!==null&&c.tag===13&&(c.flags|=16384))),vv(a,t)):fu(a)}function fu(t){var a=t;do{if((a.flags&32768)!==0){vv(a,dr);return}t=a.return;var i=C2(a.alternate,a,Us);if(i!==null){it=i;return}if(a=a.sibling,a!==null){it=a;return}it=a=t}while(a!==null);Kt===0&&(Kt=5)}function vv(t,a){do{var i=T2(t.alternate,t);if(i!==null){i.flags&=32767,it=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!a&&(t=t.sibling,t!==null)){it=t;return}it=t=i}while(t!==null);Kt=6,it=null}function bv(t,a,i,c,m,p,j,_,P){t.cancelPendingCommit=null;do mu();while(un!==0);if((Nt&6)!==0)throw Error(l(327));if(a!==null){if(a===t.current)throw Error(l(177));if(p=a.lanes|a.childLanes,p|=ff,Gd(t,i,p,j,_,P),t===Ot&&(it=Ot=null,ct=0),Zl=a,hr=t,Ps=i,bm=p,Nm=m,cv=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,B2(ze,function(){return wv(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=B.T,B.T=null,m=F.p,F.p=2,j=Nt,Nt|=4;try{k2(t,a,i)}finally{Nt=j,F.p=m,B.T=c}}un=1,Nv(),jv(),Sv()}}function Nv(){if(un===1){un=0;var t=hr,a=Zl,i=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||i){i=B.T,B.T=null;var c=F.p;F.p=2;var m=Nt;Nt|=4;try{tv(a,t);var p=Im,j=ig(t.containerInfo),_=p.focusedElem,P=p.selectionRange;if(j!==_&&_&&_.ownerDocument&&lg(_.ownerDocument.documentElement,_)){if(P!==null&&lf(_)){var te=P.start,ue=P.end;if(ue===void 0&&(ue=te),"selectionStart"in _)_.selectionStart=te,_.selectionEnd=Math.min(ue,_.value.length);else{var me=_.ownerDocument||document,se=me&&me.defaultView||window;if(se.getSelection){var oe=se.getSelection(),Ae=_.textContent.length,Ye=Math.min(P.start,Ae),Rt=P.end===void 0?Ye:Math.min(P.end,Ae);!oe.extend&&Ye>Rt&&(j=Rt,Rt=Ye,Ye=j);var $=rg(_,Ye),H=rg(_,Rt);if($&&H&&(oe.rangeCount!==1||oe.anchorNode!==$.node||oe.anchorOffset!==$.offset||oe.focusNode!==H.node||oe.focusOffset!==H.offset)){var W=me.createRange();W.setStart($.node,$.offset),oe.removeAllRanges(),Ye>Rt?(oe.addRange(W),oe.extend(H.node,H.offset)):(W.setEnd(H.node,H.offset),oe.addRange(W))}}}}for(me=[],oe=_;oe=oe.parentNode;)oe.nodeType===1&&me.push({element:oe,left:oe.scrollLeft,top:oe.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<me.length;_++){var de=me[_];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}wu=!!Lm,Im=Lm=null}finally{Nt=m,F.p=c,B.T=i}}t.current=a,un=2}}function jv(){if(un===2){un=0;var t=hr,a=Zl,i=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||i){i=B.T,B.T=null;var c=F.p;F.p=2;var m=Nt;Nt|=4;try{Xy(t,a.alternate,a)}finally{Nt=m,F.p=c,B.T=i}}un=3}}function Sv(){if(un===4||un===3){un=0,Gt();var t=hr,a=Zl,i=Ps,c=cv;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?un=5:(un=0,Zl=hr=null,Ev(t,t.pendingLanes));var m=t.pendingLanes;if(m===0&&(mr=null),ge(i),a=a.stateNode,_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(vn,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=B.T,m=F.p,F.p=2,B.T=null;try{for(var p=t.onRecoverableError,j=0;j<c.length;j++){var _=c[j];p(_.value,{componentStack:_.stack})}}finally{B.T=a,F.p=m}}(Ps&3)!==0&&mu(),ss(t),m=t.pendingLanes,(i&261930)!==0&&(m&42)!==0?t===jm?po++:(po=0,jm=t):po=0,xo(0)}}function Ev(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,Ki(a)))}function mu(){return Nv(),jv(),Sv(),wv()}function wv(){if(un!==5)return!1;var t=hr,a=bm;bm=0;var i=ge(Ps),c=B.T,m=F.p;try{F.p=32>i?32:i,B.T=null,i=Nm,Nm=null;var p=hr,j=Ps;if(un=0,Zl=hr=null,Ps=0,(Nt&6)!==0)throw Error(l(331));var _=Nt;if(Nt|=4,lv(p.current),av(p,p.current,j,i),Nt=_,xo(0,!1),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(vn,p)}catch{}return!0}finally{F.p=m,B.T=c,Ev(t,a)}}function _v(t,a,i){a=ja(i,a),a=em(t.stateNode,a,2),t=ir(t,a,2),t!==null&&(Ws(t,2),ss(t))}function Tt(t,a,i){if(t.tag===3)_v(t,t,i);else for(;a!==null;){if(a.tag===3){_v(a,t,i);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(mr===null||!mr.has(c))){t=ja(i,t),i=Cy(2),c=ir(a,i,2),c!==null&&(Ty(i,c,a,t),Ws(c,2),ss(c));break}}a=a.return}}function wm(t,a,i){var c=t.pingCache;if(c===null){c=t.pingCache=new O2;var m=new Set;c.set(a,m)}else m=c.get(a),m===void 0&&(m=new Set,c.set(a,m));m.has(i)||(gm=!0,m.add(i),t=z2.bind(null,t,a,i),a.then(t,t))}function z2(t,a,i){var c=t.pingCache;c!==null&&c.delete(a),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,Ot===t&&(ct&i)===i&&(Kt===4||Kt===3&&(ct&62914560)===ct&&300>bt()-iu?(Nt&2)===0&&Jl(t,0):ym|=i,Xl===ct&&(Xl=0)),ss(t)}function Cv(t,a){a===0&&(a=Fr()),t=Qr(t,a),t!==null&&(Ws(t,a),ss(t))}function U2(t){var a=t.memoizedState,i=0;a!==null&&(i=a.retryLane),Cv(t,i)}function P2(t,a){var i=0;switch(t.tag){case 31:case 13:var c=t.stateNode,m=t.memoizedState;m!==null&&(i=m.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(l(314))}c!==null&&c.delete(a),Cv(t,i)}function B2(t,a){return yn(t,a)}var hu=null,ei=null,_m=!1,pu=!1,Cm=!1,xr=0;function ss(t){t!==ei&&t.next===null&&(ei===null?hu=ei=t:ei=ei.next=t),pu=!0,_m||(_m=!0,H2())}function xo(t,a){if(!Cm&&pu){Cm=!0;do for(var i=!1,c=hu;c!==null;){if(t!==0){var m=c.pendingLanes;if(m===0)var p=0;else{var j=c.suspendedLanes,_=c.pingedLanes;p=(1<<31-wt(42|t)+1)-1,p&=m&~(j&~_),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(i=!0,Rv(c,p))}else p=ct,p=Pr(c,c===Ot?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||Br(c,p)||(i=!0,Rv(c,p));c=c.next}while(i);Cm=!1}}function F2(){Tv()}function Tv(){pu=_m=!1;var t=0;xr!==0&&J2()&&(t=xr);for(var a=bt(),i=null,c=hu;c!==null;){var m=c.next,p=kv(c,a);p===0?(c.next=null,i===null?hu=m:i.next=m,m===null&&(ei=i)):(i=c,(t!==0||(p&3)!==0)&&(pu=!0)),c=m}un!==0&&un!==5||xo(t),xr!==0&&(xr=0)}function kv(t,a){for(var i=t.suspendedLanes,c=t.pingedLanes,m=t.expirationTimes,p=t.pendingLanes&-62914561;0<p;){var j=31-wt(p),_=1<<j,P=m[j];P===-1?((_&i)===0||(_&c)!==0)&&(m[j]=vc(_,a)):P<=a&&(t.expiredLanes|=_),p&=~_}if(a=Ot,i=ct,i=Pr(t,t===a?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,i===0||t===a&&(Ct===2||Ct===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&xe(c),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||Br(t,i)){if(a=i&-i,a===t.callbackPriority)return a;switch(c!==null&&xe(c),ge(i)){case 2:case 8:i=ve;break;case 32:i=ze;break;case 268435456:i=De;break;default:i=ze}return c=Av.bind(null,t),i=yn(i,c),t.callbackPriority=a,t.callbackNode=i,a}return c!==null&&c!==null&&xe(c),t.callbackPriority=2,t.callbackNode=null,2}function Av(t,a){if(un!==0&&un!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(mu()&&t.callbackNode!==i)return null;var c=ct;return c=Pr(t,t===Ot?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(dv(t,c,a),kv(t,bt()),t.callbackNode!=null&&t.callbackNode===i?Av.bind(null,t):null)}function Rv(t,a){if(mu())return null;dv(t,a,!0)}function H2(){ew(function(){(Nt&6)!==0?yn(ce,F2):Tv()})}function Tm(){if(xr===0){var t=Pl;t===0&&(t=Ns,Ns<<=1,(Ns&261888)===0&&(Ns=256)),xr=t}return xr}function Ov(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Sc(""+t)}function Mv(t,a){var i=a.ownerDocument.createElement("input");return i.name=a.name,i.value=a.value,t.id&&i.setAttribute("form",t.id),a.parentNode.insertBefore(i,a),t=new FormData(t),i.parentNode.removeChild(i),t}function q2(t,a,i,c,m){if(a==="submit"&&i&&i.stateNode===m){var p=Ov((m[Ce]||null).action),j=c.submitter;j&&(a=(a=j[Ce]||null)?Ov(a.formAction):j.getAttribute("formAction"),a!==null&&(p=a,j=null));var _=new Cc("action","action",null,c,m);t.push({event:_,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(xr!==0){var P=j?Mv(m,j):new FormData(m);Qf(i,{pending:!0,data:P,method:m.method,action:p},null,P)}}else typeof p=="function"&&(_.preventDefault(),P=j?Mv(m,j):new FormData(m),Qf(i,{pending:!0,data:P,method:m.method,action:p},p,P))},currentTarget:m}]})}}for(var km=0;km<df.length;km++){var Am=df[km],G2=Am.toLowerCase(),V2=Am[0].toUpperCase()+Am.slice(1);Va(G2,"on"+V2)}Va(ug,"onAnimationEnd"),Va(dg,"onAnimationIteration"),Va(fg,"onAnimationStart"),Va("dblclick","onDoubleClick"),Va("focusin","onFocus"),Va("focusout","onBlur"),Va(i2,"onTransitionRun"),Va(o2,"onTransitionStart"),Va(c2,"onTransitionCancel"),Va(mg,"onTransitionEnd"),va("onMouseEnter",["mouseout","mouseover"]),va("onMouseLeave",["mouseout","mouseover"]),va("onPointerEnter",["pointerout","pointerover"]),va("onPointerLeave",["pointerout","pointerover"]),qa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qa("onBeforeInput",["compositionend","keypress","textInput","paste"]),qa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(go));function Dv(t,a){a=(a&4)!==0;for(var i=0;i<t.length;i++){var c=t[i],m=c.event;c=c.listeners;e:{var p=void 0;if(a)for(var j=c.length-1;0<=j;j--){var _=c[j],P=_.instance,te=_.currentTarget;if(_=_.listener,P!==p&&m.isPropagationStopped())break e;p=_,m.currentTarget=te;try{p(m)}catch(ue){Ac(ue)}m.currentTarget=null,p=P}else for(j=0;j<c.length;j++){if(_=c[j],P=_.instance,te=_.currentTarget,_=_.listener,P!==p&&m.isPropagationStopped())break e;p=_,m.currentTarget=te;try{p(m)}catch(ue){Ac(ue)}m.currentTarget=null,p=P}}}}function ot(t,a){var i=a[Ge];i===void 0&&(i=a[Ge]=new Set);var c=t+"__bubble";i.has(c)||(Lv(a,t,2,!1),i.add(c))}function Rm(t,a,i){var c=0;a&&(c|=4),Lv(i,t,c,a)}var xu="_reactListening"+Math.random().toString(36).slice(2);function Om(t){if(!t[xu]){t[xu]=!0,Ha.forEach(function(i){i!=="selectionchange"&&(Y2.has(i)||Rm(i,!1,t),Rm(i,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[xu]||(a[xu]=!0,Rm("selectionchange",!1,a))}}function Lv(t,a,i,c){switch(ub(a)){case 2:var m=bw;break;case 8:m=Nw;break;default:m=$m}i=m.bind(null,a,i,t),m=void 0,!Zd||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),c?m!==void 0?t.addEventListener(a,i,{capture:!0,passive:m}):t.addEventListener(a,i,!0):m!==void 0?t.addEventListener(a,i,{passive:m}):t.addEventListener(a,i,!1)}function Mm(t,a,i,c,m){var p=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var j=c.tag;if(j===3||j===4){var _=c.stateNode.containerInfo;if(_===m)break;if(j===4)for(j=c.return;j!==null;){var P=j.tag;if((P===3||P===4)&&j.stateNode.containerInfo===m)return;j=j.return}for(;_!==null;){if(j=$t(_),j===null)return;if(P=j.tag,P===5||P===6||P===26||P===27){c=p=j;continue e}_=_.parentNode}}c=c.return}Bx(function(){var te=p,ue=Kd(i),me=[];e:{var se=hg.get(t);if(se!==void 0){var oe=Cc,Ae=t;switch(t){case"keypress":if(wc(i)===0)break e;case"keydown":case"keyup":oe=PE;break;case"focusin":Ae="focus",oe=tf;break;case"focusout":Ae="blur",oe=tf;break;case"beforeblur":case"afterblur":oe=tf;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=qx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=CE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=HE;break;case ug:case dg:case fg:oe=AE;break;case mg:oe=GE;break;case"scroll":case"scrollend":oe=wE;break;case"wheel":oe=YE;break;case"copy":case"cut":case"paste":oe=OE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=Vx;break;case"toggle":case"beforetoggle":oe=QE}var Ye=(a&4)!==0,Rt=!Ye&&(t==="scroll"||t==="scrollend"),$=Ye?se!==null?se+"Capture":null:se;Ye=[];for(var H=te,W;H!==null;){var de=H;if(W=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||W===null||$===null||(de=Ui(H,$),de!=null&&Ye.push(yo(H,de,W))),Rt)break;H=H.return}0<Ye.length&&(se=new oe(se,Ae,null,i,ue),me.push({event:se,listeners:Ye}))}}if((a&7)===0){e:{if(se=t==="mouseover"||t==="pointerover",oe=t==="mouseout"||t==="pointerout",se&&i!==Qd&&(Ae=i.relatedTarget||i.fromElement)&&($t(Ae)||Ae[Ue]))break e;if((oe||se)&&(se=ue.window===ue?ue:(se=ue.ownerDocument)?se.defaultView||se.parentWindow:window,oe?(Ae=i.relatedTarget||i.toElement,oe=te,Ae=Ae?$t(Ae):null,Ae!==null&&(Rt=u(Ae),Ye=Ae.tag,Ae!==Rt||Ye!==5&&Ye!==27&&Ye!==6)&&(Ae=null)):(oe=null,Ae=te),oe!==Ae)){if(Ye=qx,de="onMouseLeave",$="onMouseEnter",H="mouse",(t==="pointerout"||t==="pointerover")&&(Ye=Vx,de="onPointerLeave",$="onPointerEnter",H="pointer"),Rt=oe==null?se:pn(oe),W=Ae==null?se:pn(Ae),se=new Ye(de,H+"leave",oe,i,ue),se.target=Rt,se.relatedTarget=W,de=null,$t(ue)===te&&(Ye=new Ye($,H+"enter",Ae,i,ue),Ye.target=W,Ye.relatedTarget=Rt,de=Ye),Rt=de,oe&&Ae)t:{for(Ye=$2,$=oe,H=Ae,W=0,de=$;de;de=Ye(de))W++;de=0;for(var qe=H;qe;qe=Ye(qe))de++;for(;0<W-de;)$=Ye($),W--;for(;0<de-W;)H=Ye(H),de--;for(;W--;){if($===H||H!==null&&$===H.alternate){Ye=$;break t}$=Ye($),H=Ye(H)}Ye=null}else Ye=null;oe!==null&&Iv(me,se,oe,Ye,!1),Ae!==null&&Rt!==null&&Iv(me,Rt,Ae,Ye,!0)}}e:{if(se=te?pn(te):window,oe=se.nodeName&&se.nodeName.toLowerCase(),oe==="select"||oe==="input"&&se.type==="file")var yt=Wx;else if(Zx(se))if(eg)yt=s2;else{yt=n2;var Le=t2}else oe=se.nodeName,!oe||oe.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?te&&$d(te.elementType)&&(yt=Wx):yt=a2;if(yt&&(yt=yt(t,te))){Jx(me,yt,i,ue);break e}Le&&Le(t,se,te),t==="focusout"&&te&&se.type==="number"&&te.memoizedProps.value!=null&&Yd(se,"number",se.value)}switch(Le=te?pn(te):window,t){case"focusin":(Zx(Le)||Le.contentEditable==="true")&&(Rl=Le,of=te,Yi=null);break;case"focusout":Yi=of=Rl=null;break;case"mousedown":cf=!0;break;case"contextmenu":case"mouseup":case"dragend":cf=!1,og(me,i,ue);break;case"selectionchange":if(l2)break;case"keydown":case"keyup":og(me,i,ue)}var nt;if(af)e:{switch(t){case"compositionstart":var ut="onCompositionStart";break e;case"compositionend":ut="onCompositionEnd";break e;case"compositionupdate":ut="onCompositionUpdate";break e}ut=void 0}else Al?Kx(t,i)&&(ut="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(ut="onCompositionStart");ut&&(Yx&&i.locale!=="ko"&&(Al||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&Al&&(nt=Fx()):(er=ue,Jd="value"in er?er.value:er.textContent,Al=!0)),Le=gu(te,ut),0<Le.length&&(ut=new Gx(ut,t,null,i,ue),me.push({event:ut,listeners:Le}),nt?ut.data=nt:(nt=Xx(i),nt!==null&&(ut.data=nt)))),(nt=XE?ZE(t,i):JE(t,i))&&(ut=gu(te,"onBeforeInput"),0<ut.length&&(Le=new Gx("onBeforeInput","beforeinput",null,i,ue),me.push({event:Le,listeners:ut}),Le.data=nt)),q2(me,t,te,i,ue)}Dv(me,a)})}function yo(t,a,i){return{instance:t,listener:a,currentTarget:i}}function gu(t,a){for(var i=a+"Capture",c=[];t!==null;){var m=t,p=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||p===null||(m=Ui(t,i),m!=null&&c.unshift(yo(t,m,p)),m=Ui(t,a),m!=null&&c.push(yo(t,m,p))),t.tag===3)return c;t=t.return}return[]}function $2(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Iv(t,a,i,c,m){for(var p=a._reactName,j=[];i!==null&&i!==c;){var _=i,P=_.alternate,te=_.stateNode;if(_=_.tag,P!==null&&P===c)break;_!==5&&_!==26&&_!==27||te===null||(P=te,m?(te=Ui(i,p),te!=null&&j.unshift(yo(i,te,P))):m||(te=Ui(i,p),te!=null&&j.push(yo(i,te,P)))),i=i.return}j.length!==0&&t.push({event:a,listeners:j})}var Q2=/\r\n?/g,K2=/\u0000|\uFFFD/g;function zv(t){return(typeof t=="string"?t:""+t).replace(Q2,`
`).replace(K2,"")}function Uv(t,a){return a=zv(a),zv(t)===a}function At(t,a,i,c,m,p){switch(i){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Cl(t,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Cl(t,""+c);break;case"className":Ga(t,"class",c);break;case"tabIndex":Ga(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Ga(t,i,c);break;case"style":Ux(t,c,p);break;case"data":if(a!=="object"){Ga(t,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||i!=="href")){t.removeAttribute(i);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(i);break}c=Sc(""+c),t.setAttribute(i,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(i==="formAction"?(a!=="input"&&At(t,a,"name",m.name,m,null),At(t,a,"formEncType",m.formEncType,m,null),At(t,a,"formMethod",m.formMethod,m,null),At(t,a,"formTarget",m.formTarget,m,null)):(At(t,a,"encType",m.encType,m,null),At(t,a,"method",m.method,m,null),At(t,a,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(i);break}c=Sc(""+c),t.setAttribute(i,c);break;case"onClick":c!=null&&(t.onclick=Es);break;case"onScroll":c!=null&&ot("scroll",t);break;case"onScrollEnd":c!=null&&ot("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(l(61));if(i=c.__html,i!=null){if(m.children!=null)throw Error(l(60));t.innerHTML=i}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}i=Sc(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(i,""+c):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":c===!0?t.setAttribute(i,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(i,c):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(i,c):t.removeAttribute(i);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(i):t.setAttribute(i,c);break;case"popover":ot("beforetoggle",t),ot("toggle",t),Zt(t,"popover",c);break;case"xlinkActuate":Nn(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Nn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Nn(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Nn(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Nn(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Nn(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Nn(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Nn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Nn(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Zt(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=SE.get(i)||i,Zt(t,i,c))}}function Dm(t,a,i,c,m,p){switch(i){case"style":Ux(t,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(l(61));if(i=c.__html,i!=null){if(m.children!=null)throw Error(l(60));t.innerHTML=i}}break;case"children":typeof c=="string"?Cl(t,c):(typeof c=="number"||typeof c=="bigint")&&Cl(t,""+c);break;case"onScroll":c!=null&&ot("scroll",t);break;case"onScrollEnd":c!=null&&ot("scrollend",t);break;case"onClick":c!=null&&(t.onclick=Es);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!na.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(m=i.endsWith("Capture"),a=i.slice(2,m?i.length-7:void 0),p=t[Ce]||null,p=p!=null?p[i]:null,typeof p=="function"&&t.removeEventListener(a,p,m),typeof c=="function")){typeof p!="function"&&p!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(a,c,m);break e}i in t?t[i]=c:c===!0?t.setAttribute(i,""):Zt(t,i,c)}}}function wn(t,a,i){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ot("error",t),ot("load",t);var c=!1,m=!1,p;for(p in i)if(i.hasOwnProperty(p)){var j=i[p];if(j!=null)switch(p){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,a));default:At(t,a,p,j,i,null)}}m&&At(t,a,"srcSet",i.srcSet,i,null),c&&At(t,a,"src",i.src,i,null);return;case"input":ot("invalid",t);var _=p=j=m=null,P=null,te=null;for(c in i)if(i.hasOwnProperty(c)){var ue=i[c];if(ue!=null)switch(c){case"name":m=ue;break;case"type":j=ue;break;case"checked":P=ue;break;case"defaultChecked":te=ue;break;case"value":p=ue;break;case"defaultValue":_=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(l(137,a));break;default:At(t,a,c,ue,i,null)}}Dx(t,p,_,P,te,j,m,!1);return;case"select":ot("invalid",t),c=j=p=null;for(m in i)if(i.hasOwnProperty(m)&&(_=i[m],_!=null))switch(m){case"value":p=_;break;case"defaultValue":j=_;break;case"multiple":c=_;default:At(t,a,m,_,i,null)}a=p,i=j,t.multiple=!!c,a!=null?_l(t,!!c,a,!1):i!=null&&_l(t,!!c,i,!0);return;case"textarea":ot("invalid",t),p=m=c=null;for(j in i)if(i.hasOwnProperty(j)&&(_=i[j],_!=null))switch(j){case"value":c=_;break;case"defaultValue":m=_;break;case"children":p=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(l(91));break;default:At(t,a,j,_,i,null)}Ix(t,c,m,p);return;case"option":for(P in i)i.hasOwnProperty(P)&&(c=i[P],c!=null)&&(P==="selected"?t.selected=c&&typeof c!="function"&&typeof c!="symbol":At(t,a,P,c,i,null));return;case"dialog":ot("beforetoggle",t),ot("toggle",t),ot("cancel",t),ot("close",t);break;case"iframe":case"object":ot("load",t);break;case"video":case"audio":for(c=0;c<go.length;c++)ot(go[c],t);break;case"image":ot("error",t),ot("load",t);break;case"details":ot("toggle",t);break;case"embed":case"source":case"link":ot("error",t),ot("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in i)if(i.hasOwnProperty(te)&&(c=i[te],c!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,a));default:At(t,a,te,c,i,null)}return;default:if($d(a)){for(ue in i)i.hasOwnProperty(ue)&&(c=i[ue],c!==void 0&&Dm(t,a,ue,c,i,void 0));return}}for(_ in i)i.hasOwnProperty(_)&&(c=i[_],c!=null&&At(t,a,_,c,i,null))}function X2(t,a,i,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,p=null,j=null,_=null,P=null,te=null,ue=null;for(oe in i){var me=i[oe];if(i.hasOwnProperty(oe)&&me!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":P=me;default:c.hasOwnProperty(oe)||At(t,a,oe,null,c,me)}}for(var se in c){var oe=c[se];if(me=i[se],c.hasOwnProperty(se)&&(oe!=null||me!=null))switch(se){case"type":p=oe;break;case"name":m=oe;break;case"checked":te=oe;break;case"defaultChecked":ue=oe;break;case"value":j=oe;break;case"defaultValue":_=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(l(137,a));break;default:oe!==me&&At(t,a,se,oe,c,me)}}Vd(t,j,_,P,te,ue,p,m);return;case"select":oe=j=_=se=null;for(p in i)if(P=i[p],i.hasOwnProperty(p)&&P!=null)switch(p){case"value":break;case"multiple":oe=P;default:c.hasOwnProperty(p)||At(t,a,p,null,c,P)}for(m in c)if(p=c[m],P=i[m],c.hasOwnProperty(m)&&(p!=null||P!=null))switch(m){case"value":se=p;break;case"defaultValue":_=p;break;case"multiple":j=p;default:p!==P&&At(t,a,m,p,c,P)}a=_,i=j,c=oe,se!=null?_l(t,!!i,se,!1):!!c!=!!i&&(a!=null?_l(t,!!i,a,!0):_l(t,!!i,i?[]:"",!1));return;case"textarea":oe=se=null;for(_ in i)if(m=i[_],i.hasOwnProperty(_)&&m!=null&&!c.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:At(t,a,_,null,c,m)}for(j in c)if(m=c[j],p=i[j],c.hasOwnProperty(j)&&(m!=null||p!=null))switch(j){case"value":se=m;break;case"defaultValue":oe=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(l(91));break;default:m!==p&&At(t,a,j,m,c,p)}Lx(t,se,oe);return;case"option":for(var Ae in i)se=i[Ae],i.hasOwnProperty(Ae)&&se!=null&&!c.hasOwnProperty(Ae)&&(Ae==="selected"?t.selected=!1:At(t,a,Ae,null,c,se));for(P in c)se=c[P],oe=i[P],c.hasOwnProperty(P)&&se!==oe&&(se!=null||oe!=null)&&(P==="selected"?t.selected=se&&typeof se!="function"&&typeof se!="symbol":At(t,a,P,se,c,oe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ye in i)se=i[Ye],i.hasOwnProperty(Ye)&&se!=null&&!c.hasOwnProperty(Ye)&&At(t,a,Ye,null,c,se);for(te in c)if(se=c[te],oe=i[te],c.hasOwnProperty(te)&&se!==oe&&(se!=null||oe!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(l(137,a));break;default:At(t,a,te,se,c,oe)}return;default:if($d(a)){for(var Rt in i)se=i[Rt],i.hasOwnProperty(Rt)&&se!==void 0&&!c.hasOwnProperty(Rt)&&Dm(t,a,Rt,void 0,c,se);for(ue in c)se=c[ue],oe=i[ue],!c.hasOwnProperty(ue)||se===oe||se===void 0&&oe===void 0||Dm(t,a,ue,se,c,oe);return}}for(var $ in i)se=i[$],i.hasOwnProperty($)&&se!=null&&!c.hasOwnProperty($)&&At(t,a,$,null,c,se);for(me in c)se=c[me],oe=i[me],!c.hasOwnProperty(me)||se===oe||se==null&&oe==null||At(t,a,me,se,c,oe)}function Pv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Z2(){if(typeof performance.getEntriesByType=="function"){for(var t=0,a=0,i=performance.getEntriesByType("resource"),c=0;c<i.length;c++){var m=i[c],p=m.transferSize,j=m.initiatorType,_=m.duration;if(p&&_&&Pv(j)){for(j=0,_=m.responseEnd,c+=1;c<i.length;c++){var P=i[c],te=P.startTime;if(te>_)break;var ue=P.transferSize,me=P.initiatorType;ue&&Pv(me)&&(P=P.responseEnd,j+=ue*(P<_?1:(_-te)/(P-te)))}if(--c,a+=8*(p+j)/(m.duration/1e3),t++,10<t)break}}if(0<t)return a/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Lm=null,Im=null;function yu(t){return t.nodeType===9?t:t.ownerDocument}function Bv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fv(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function zm(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Um=null;function J2(){var t=window.event;return t&&t.type==="popstate"?t===Um?!1:(Um=t,!0):(Um=null,!1)}var Hv=typeof setTimeout=="function"?setTimeout:void 0,W2=typeof clearTimeout=="function"?clearTimeout:void 0,qv=typeof Promise=="function"?Promise:void 0,ew=typeof queueMicrotask=="function"?queueMicrotask:typeof qv<"u"?function(t){return qv.resolve(null).then(t).catch(tw)}:Hv;function tw(t){setTimeout(function(){throw t})}function gr(t){return t==="head"}function Gv(t,a){var i=a,c=0;do{var m=i.nextSibling;if(t.removeChild(i),m&&m.nodeType===8)if(i=m.data,i==="/$"||i==="/&"){if(c===0){t.removeChild(m),si(a);return}c--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")c++;else if(i==="html")vo(t.ownerDocument.documentElement);else if(i==="head"){i=t.ownerDocument.head,vo(i);for(var p=i.firstChild;p;){var j=p.nextSibling,_=p.nodeName;p[Ht]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&p.rel.toLowerCase()==="stylesheet"||i.removeChild(p),p=j}}else i==="body"&&vo(t.ownerDocument.body);i=m}while(i);si(a)}function Vv(t,a){var i=t;t=0;do{var c=i.nextSibling;if(i.nodeType===1?a?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(a?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(t===0)break;t--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||t++;i=c}while(i)}function Pm(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var i=a;switch(a=a.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Pm(i),Yt(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function nw(t,a,i,c){for(;t.nodeType===1;){var m=i;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[Ht])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(p=t.getAttribute("rel"),p==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(p!==m.rel||t.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||t.getAttribute("title")!==(m.title==null?null:m.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(p=t.getAttribute("src"),(p!==(m.src==null?null:m.src)||t.getAttribute("type")!==(m.type==null?null:m.type)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&p&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var p=m.name==null?null:""+m.name;if(m.type==="hidden"&&t.getAttribute("name")===p)return t}else return t;if(t=Ca(t.nextSibling),t===null)break}return null}function aw(t,a,i){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Ca(t.nextSibling),t===null))return null;return t}function Yv(t,a){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Ca(t.nextSibling),t===null))return null;return t}function Bm(t){return t.data==="$?"||t.data==="$~"}function Fm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function sw(t,a){var i=t.ownerDocument;if(t.data==="$~")t._reactRetry=a;else if(t.data!=="$?"||i.readyState!=="loading")a();else{var c=function(){a(),i.removeEventListener("DOMContentLoaded",c)};i.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function Ca(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return t}var Hm=null;function $v(t){t=t.nextSibling;for(var a=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"||i==="/&"){if(a===0)return Ca(t.nextSibling);a--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||a++}t=t.nextSibling}return null}function Qv(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(a===0)return t;a--}else i!=="/$"&&i!=="/&"||a++}t=t.previousSibling}return null}function Kv(t,a,i){switch(a=yu(i),t){case"html":if(t=a.documentElement,!t)throw Error(l(452));return t;case"head":if(t=a.head,!t)throw Error(l(453));return t;case"body":if(t=a.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function vo(t){for(var a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Yt(t)}var Ta=new Map,Xv=new Set;function vu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Bs=F.d;F.d={f:rw,r:lw,D:iw,C:ow,L:cw,m:uw,X:fw,S:dw,M:mw};function rw(){var t=Bs.f(),a=uu();return t||a}function lw(t){var a=ft(t);a!==null&&a.tag===5&&a.type==="form"?my(a):Bs.r(t)}var ti=typeof document>"u"?null:document;function Zv(t,a,i){var c=ti;if(c&&typeof a=="string"&&a){var m=ba(a);m='link[rel="'+t+'"][href="'+m+'"]',typeof i=="string"&&(m+='[crossorigin="'+i+'"]'),Xv.has(m)||(Xv.add(m),t={rel:t,crossOrigin:i,href:a},c.querySelector(m)===null&&(a=c.createElement("link"),wn(a,"link",t),Bt(a),c.head.appendChild(a)))}}function iw(t){Bs.D(t),Zv("dns-prefetch",t,null)}function ow(t,a){Bs.C(t,a),Zv("preconnect",t,a)}function cw(t,a,i){Bs.L(t,a,i);var c=ti;if(c&&t&&a){var m='link[rel="preload"][as="'+ba(a)+'"]';a==="image"&&i&&i.imageSrcSet?(m+='[imagesrcset="'+ba(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(m+='[imagesizes="'+ba(i.imageSizes)+'"]')):m+='[href="'+ba(t)+'"]';var p=m;switch(a){case"style":p=ni(t);break;case"script":p=ai(t)}Ta.has(p)||(t=y({rel:"preload",href:a==="image"&&i&&i.imageSrcSet?void 0:t,as:a},i),Ta.set(p,t),c.querySelector(m)!==null||a==="style"&&c.querySelector(bo(p))||a==="script"&&c.querySelector(No(p))||(a=c.createElement("link"),wn(a,"link",t),Bt(a),c.head.appendChild(a)))}}function uw(t,a){Bs.m(t,a);var i=ti;if(i&&t){var c=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+ba(c)+'"][href="'+ba(t)+'"]',p=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=ai(t)}if(!Ta.has(p)&&(t=y({rel:"modulepreload",href:t},a),Ta.set(p,t),i.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(No(p)))return}c=i.createElement("link"),wn(c,"link",t),Bt(c),i.head.appendChild(c)}}}function dw(t,a,i){Bs.S(t,a,i);var c=ti;if(c&&t){var m=Hn(c).hoistableStyles,p=ni(t);a=a||"default";var j=m.get(p);if(!j){var _={loading:0,preload:null};if(j=c.querySelector(bo(p)))_.loading=5;else{t=y({rel:"stylesheet",href:t,"data-precedence":a},i),(i=Ta.get(p))&&qm(t,i);var P=j=c.createElement("link");Bt(P),wn(P,"link",t),P._p=new Promise(function(te,ue){P.onload=te,P.onerror=ue}),P.addEventListener("load",function(){_.loading|=1}),P.addEventListener("error",function(){_.loading|=2}),_.loading|=4,bu(j,a,c)}j={type:"stylesheet",instance:j,count:1,state:_},m.set(p,j)}}}function fw(t,a){Bs.X(t,a);var i=ti;if(i&&t){var c=Hn(i).hoistableScripts,m=ai(t),p=c.get(m);p||(p=i.querySelector(No(m)),p||(t=y({src:t,async:!0},a),(a=Ta.get(m))&&Gm(t,a),p=i.createElement("script"),Bt(p),wn(p,"link",t),i.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(m,p))}}function mw(t,a){Bs.M(t,a);var i=ti;if(i&&t){var c=Hn(i).hoistableScripts,m=ai(t),p=c.get(m);p||(p=i.querySelector(No(m)),p||(t=y({src:t,async:!0,type:"module"},a),(a=Ta.get(m))&&Gm(t,a),p=i.createElement("script"),Bt(p),wn(p,"link",t),i.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(m,p))}}function Jv(t,a,i,c){var m=(m=ie.current)?vu(m):null;if(!m)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(a=ni(i.href),i=Hn(m).hoistableStyles,c=i.get(a),c||(c={type:"style",instance:null,count:0,state:null},i.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=ni(i.href);var p=Hn(m).hoistableStyles,j=p.get(t);if(j||(m=m.ownerDocument||m,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(t,j),(p=m.querySelector(bo(t)))&&!p._p&&(j.instance=p,j.state.loading=5),Ta.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Ta.set(t,i),p||hw(m,t,i,j.state))),a&&c===null)throw Error(l(528,""));return j}if(a&&c!==null)throw Error(l(529,""));return null;case"script":return a=i.async,i=i.src,typeof i=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ai(i),i=Hn(m).hoistableScripts,c=i.get(a),c||(c={type:"script",instance:null,count:0,state:null},i.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function ni(t){return'href="'+ba(t)+'"'}function bo(t){return'link[rel="stylesheet"]['+t+"]"}function Wv(t){return y({},t,{"data-precedence":t.precedence,precedence:null})}function hw(t,a,i,c){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=t.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),wn(a,"link",i),Bt(a),t.head.appendChild(a))}function ai(t){return'[src="'+ba(t)+'"]'}function No(t){return"script[async]"+t}function eb(t,a,i){if(a.count++,a.instance===null)switch(a.type){case"style":var c=t.querySelector('style[data-href~="'+ba(i.href)+'"]');if(c)return a.instance=c,Bt(c),c;var m=y({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),Bt(c),wn(c,"style",m),bu(c,i.precedence,t),a.instance=c;case"stylesheet":m=ni(i.href);var p=t.querySelector(bo(m));if(p)return a.state.loading|=4,a.instance=p,Bt(p),p;c=Wv(i),(m=Ta.get(m))&&qm(c,m),p=(t.ownerDocument||t).createElement("link"),Bt(p);var j=p;return j._p=new Promise(function(_,P){j.onload=_,j.onerror=P}),wn(p,"link",c),a.state.loading|=4,bu(p,i.precedence,t),a.instance=p;case"script":return p=ai(i.src),(m=t.querySelector(No(p)))?(a.instance=m,Bt(m),m):(c=i,(m=Ta.get(p))&&(c=y({},i),Gm(c,m)),t=t.ownerDocument||t,m=t.createElement("script"),Bt(m),wn(m,"link",c),t.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(l(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,bu(c,i.precedence,t));return a.instance}function bu(t,a,i){for(var c=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,p=m,j=0;j<c.length;j++){var _=c[j];if(_.dataset.precedence===a)p=_;else if(p!==m)break}p?p.parentNode.insertBefore(t,p.nextSibling):(a=i.nodeType===9?i.head:i,a.insertBefore(t,a.firstChild))}function qm(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function Gm(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var Nu=null;function tb(t,a,i){if(Nu===null){var c=new Map,m=Nu=new Map;m.set(i,c)}else m=Nu,c=m.get(i),c||(c=new Map,m.set(i,c));if(c.has(t))return c;for(c.set(t,null),i=i.getElementsByTagName(t),m=0;m<i.length;m++){var p=i[m];if(!(p[Ht]||p[Se]||t==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var j=p.getAttribute(a)||"";j=t+j;var _=c.get(j);_?_.push(p):c.set(j,[p])}}return c}function nb(t,a,i){t=t.ownerDocument||t,t.head.insertBefore(i,a==="title"?t.querySelector("head > title"):null)}function pw(t,a,i){if(i===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(t=a.disabled,typeof a.precedence=="string"&&t==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function ab(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function xw(t,a,i,c){if(i.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var m=ni(c.href),p=a.querySelector(bo(m));if(p){a=p._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(t.count++,t=ju.bind(t),a.then(t,t)),i.state.loading|=4,i.instance=p,Bt(p);return}p=a.ownerDocument||a,c=Wv(c),(m=Ta.get(m))&&qm(c,m),p=p.createElement("link"),Bt(p);var j=p;j._p=new Promise(function(_,P){j.onload=_,j.onerror=P}),wn(p,"link",c),i.instance=p}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(i,a),(a=i.state.preload)&&(i.state.loading&3)===0&&(t.count++,i=ju.bind(t),a.addEventListener("load",i),a.addEventListener("error",i))}}var Vm=0;function gw(t,a){return t.stylesheets&&t.count===0&&Eu(t,t.stylesheets),0<t.count||0<t.imgCount?function(i){var c=setTimeout(function(){if(t.stylesheets&&Eu(t,t.stylesheets),t.unsuspend){var p=t.unsuspend;t.unsuspend=null,p()}},6e4+a);0<t.imgBytes&&Vm===0&&(Vm=62500*Z2());var m=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Eu(t,t.stylesheets),t.unsuspend)){var p=t.unsuspend;t.unsuspend=null,p()}},(t.imgBytes>Vm?50:800)+a);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function ju(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Eu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Su=null;function Eu(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Su=new Map,a.forEach(yw,t),Su=null,ju.call(t))}function yw(t,a){if(!(a.state.loading&4)){var i=Su.get(t);if(i)var c=i.get(null);else{i=new Map,Su.set(t,i);for(var m=t.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<m.length;p++){var j=m[p];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(i.set(j.dataset.precedence,j),c=j)}c&&i.set(null,c)}m=a.instance,j=m.getAttribute("data-precedence"),p=i.get(j)||c,p===c&&i.set(null,m),i.set(j,m),this.count++,c=ju.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),p?p.parentNode.insertBefore(m,p.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(m,t.firstChild)),a.state.loading|=4}}var jo={$$typeof:D,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function vw(t,a,i,c,m,p,j,_,P){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Js(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Js(0),this.hiddenUpdates=Js(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=p,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function sb(t,a,i,c,m,p,j,_,P,te,ue,me){return t=new vw(t,a,i,j,P,te,ue,me,_),a=1,p===!0&&(a|=24),p=sa(3,null,null,a),t.current=p,p.stateNode=t,a=Ef(),a.refCount++,t.pooledCache=a,a.refCount++,p.memoizedState={element:c,isDehydrated:i,cache:a},Tf(p),t}function rb(t){return t?(t=Dl,t):Dl}function lb(t,a,i,c,m,p){m=rb(m),c.context===null?c.context=m:c.pendingContext=m,c=lr(a),c.payload={element:i},p=p===void 0?null:p,p!==null&&(c.callback=p),i=ir(t,c,a),i!==null&&(Qn(i,t,a),Wi(i,t,a))}function ib(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<a?i:a}}function Ym(t,a){ib(t,a),(t=t.alternate)&&ib(t,a)}function ob(t){if(t.tag===13||t.tag===31){var a=Qr(t,67108864);a!==null&&Qn(a,t,67108864),Ym(t,67108864)}}function cb(t){if(t.tag===13||t.tag===31){var a=ca();a=re(a);var i=Qr(t,a);i!==null&&Qn(i,t,a),Ym(t,a)}}var wu=!0;function bw(t,a,i,c){var m=B.T;B.T=null;var p=F.p;try{F.p=2,$m(t,a,i,c)}finally{F.p=p,B.T=m}}function Nw(t,a,i,c){var m=B.T;B.T=null;var p=F.p;try{F.p=8,$m(t,a,i,c)}finally{F.p=p,B.T=m}}function $m(t,a,i,c){if(wu){var m=Qm(c);if(m===null)Mm(t,a,c,_u,i),db(t,c);else if(Sw(m,t,a,i,c))c.stopPropagation();else if(db(t,c),a&4&&-1<jw.indexOf(t)){for(;m!==null;){var p=ft(m);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var j=js(p.pendingLanes);if(j!==0){var _=p;for(_.pendingLanes|=2,_.entangledLanes|=2;j;){var P=1<<31-wt(j);_.entanglements[1]|=P,j&=~P}ss(p),(Nt&6)===0&&(ou=bt()+500,xo(0))}}break;case 31:case 13:_=Qr(p,2),_!==null&&Qn(_,p,2),uu(),Ym(p,2)}if(p=Qm(c),p===null&&Mm(t,a,c,_u,i),p===m)break;m=p}m!==null&&c.stopPropagation()}else Mm(t,a,c,null,i)}}function Qm(t){return t=Kd(t),Km(t)}var _u=null;function Km(t){if(_u=null,t=$t(t),t!==null){var a=u(t);if(a===null)t=null;else{var i=a.tag;if(i===13){if(t=d(a),t!==null)return t;t=null}else if(i===31){if(t=f(a),t!==null)return t;t=null}else if(i===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return _u=t,null}function ub(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pt()){case ce:return 2;case ve:return 8;case ze:case V:return 32;case De:return 268435456;default:return 32}default:return 32}}var Xm=!1,yr=null,vr=null,br=null,So=new Map,Eo=new Map,Nr=[],jw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function db(t,a){switch(t){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":So.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eo.delete(a.pointerId)}}function wo(t,a,i,c,m,p){return t===null||t.nativeEvent!==p?(t={blockedOn:a,domEventName:i,eventSystemFlags:c,nativeEvent:p,targetContainers:[m]},a!==null&&(a=ft(a),a!==null&&ob(a)),t):(t.eventSystemFlags|=c,a=t.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),t)}function Sw(t,a,i,c,m){switch(a){case"focusin":return yr=wo(yr,t,a,i,c,m),!0;case"dragenter":return vr=wo(vr,t,a,i,c,m),!0;case"mouseover":return br=wo(br,t,a,i,c,m),!0;case"pointerover":var p=m.pointerId;return So.set(p,wo(So.get(p)||null,t,a,i,c,m)),!0;case"gotpointercapture":return p=m.pointerId,Eo.set(p,wo(Eo.get(p)||null,t,a,i,c,m)),!0}return!1}function fb(t){var a=$t(t.target);if(a!==null){var i=u(a);if(i!==null){if(a=i.tag,a===13){if(a=d(i),a!==null){t.blockedOn=a,Pe(t.priority,function(){cb(i)});return}}else if(a===31){if(a=f(i),a!==null){t.blockedOn=a,Pe(t.priority,function(){cb(i)});return}}else if(a===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cu(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var i=Qm(t.nativeEvent);if(i===null){i=t.nativeEvent;var c=new i.constructor(i.type,i);Qd=c,i.target.dispatchEvent(c),Qd=null}else return a=ft(i),a!==null&&ob(a),t.blockedOn=i,!1;a.shift()}return!0}function mb(t,a,i){Cu(t)&&i.delete(a)}function Ew(){Xm=!1,yr!==null&&Cu(yr)&&(yr=null),vr!==null&&Cu(vr)&&(vr=null),br!==null&&Cu(br)&&(br=null),So.forEach(mb),Eo.forEach(mb)}function Tu(t,a){t.blockedOn===a&&(t.blockedOn=null,Xm||(Xm=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ew)))}var ku=null;function hb(t){ku!==t&&(ku=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){ku===t&&(ku=null);for(var a=0;a<t.length;a+=3){var i=t[a],c=t[a+1],m=t[a+2];if(typeof c!="function"){if(Km(c||i)===null)continue;break}var p=ft(i);p!==null&&(t.splice(a,3),a-=3,Qf(p,{pending:!0,data:m,method:i.method,action:c},c,m))}}))}function si(t){function a(P){return Tu(P,t)}yr!==null&&Tu(yr,t),vr!==null&&Tu(vr,t),br!==null&&Tu(br,t),So.forEach(a),Eo.forEach(a);for(var i=0;i<Nr.length;i++){var c=Nr[i];c.blockedOn===t&&(c.blockedOn=null)}for(;0<Nr.length&&(i=Nr[0],i.blockedOn===null);)fb(i),i.blockedOn===null&&Nr.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(c=0;c<i.length;c+=3){var m=i[c],p=i[c+1],j=m[Ce]||null;if(typeof p=="function")j||hb(i);else if(j){var _=null;if(p&&p.hasAttribute("formAction")){if(m=p,j=p[Ce]||null)_=j.formAction;else if(Km(m)!==null)continue}else _=j.action;typeof _=="function"?i[c+1]=_:(i.splice(c,3),c-=3),hb(i)}}}function pb(){function t(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(j){return m=j})},focusReset:"manual",scroll:"manual"})}function a(){m!==null&&(m(),m=null),c||setTimeout(i,20)}function i(){if(!c&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(i,100),function(){c=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),m!==null&&(m(),m=null)}}}function Zm(t){this._internalRoot=t}Au.prototype.render=Zm.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(l(409));var i=a.current,c=ca();lb(i,c,t,a,null,null)},Au.prototype.unmount=Zm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;lb(t.current,2,null,t,null,null),uu(),a[Ue]=null}};function Au(t){this._internalRoot=t}Au.prototype.unstable_scheduleHydration=function(t){if(t){var a=je();t={blockedOn:null,target:t,priority:a};for(var i=0;i<Nr.length&&a!==0&&a<Nr[i].priority;i++);Nr.splice(i,0,t),i===0&&fb(t)}};var xb=s.version;if(xb!=="19.2.3")throw Error(l(527,xb,"19.2.3"));F.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=h(a),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var ww={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ru.isDisabled&&Ru.supportsFiber)try{vn=Ru.inject(ww),_t=Ru}catch{}}return Co.createRoot=function(t,a){if(!o(t))throw Error(l(299));var i=!1,c="",m=Sy,p=Ey,j=wy;return a!=null&&(a.unstable_strictMode===!0&&(i=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(j=a.onRecoverableError)),a=sb(t,1,!1,null,null,i,c,null,m,p,j,pb),t[Ue]=a.current,Om(t),new Zm(a)},Co.hydrateRoot=function(t,a,i){if(!o(t))throw Error(l(299));var c=!1,m="",p=Sy,j=Ey,_=wy,P=null;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(m=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(j=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.formState!==void 0&&(P=i.formState)),a=sb(t,1,!0,a,i??null,c,m,P,p,j,_,pb),a.context=rb(null),i=a.current,c=ca(),c=re(c),m=lr(c),m.callback=null,ir(i,m,c),i=c,a.current.lanes=i,Ws(a,i),ss(a),t[Ue]=a.current,Om(t),new Au(a)},Co.version="19.2.3",Co}var _b;function Lw(){if(_b)return eh.exports;_b=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(s){console.error(s)}}return e(),eh.exports=Dw(),eh.exports}var Iw=Lw();const zw=sc(Iw);var oN=e=>{throw TypeError(e)},Uw=(e,s,r)=>s.has(e)||oN("Cannot "+r),sh=(e,s,r)=>(Uw(e,s,"read from private field"),r?r.call(e):s.get(e)),Pw=(e,s,r)=>s.has(e)?oN("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(e):s.set(e,r),Cb="popstate";function Bw(e={}){function s(l,o){let{pathname:u,search:d,hash:f}=l.location;return Qo("",{pathname:u,search:d,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(l,o){return typeof o=="string"?o:ys(o)}return Hw(s,r,null,e)}function lt(e,s){if(e===!1||e===null||typeof e>"u")throw new Error(s)}function qt(e,s){if(!e){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function Fw(){return Math.random().toString(36).substring(2,10)}function Tb(e,s){return{usr:e.state,key:e.key,idx:s}}function Qo(e,s,r=null,l){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof s=="string"?Lr(s):s,state:r,key:s&&s.key||l||Fw()}}function ys({pathname:e="/",search:s="",hash:r=""}){return s&&s!=="?"&&(e+=s.charAt(0)==="?"?s:"?"+s),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Lr(e){let s={};if(e){let r=e.indexOf("#");r>=0&&(s.hash=e.substring(r),e=e.substring(0,r));let l=e.indexOf("?");l>=0&&(s.search=e.substring(l),e=e.substring(0,l)),e&&(s.pathname=e)}return s}function Hw(e,s,r,l={}){let{window:o=document.defaultView,v5Compat:u=!1}=l,d=o.history,f="POP",x=null,h=g();h==null&&(h=0,d.replaceState({...d.state,idx:h},""));function g(){return(d.state||{idx:null}).idx}function y(){f="POP";let E=g(),w=E==null?null:E-h;h=E,x&&x({action:f,location:S.location,delta:w})}function b(E,w){f="PUSH";let R=Qo(S.location,E,w);h=g()+1;let D=Tb(R,h),Q=S.createHref(R);try{d.pushState(D,"",Q)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;o.location.assign(Q)}u&&x&&x({action:f,location:S.location,delta:1})}function N(E,w){f="REPLACE";let R=Qo(S.location,E,w);h=g();let D=Tb(R,h),Q=S.createHref(R);d.replaceState(D,"",Q),u&&x&&x({action:f,location:S.location,delta:0})}function C(E){return cN(E)}let S={get action(){return f},get location(){return e(o,d)},listen(E){if(x)throw new Error("A history only accepts one active listener");return o.addEventListener(Cb,y),x=E,()=>{o.removeEventListener(Cb,y),x=null}},createHref(E){return s(o,E)},createURL:C,encodeLocation(E){let w=C(E);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:b,replace:N,go(E){return d.go(E)}};return S}function cN(e,s=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),lt(r,"No window.location.(origin|href) available to create URL");let l=typeof e=="string"?e:ys(e);return l=l.replace(/ $/,"%20"),!s&&l.startsWith("//")&&(l=r+l),new URL(l,r)}var Ho,kb=class{constructor(e){if(Pw(this,Ho,new Map),e)for(let[s,r]of e)this.set(s,r)}get(e){if(sh(this,Ho).has(e))return sh(this,Ho).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,s){sh(this,Ho).set(e,s)}};Ho=new WeakMap;var qw=new Set(["lazy","caseSensitive","path","id","index","children"]);function Gw(e){return qw.has(e)}var Vw=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function Yw(e){return Vw.has(e)}function $w(e){return e.index===!0}function Ko(e,s,r=[],l={},o=!1){return e.map((u,d)=>{let f=[...r,String(d)],x=typeof u.id=="string"?u.id:f.join("-");if(lt(u.index!==!0||!u.children,"Cannot specify children on an index route"),lt(o||!l[x],`Found a route id collision on id "${x}".  Route id's must be globally unique within Data Router usages`),$w(u)){let h={...u,id:x};return l[x]=Ab(h,s(h)),h}else{let h={...u,id:x,children:void 0};return l[x]=Ab(h,s(h)),u.children&&(h.children=Ko(u.children,s,f,l,o)),h}})}function Ab(e,s){return Object.assign(e,{...s,...typeof s.lazy=="object"&&s.lazy!=null?{lazy:{...e.lazy,...s.lazy}}:{}})}function _r(e,s,r="/"){return qo(e,s,r,!1)}function qo(e,s,r,l){let o=typeof s=="string"?Lr(s):s,u=Ia(o.pathname||"/",r);if(u==null)return null;let d=uN(e);Kw(d);let f=null;for(let x=0;f==null&&x<d.length;++x){let h=l_(u);f=s_(d[x],h,l)}return f}function Qw(e,s){let{route:r,pathname:l,params:o}=e;return{id:r.id,pathname:l,params:o,data:s[r.id],loaderData:s[r.id],handle:r.handle}}function uN(e,s=[],r=[],l="",o=!1){let u=(d,f,x=o,h)=>{let g={relativePath:h===void 0?d.path||"":h,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(l)&&x)return;lt(g.relativePath.startsWith(l),`Absolute route path "${g.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(l.length)}let y=xs([l,g.relativePath]),b=r.concat(g);d.children&&d.children.length>0&&(lt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),uN(d.children,s,b,y,x)),!(d.path==null&&!d.index)&&s.push({path:y,score:n_(y,d.index),routesMeta:b})};return e.forEach((d,f)=>{if(d.path===""||!d.path?.includes("?"))u(d,f);else for(let x of dN(d.path))u(d,f,!0,x)}),s}function dN(e){let s=e.split("/");if(s.length===0)return[];let[r,...l]=s,o=r.endsWith("?"),u=r.replace(/\?$/,"");if(l.length===0)return o?[u,""]:[u];let d=dN(l.join("/")),f=[];return f.push(...d.map(x=>x===""?u:[u,x].join("/"))),o&&f.push(...d),f.map(x=>e.startsWith("/")&&x===""?"/":x)}function Kw(e){e.sort((s,r)=>s.score!==r.score?r.score-s.score:a_(s.routesMeta.map(l=>l.childrenIndex),r.routesMeta.map(l=>l.childrenIndex)))}var Xw=/^:[\w-]+$/,Zw=3,Jw=2,Ww=1,e_=10,t_=-2,Rb=e=>e==="*";function n_(e,s){let r=e.split("/"),l=r.length;return r.some(Rb)&&(l+=t_),s&&(l+=Jw),r.filter(o=>!Rb(o)).reduce((o,u)=>o+(Xw.test(u)?Zw:u===""?Ww:e_),l)}function a_(e,s){return e.length===s.length&&e.slice(0,-1).every((l,o)=>l===s[o])?e[e.length-1]-s[s.length-1]:0}function s_(e,s,r=!1){let{routesMeta:l}=e,o={},u="/",d=[];for(let f=0;f<l.length;++f){let x=l[f],h=f===l.length-1,g=u==="/"?s:s.slice(u.length)||"/",y=cd({path:x.relativePath,caseSensitive:x.caseSensitive,end:h},g),b=x.route;if(!y&&h&&r&&!l[l.length-1].route.index&&(y=cd({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},g)),!y)return null;Object.assign(o,y.params),d.push({params:o,pathname:xs([u,y.pathname]),pathnameBase:c_(xs([u,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(u=xs([u,y.pathnameBase]))}return d}function cd(e,s){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,l]=r_(e.path,e.caseSensitive,e.end),o=s.match(r);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:l.reduce((h,{paramName:g,isOptional:y},b)=>{if(g==="*"){let C=f[b]||"";d=u.slice(0,u.length-C.length).replace(/(.)\/+$/,"$1")}const N=f[b];return y&&!N?h[g]=void 0:h[g]=(N||"").replace(/%2F/g,"/"),h},{}),pathname:u,pathnameBase:d,pattern:e}}function r_(e,s=!1,r=!0){qt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let l=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,x)=>(l.push({paramName:f,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(l.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,s?void 0:"i"),l]}function l_(e){try{return e.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return qt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${s}).`),e}}function Ia(e,s){if(s==="/")return e;if(!e.toLowerCase().startsWith(s.toLowerCase()))return null;let r=s.endsWith("/")?s.length-1:s.length,l=e.charAt(r);return l&&l!=="/"?null:e.slice(r)||"/"}function i_({basename:e,pathname:s}){return s==="/"?e:xs([e,s])}var fN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kd=e=>fN.test(e);function o_(e,s="/"){let{pathname:r,search:l="",hash:o=""}=typeof e=="string"?Lr(e):e,u;if(r)if(kd(r))u=r;else{if(r.includes("//")){let d=r;r=r.replace(/\/\/+/g,"/"),qt(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${r}`)}r.startsWith("/")?u=Ob(r.substring(1),"/"):u=Ob(r,s)}else u=s;return{pathname:u,search:u_(l),hash:d_(o)}}function Ob(e,s){let r=s.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function rh(e,s,r,l){return`Cannot include a '${e}' character in a manually specified \`to.${s}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mN(e){return e.filter((s,r)=>r===0||s.route.path&&s.route.path.length>0)}function Ad(e){let s=mN(e);return s.map((r,l)=>l===s.length-1?r.pathname:r.pathnameBase)}function Rd(e,s,r,l=!1){let o;typeof e=="string"?o=Lr(e):(o={...e},lt(!o.pathname||!o.pathname.includes("?"),rh("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),rh("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),rh("#","search","hash",o)));let u=e===""||o.pathname==="",d=u?"/":o.pathname,f;if(d==null)f=r;else{let y=s.length-1;if(!l&&d.startsWith("..")){let b=d.split("/");for(;b[0]==="..";)b.shift(),y-=1;o.pathname=b.join("/")}f=y>=0?s[y]:"/"}let x=o_(o,f),h=d&&d!=="/"&&d.endsWith("/"),g=(u||d===".")&&r.endsWith("/");return!x.pathname.endsWith("/")&&(h||g)&&(x.pathname+="/"),x}var xs=e=>e.join("/").replace(/\/\/+/g,"/"),c_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),u_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,d_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,rc=class{constructor(e,s,r,l=!1){this.status=e,this.statusText=s||"",this.internal=l,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Xo(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function lc(e){return e.map(s=>s.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var hN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function pN(e,s){let r=e;if(typeof r!="string"||!fN.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let l=r,o=!1;if(hN)try{let u=new URL(window.location.href),d=r.startsWith("//")?new URL(u.protocol+r):new URL(r),f=Ia(d.pathname,s);d.origin===u.origin&&f!=null?r=f+d.search+d.hash:o=!0}catch{qt(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:l,isExternal:o,to:r}}var Tr=Symbol("Uninstrumented");function f_(e,s){let r={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};e.forEach(o=>o({id:s.id,index:s.index,path:s.path,instrument(u){let d=Object.keys(r);for(let f of d)u[f]&&r[f].push(u[f])}}));let l={};if(typeof s.lazy=="function"&&r.lazy.length>0){let o=pi(r.lazy,s.lazy,()=>{});o&&(l.lazy=o)}if(typeof s.lazy=="object"){let o=s.lazy;["middleware","loader","action"].forEach(u=>{let d=o[u],f=r[`lazy.${u}`];if(typeof d=="function"&&f.length>0){let x=pi(f,d,()=>{});x&&(l.lazy=Object.assign(l.lazy||{},{[u]:x}))}})}return["loader","action"].forEach(o=>{let u=s[o];if(typeof u=="function"&&r[o].length>0){let d=u[Tr]??u,f=pi(r[o],d,(...x)=>Mb(x[0]));f&&(o==="loader"&&d.hydrate===!0&&(f.hydrate=!0),f[Tr]=d,l[o]=f)}}),s.middleware&&s.middleware.length>0&&r.middleware.length>0&&(l.middleware=s.middleware.map(o=>{let u=o[Tr]??o,d=pi(r.middleware,u,(...f)=>Mb(f[0]));return d?(d[Tr]=u,d):o})),l}function m_(e,s){let r={navigate:[],fetch:[]};if(s.forEach(l=>l({instrument(o){let u=Object.keys(o);for(let d of u)o[d]&&r[d].push(o[d])}})),r.navigate.length>0){let l=e.navigate[Tr]??e.navigate,o=pi(r.navigate,l,(...u)=>{let[d,f]=u;return{to:typeof d=="number"||typeof d=="string"?d:d?ys(d):".",...Db(e,f??{})}});o&&(o[Tr]=l,e.navigate=o)}if(r.fetch.length>0){let l=e.fetch[Tr]??e.fetch,o=pi(r.fetch,l,(...u)=>{let[d,,f,x]=u;return{href:f??".",fetcherKey:d,...Db(e,x??{})}});o&&(o[Tr]=l,e.fetch=o)}return e}function pi(e,s,r){return e.length===0?null:async(...l)=>{let o=await xN(e,r(...l),()=>s(...l),e.length-1);if(o.type==="error")throw o.value;return o.value}}async function xN(e,s,r,l){let o=e[l],u;if(o){let d,f=async()=>(d?console.error("You cannot call instrumented handlers more than once"):d=xN(e,s,r,l-1),u=await d,lt(u,"Expected a result"),u.type==="error"&&u.value instanceof Error?{status:"error",error:u.value}:{status:"success",error:void 0});try{await o(f,s)}catch(x){console.error("An instrumentation function threw an error:",x)}d||await f(),await d}else try{u={type:"success",value:await r()}}catch(d){u={type:"error",value:d}}return u||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function Mb(e){let{request:s,context:r,params:l,unstable_pattern:o}=e;return{request:h_(s),params:{...l},unstable_pattern:o,context:p_(r)}}function Db(e,s){return{currentUrl:ys(e.state.location),..."formMethod"in s?{formMethod:s.formMethod}:{},..."formEncType"in s?{formEncType:s.formEncType}:{},..."formData"in s?{formData:s.formData}:{},..."body"in s?{body:s.body}:{}}}function h_(e){return{method:e.method,url:e.url,headers:{get:(...s)=>e.headers.get(...s)}}}function p_(e){if(g_(e)){let s={...e};return Object.freeze(s),s}else return{get:s=>e.get(s)}}var x_=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function g_(e){if(e===null||typeof e!="object")return!1;const s=Object.getPrototypeOf(e);return s===Object.prototype||s===null||Object.getOwnPropertyNames(s).sort().join("\0")===x_}var gN=["POST","PUT","PATCH","DELETE"],y_=new Set(gN),v_=["GET",...gN],b_=new Set(v_),yN=new Set([301,302,303,307,308]),N_=new Set([307,308]),lh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},j_={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},To={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},S_=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),vN="remix-router-transitions",bN=Symbol("ResetLoaderData");function E_(e){const s=e.window?e.window:typeof window<"u"?window:void 0,r=typeof s<"u"&&typeof s.document<"u"&&typeof s.document.createElement<"u";lt(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let l=e.hydrationRouteProperties||[],o=e.mapRouteProperties||S_,u=o;if(e.unstable_instrumentations){let U=e.unstable_instrumentations;u=K=>({...o(K),...f_(U.map(re=>re.route).filter(Boolean),K)})}let d={},f=Ko(e.routes,u,void 0,d),x,h=e.basename||"/";h.startsWith("/")||(h=`/${h}`);let g=e.dataStrategy||k_,y={...e.future},b=null,N=new Set,C=null,S=null,E=null,w=e.hydrationData!=null,R=_r(f,e.history.location,h),D=!1,Q=null,ae;if(R==null&&!e.patchRoutesOnNavigation){let U=ka(404,{pathname:e.history.location.pathname}),{matches:K,route:re}=Ou(f);ae=!0,R=K,Q={[re.id]:U}}else if(R&&!e.hydrationData&&Fr(R,f,e.history.location.pathname).active&&(R=null),R)if(R.some(U=>U.route.lazy))ae=!1;else if(!R.some(U=>Cp(U.route)))ae=!0;else{let U=e.hydrationData?e.hydrationData.loaderData:null,K=e.hydrationData?e.hydrationData.errors:null;if(K){let re=R.findIndex(ge=>K[ge.route.id]!==void 0);ae=R.slice(0,re+1).every(ge=>!$h(ge.route,U,K))}else ae=R.every(re=>!$h(re.route,U,K))}else{ae=!1,R=[];let U=Fr(null,f,e.history.location.pathname);U.active&&U.matches&&(D=!0,R=U.matches)}let k,A={historyAction:e.history.action,location:e.history.location,matches:R,initialized:ae,navigation:lh,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||Q,fetchers:new Map,blockers:new Map},L="POP",O=null,X=!1,ee,Y=!1,G=new Map,J=null,ne=!1,B=!1,F=new Set,q=new Map,_e=0,M=-1,z=new Map,le=new Set,T=new Map,I=new Map,Z=new Set,ie=new Map,Ne,Fe=null;function Qe(){if(b=e.history.listen(({action:U,location:K,delta:re})=>{if(Ne){Ne(),Ne=void 0;return}qt(ie.size===0||re!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ge=Ur({currentLocation:A.location,nextLocation:K,historyAction:U});if(ge&&re!=null){let je=new Promise(Pe=>{Ne=Pe});e.history.go(re*-1),Ns(ge,{state:"blocked",location:K,proceed(){Ns(ge,{state:"proceeding",proceed:void 0,reset:void 0,location:K}),je.then(()=>e.history.go(re))},reset(){let Pe=new Map(A.blockers);Pe.set(ge,To),gt({blockers:Pe})}}),O?.resolve(),O=null;return}return Ke(U,K)}),r){$_(s,G);let U=()=>Q_(s,G);s.addEventListener("pagehide",U),J=()=>s.removeEventListener("pagehide",U)}return A.initialized||Ke("POP",A.location,{initialHydration:!0}),k}function Dt(){b&&b(),J&&J(),N.clear(),ee&&ee.abort(),A.fetchers.forEach((U,K)=>ea(K)),A.blockers.forEach((U,K)=>yc(K))}function en(U){return N.add(U),()=>N.delete(U)}function gt(U,K={}){U.matches&&(U.matches=U.matches.map(je=>{let Pe=d[je.route.id],Ee=je.route;return Ee.element!==Pe.element||Ee.errorElement!==Pe.errorElement||Ee.hydrateFallbackElement!==Pe.hydrateFallbackElement?{...je,route:Pe}:je})),A={...A,...U};let re=[],ge=[];A.fetchers.forEach((je,Pe)=>{je.state==="idle"&&(Z.has(Pe)?re.push(Pe):ge.push(Pe))}),Z.forEach(je=>{!A.fetchers.has(je)&&!q.has(je)&&re.push(je)}),[...N].forEach(je=>je(A,{deletedFetchers:re,newErrors:U.errors??null,viewTransitionOpts:K.viewTransitionOpts,flushSync:K.flushSync===!0})),re.forEach(je=>ea(je)),ge.forEach(je=>A.fetchers.delete(je))}function Fn(U,K,{flushSync:re}={}){let ge=A.actionData!=null&&A.navigation.formMethod!=null&&On(A.navigation.formMethod)&&A.navigation.state==="loading"&&U.state?._isRedirect!==!0,je;K.actionData?Object.keys(K.actionData).length>0?je=K.actionData:je=null:ge?je=A.actionData:je=null;let Pe=K.loaderData?Gb(A.loaderData,K.loaderData,K.matches||[],K.errors):A.loaderData,Ee=A.blockers;Ee.size>0&&(Ee=new Map(Ee),Ee.forEach((Ge,He)=>Ee.set(He,To)));let Se=ne?!1:vc(U,K.matches||A.matches),Ce=X===!0||A.navigation.formMethod!=null&&On(A.navigation.formMethod)&&U.state?._isRedirect!==!0;x&&(f=x,x=void 0),ne||L==="POP"||(L==="PUSH"?e.history.push(U,U.state):L==="REPLACE"&&e.history.replace(U,U.state));let Ue;if(L==="POP"){let Ge=G.get(A.location.pathname);Ge&&Ge.has(U.pathname)?Ue={currentLocation:A.location,nextLocation:U}:G.has(U.pathname)&&(Ue={currentLocation:U,nextLocation:A.location})}else if(Y){let Ge=G.get(A.location.pathname);Ge?Ge.add(U.pathname):(Ge=new Set([U.pathname]),G.set(A.location.pathname,Ge)),Ue={currentLocation:A.location,nextLocation:U}}gt({...K,actionData:je,loaderData:Pe,historyAction:L,location:U,initialized:!0,navigation:lh,revalidation:"idle",restoreScrollPosition:Se,preventScrollReset:Ce,blockers:Ee},{viewTransitionOpts:Ue,flushSync:re===!0}),L="POP",X=!1,Y=!1,ne=!1,B=!1,O?.resolve(),O=null,Fe?.resolve(),Fe=null}async function tn(U,K){if(O?.resolve(),O=null,typeof U=="number"){O||(O=Qb());let dt=O.promise;return e.history.go(U),dt}let re=Yh(A.location,A.matches,h,U,K?.fromRouteId,K?.relative),{path:ge,submission:je,error:Pe}=Lb(!1,re,K),Ee=A.location,Se=Qo(A.location,ge,K&&K.state);Se={...Se,...e.history.encodeLocation(Se)};let Ce=K&&K.replace!=null?K.replace:void 0,Ue="PUSH";Ce===!0?Ue="REPLACE":Ce===!1||je!=null&&On(je.formMethod)&&je.formAction===A.location.pathname+A.location.search&&(Ue="REPLACE");let Ge=K&&"preventScrollReset"in K?K.preventScrollReset===!0:void 0,He=(K&&K.flushSync)===!0,xt=Ur({currentLocation:Ee,nextLocation:Se,historyAction:Ue});if(xt){Ns(xt,{state:"blocked",location:Se,proceed(){Ns(xt,{state:"proceeding",proceed:void 0,reset:void 0,location:Se}),tn(U,K)},reset(){let dt=new Map(A.blockers);dt.set(xt,To),gt({blockers:dt})}});return}await Ke(Ue,Se,{submission:je,pendingError:Pe,preventScrollReset:Ge,replace:K&&K.replace,enableViewTransition:K&&K.viewTransition,flushSync:He,callSiteDefaultShouldRevalidate:K&&K.unstable_defaultShouldRevalidate})}function ga(){Fe||(Fe=Qb()),ve(),gt({revalidation:"loading"});let U=Fe.promise;return A.navigation.state==="submitting"?U:A.navigation.state==="idle"?(Ke(A.historyAction,A.location,{startUninterruptedRevalidation:!0}),U):(Ke(L||A.historyAction,A.navigation.location,{overrideNavigation:A.navigation,enableViewTransition:Y===!0}),U)}async function Ke(U,K,re){ee&&ee.abort(),ee=null,L=U,ne=(re&&re.startUninterruptedRevalidation)===!0,Br(A.location,A.matches),X=(re&&re.preventScrollReset)===!0,Y=(re&&re.enableViewTransition)===!0;let ge=x||f,je=re&&re.overrideNavigation,Pe=re?.initialHydration&&A.matches&&A.matches.length>0&&!D?A.matches:_r(ge,K,h),Ee=(re&&re.flushSync)===!0;if(Pe&&A.initialized&&!B&&z_(A.location,K)&&!(re&&re.submission&&On(re.submission.formMethod))){Fn(K,{matches:Pe},{flushSync:Ee});return}let Se=Fr(Pe,ge,K.pathname);if(Se.active&&Se.matches&&(Pe=Se.matches),!Pe){let{error:Yt,notFoundMatches:$t,route:ft}=Zs(K.pathname);Fn(K,{matches:$t,loaderData:{},errors:{[ft.id]:Yt}},{flushSync:Ee});return}ee=new AbortController;let Ce=mi(e.history,K,ee.signal,re&&re.submission),Ue=e.getContext?await e.getContext():new kb,Ge;if(re&&re.pendingError)Ge=[Cr(Pe).route.id,{type:"error",error:re.pendingError}];else if(re&&re.submission&&On(re.submission.formMethod)){let Yt=await kn(Ce,K,re.submission,Pe,Ue,Se.active,re&&re.initialHydration===!0,{replace:re.replace,flushSync:Ee});if(Yt.shortCircuited)return;if(Yt.pendingActionResult){let[$t,ft]=Yt.pendingActionResult;if(fa(ft)&&Xo(ft.error)&&ft.error.status===404){ee=null,Fn(K,{matches:Yt.matches,loaderData:{},errors:{[$t]:ft.error}});return}}Pe=Yt.matches||Pe,Ge=Yt.pendingActionResult,je=ih(K,re.submission),Ee=!1,Se.active=!1,Ce=mi(e.history,Ce.url,Ce.signal)}let{shortCircuited:He,matches:xt,loaderData:dt,errors:Ht}=await ya(Ce,K,Pe,Ue,Se.active,je,re&&re.submission,re&&re.fetcherSubmission,re&&re.replace,re&&re.initialHydration===!0,Ee,Ge,re&&re.callSiteDefaultShouldRevalidate);He||(ee=null,Fn(K,{matches:xt||Pe,...Vb(Ge),loaderData:dt,errors:Ht}))}async function kn(U,K,re,ge,je,Pe,Ee,Se={}){ve();let Ce=V_(K,re);if(gt({navigation:Ce},{flushSync:Se.flushSync===!0}),Pe){let He=await Js(ge,K.pathname,U.signal);if(He.type==="aborted")return{shortCircuited:!0};if(He.type==="error"){if(He.partialMatches.length===0){let{matches:dt,route:Ht}=Ou(f);return{matches:dt,pendingActionResult:[Ht.id,{type:"error",error:He.error}]}}let xt=Cr(He.partialMatches).route.id;return{matches:He.partialMatches,pendingActionResult:[xt,{type:"error",error:He.error}]}}else if(He.matches)ge=He.matches;else{let{notFoundMatches:xt,error:dt,route:Ht}=Zs(K.pathname);return{matches:xt,pendingActionResult:[Ht.id,{type:"error",error:dt}]}}}let Ue,Ge=td(ge,K);if(!Ge.route.action&&!Ge.route.lazy)Ue={type:"error",error:ka(405,{method:U.method,pathname:K.pathname,routeId:Ge.route.id})};else{let He=xi(u,d,U,ge,Ge,Ee?[]:l,je),xt=await Pt(U,He,je,null);if(Ue=xt[Ge.route.id],!Ue){for(let dt of ge)if(xt[dt.route.id]){Ue=xt[dt.route.id];break}}if(U.signal.aborted)return{shortCircuited:!0}}if(dl(Ue)){let He;return Se&&Se.replace!=null?He=Se.replace:He=Fb(Ue.response.headers.get("Location"),new URL(U.url),h,e.history)===A.location.pathname+A.location.search,await bt(U,Ue,!0,{submission:re,replace:He}),{shortCircuited:!0}}if(fa(Ue)){let He=Cr(ge,Ge.route.id);return(Se&&Se.replace)!==!0&&(L="PUSH"),{matches:ge,pendingActionResult:[He.route.id,Ue,Ge.route.id]}}return{matches:ge,pendingActionResult:[Ge.route.id,Ue]}}async function ya(U,K,re,ge,je,Pe,Ee,Se,Ce,Ue,Ge,He,xt){let dt=Pe||ih(K,Ee),Ht=Ee||Se||$b(dt),Yt=!ne&&!Ue;if(je){if(Yt){let Zt=Wn(He);gt({navigation:dt,...Zt!==void 0?{actionData:Zt}:{}},{flushSync:Ge})}let mt=await Js(re,K.pathname,U.signal);if(mt.type==="aborted")return{shortCircuited:!0};if(mt.type==="error"){if(mt.partialMatches.length===0){let{matches:Ga,route:Nn}=Ou(f);return{matches:Ga,loaderData:{},errors:{[Nn.id]:mt.error}}}let Zt=Cr(mt.partialMatches).route.id;return{matches:mt.partialMatches,loaderData:{},errors:{[Zt]:mt.error}}}else if(mt.matches)re=mt.matches;else{let{error:Zt,notFoundMatches:Ga,route:Nn}=Zs(K.pathname);return{matches:Ga,loaderData:{},errors:{[Nn.id]:Zt}}}}let $t=x||f,{dsMatches:ft,revalidatingFetchers:pn}=Ib(U,ge,u,d,e.history,A,re,Ht,K,Ue?[]:l,Ue===!0,B,F,Z,T,le,$t,h,e.patchRoutesOnNavigation!=null,He,xt);if(M=++_e,!e.dataStrategy&&!ft.some(mt=>mt.shouldLoad)&&!ft.some(mt=>mt.route.middleware&&mt.route.middleware.length>0)&&pn.length===0){let mt=wt();return Fn(K,{matches:re,loaderData:{},errors:He&&fa(He[1])?{[He[0]]:He[1].error}:null,...Vb(He),...mt?{fetchers:new Map(A.fetchers)}:{}},{flushSync:Ge}),{shortCircuited:!0}}if(Yt){let mt={};if(!je){mt.navigation=dt;let Zt=Wn(He);Zt!==void 0&&(mt.actionData=Zt)}pn.length>0&&(mt.fetchers=yn(pn)),gt(mt,{flushSync:Ge})}pn.forEach(mt=>{_t(mt.key),mt.controller&&q.set(mt.key,mt.controller)});let Hn=()=>pn.forEach(mt=>_t(mt.key));ee&&ee.signal.addEventListener("abort",Hn);let{loaderResults:Bt,fetcherResults:Ha}=await ce(ft,pn,U,ge);if(U.signal.aborted)return{shortCircuited:!0};ee&&ee.signal.removeEventListener("abort",Hn),pn.forEach(mt=>q.delete(mt.key));let na=Mu(Bt);if(na)return await bt(U,na.result,!0,{replace:Ce}),{shortCircuited:!0};if(na=Mu(Ha),na)return le.add(na.key),await bt(U,na.result,!0,{replace:Ce}),{shortCircuited:!0};let{loaderData:qa,errors:va}=qb(A,re,Bt,He,pn,Ha);Ue&&A.errors&&(va={...A.errors,...va});let Ss=wt(),Hr=Fa(M),qr=Ss||Hr||pn.length>0;return{matches:re,loaderData:qa,errors:va,...qr?{fetchers:new Map(A.fetchers)}:{}}}function Wn(U){if(U&&!fa(U[1]))return{[U[0]]:U[1].data};if(A.actionData)return Object.keys(A.actionData).length===0?null:A.actionData}function yn(U){return U.forEach(K=>{let re=A.fetchers.get(K.key),ge=ko(void 0,re?re.data:void 0);A.fetchers.set(K.key,ge)}),new Map(A.fetchers)}async function xe(U,K,re,ge){_t(U);let je=(ge&&ge.flushSync)===!0,Pe=x||f,Ee=Yh(A.location,A.matches,h,re,K,ge?.relative),Se=_r(Pe,Ee,h),Ce=Fr(Se,Pe,Ee);if(Ce.active&&Ce.matches&&(Se=Ce.matches),!Se){V(U,K,ka(404,{pathname:Ee}),{flushSync:je});return}let{path:Ue,submission:Ge,error:He}=Lb(!0,Ee,ge);if(He){V(U,K,He,{flushSync:je});return}let xt=e.getContext?await e.getContext():new kb,dt=(ge&&ge.preventScrollReset)===!0;if(Ge&&On(Ge.formMethod)){await Et(U,K,Ue,Se,xt,Ce.active,je,dt,Ge,ge&&ge.unstable_defaultShouldRevalidate);return}T.set(U,{routeId:K,path:Ue}),await Gt(U,K,Ue,Se,xt,Ce.active,je,dt,Ge)}async function Et(U,K,re,ge,je,Pe,Ee,Se,Ce,Ue){ve(),T.delete(U);let Ge=A.fetchers.get(U);ze(U,Y_(Ce,Ge),{flushSync:Ee});let He=new AbortController,xt=mi(e.history,re,He.signal,Ce);if(Pe){let ht=await Js(ge,new URL(xt.url).pathname,xt.signal,U);if(ht.type==="aborted")return;if(ht.type==="error"){V(U,K,ht.error,{flushSync:Ee});return}else if(ht.matches)ge=ht.matches;else{V(U,K,ka(404,{pathname:re}),{flushSync:Ee});return}}let dt=td(ge,re);if(!dt.route.action&&!dt.route.lazy){let ht=ka(405,{method:Ce.formMethod,pathname:re,routeId:K});V(U,K,ht,{flushSync:Ee});return}q.set(U,He);let Ht=_e,Yt=xi(u,d,xt,ge,dt,l,je),$t=await Pt(xt,Yt,je,U),ft=$t[dt.route.id];if(!ft){for(let ht of Yt)if($t[ht.route.id]){ft=$t[ht.route.id];break}}if(xt.signal.aborted){q.get(U)===He&&q.delete(U);return}if(Z.has(U)){if(dl(ft)||fa(ft)){ze(U,qs(void 0));return}}else{if(dl(ft))if(q.delete(U),M>Ht){ze(U,qs(void 0));return}else return le.add(U),ze(U,ko(Ce)),bt(xt,ft,!1,{fetcherSubmission:Ce,preventScrollReset:Se});if(fa(ft)){V(U,K,ft.error);return}}let pn=A.navigation.location||A.location,Hn=mi(e.history,pn,He.signal),Bt=x||f,Ha=A.navigation.state!=="idle"?_r(Bt,A.navigation.location,h):A.matches;lt(Ha,"Didn't find any matches after fetcher action");let na=++_e;z.set(U,na);let qa=ko(Ce,ft.data);A.fetchers.set(U,qa);let{dsMatches:va,revalidatingFetchers:Ss}=Ib(Hn,je,u,d,e.history,A,Ha,Ce,pn,l,!1,B,F,Z,T,le,Bt,h,e.patchRoutesOnNavigation!=null,[dt.route.id,ft],Ue);Ss.filter(ht=>ht.key!==U).forEach(ht=>{let Gr=ht.key,Nc=A.fetchers.get(Gr),zi=ko(void 0,Nc?Nc.data:void 0);A.fetchers.set(Gr,zi),_t(Gr),ht.controller&&q.set(Gr,ht.controller)}),gt({fetchers:new Map(A.fetchers)});let Hr=()=>Ss.forEach(ht=>_t(ht.key));He.signal.addEventListener("abort",Hr);let{loaderResults:qr,fetcherResults:mt}=await ce(va,Ss,Hn,je);if(He.signal.aborted)return;if(He.signal.removeEventListener("abort",Hr),z.delete(U),q.delete(U),Ss.forEach(ht=>q.delete(ht.key)),A.fetchers.has(U)){let ht=qs(ft.data);A.fetchers.set(U,ht)}let Zt=Mu(qr);if(Zt)return bt(Hn,Zt.result,!1,{preventScrollReset:Se});if(Zt=Mu(mt),Zt)return le.add(Zt.key),bt(Hn,Zt.result,!1,{preventScrollReset:Se});let{loaderData:Ga,errors:Nn}=qb(A,Ha,qr,void 0,Ss,mt);Fa(na),A.navigation.state==="loading"&&na>M?(lt(L,"Expected pending action"),ee&&ee.abort(),Fn(A.navigation.location,{matches:Ha,loaderData:Ga,errors:Nn,fetchers:new Map(A.fetchers)})):(gt({errors:Nn,loaderData:Gb(A.loaderData,Ga,Ha,Nn),fetchers:new Map(A.fetchers)}),B=!1)}async function Gt(U,K,re,ge,je,Pe,Ee,Se,Ce){let Ue=A.fetchers.get(U);ze(U,ko(Ce,Ue?Ue.data:void 0),{flushSync:Ee});let Ge=new AbortController,He=mi(e.history,re,Ge.signal);if(Pe){let ft=await Js(ge,new URL(He.url).pathname,He.signal,U);if(ft.type==="aborted")return;if(ft.type==="error"){V(U,K,ft.error,{flushSync:Ee});return}else if(ft.matches)ge=ft.matches;else{V(U,K,ka(404,{pathname:re}),{flushSync:Ee});return}}let xt=td(ge,re);q.set(U,Ge);let dt=_e,Ht=xi(u,d,He,ge,xt,l,je),$t=(await Pt(He,Ht,je,U))[xt.route.id];if(q.get(U)===Ge&&q.delete(U),!He.signal.aborted){if(Z.has(U)){ze(U,qs(void 0));return}if(dl($t))if(M>dt){ze(U,qs(void 0));return}else{le.add(U),await bt(He,$t,!1,{preventScrollReset:Se});return}if(fa($t)){V(U,K,$t.error);return}ze(U,qs($t.data))}}async function bt(U,K,re,{submission:ge,fetcherSubmission:je,preventScrollReset:Pe,replace:Ee}={}){re||(O?.resolve(),O=null),K.response.headers.has("X-Remix-Revalidate")&&(B=!0);let Se=K.response.headers.get("Location");lt(Se,"Expected a Location header on the redirect Response"),Se=Fb(Se,new URL(U.url),h,e.history);let Ce=Qo(A.location,Se,{_isRedirect:!0});if(r){let Ht=!1;if(K.response.headers.has("X-Remix-Reload-Document"))Ht=!0;else if(kd(Se)){const Yt=cN(Se,!0);Ht=Yt.origin!==s.location.origin||Ia(Yt.pathname,h)==null}if(Ht){Ee?s.location.replace(Se):s.location.assign(Se);return}}ee=null;let Ue=Ee===!0||K.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ge,formAction:He,formEncType:xt}=A.navigation;!ge&&!je&&Ge&&He&&xt&&(ge=$b(A.navigation));let dt=ge||je;if(N_.has(K.response.status)&&dt&&On(dt.formMethod))await Ke(Ue,Ce,{submission:{...dt,formAction:Se},preventScrollReset:Pe||X,enableViewTransition:re?Y:void 0});else{let Ht=ih(Ce,ge);await Ke(Ue,Ce,{overrideNavigation:Ht,fetcherSubmission:je,preventScrollReset:Pe||X,enableViewTransition:re?Y:void 0})}}async function Pt(U,K,re,ge){let je,Pe={};try{je=await R_(g,U,K,ge,re,!1)}catch(Ee){return K.filter(Se=>Se.shouldLoad).forEach(Se=>{Pe[Se.route.id]={type:"error",error:Ee}}),Pe}if(U.signal.aborted)return Pe;if(!On(U.method))for(let Ee of K){if(je[Ee.route.id]?.type==="error")break;!je.hasOwnProperty(Ee.route.id)&&!A.loaderData.hasOwnProperty(Ee.route.id)&&(!A.errors||!A.errors.hasOwnProperty(Ee.route.id))&&Ee.shouldCallHandler()&&(je[Ee.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${Ee.route.id}`)})}for(let[Ee,Se]of Object.entries(je))if(F_(Se)){let Ce=Se.result;Pe[Ee]={type:"redirect",response:L_(Ce,U,Ee,K,h)}}else Pe[Ee]=await D_(Se);return Pe}async function ce(U,K,re,ge){let je=Pt(re,U,ge,null),Pe=Promise.all(K.map(async Ce=>{if(Ce.matches&&Ce.match&&Ce.request&&Ce.controller){let Ge=(await Pt(Ce.request,Ce.matches,ge,Ce.key))[Ce.match.route.id];return{[Ce.key]:Ge}}else return Promise.resolve({[Ce.key]:{type:"error",error:ka(404,{pathname:Ce.path})}})})),Ee=await je,Se=(await Pe).reduce((Ce,Ue)=>Object.assign(Ce,Ue),{});return{loaderResults:Ee,fetcherResults:Se}}function ve(){B=!0,T.forEach((U,K)=>{q.has(K)&&F.add(K),_t(K)})}function ze(U,K,re={}){A.fetchers.set(U,K),gt({fetchers:new Map(A.fetchers)},{flushSync:(re&&re.flushSync)===!0})}function V(U,K,re,ge={}){let je=Cr(A.matches,K);ea(U),gt({errors:{[je.route.id]:re},fetchers:new Map(A.fetchers)},{flushSync:(ge&&ge.flushSync)===!0})}function De(U){return I.set(U,(I.get(U)||0)+1),Z.has(U)&&Z.delete(U),A.fetchers.get(U)||j_}function Vt(U,K){_t(U,K?.reason),ze(U,qs(null))}function ea(U){let K=A.fetchers.get(U);q.has(U)&&!(K&&K.state==="loading"&&z.has(U))&&_t(U),T.delete(U),z.delete(U),le.delete(U),Z.delete(U),F.delete(U),A.fetchers.delete(U)}function vn(U){let K=(I.get(U)||0)-1;K<=0?(I.delete(U),Z.add(U)):I.set(U,K),gt({fetchers:new Map(A.fetchers)})}function _t(U,K){let re=q.get(U);re&&(re.abort(K),q.delete(U))}function bn(U){for(let K of U){let re=De(K),ge=qs(re.data);A.fetchers.set(K,ge)}}function wt(){let U=[],K=!1;for(let re of le){let ge=A.fetchers.get(re);lt(ge,`Expected fetcher: ${re}`),ge.state==="loading"&&(le.delete(re),U.push(re),K=!0)}return bn(U),K}function Fa(U){let K=[];for(let[re,ge]of z)if(ge<U){let je=A.fetchers.get(re);lt(je,`Expected fetcher: ${re}`),je.state==="loading"&&(_t(re),z.delete(re),K.push(re))}return bn(K),K.length>0}function ta(U,K){let re=A.blockers.get(U)||To;return ie.get(U)!==K&&ie.set(U,K),re}function yc(U){A.blockers.delete(U),ie.delete(U)}function Ns(U,K){let re=A.blockers.get(U)||To;lt(re.state==="unblocked"&&K.state==="blocked"||re.state==="blocked"&&K.state==="blocked"||re.state==="blocked"&&K.state==="proceeding"||re.state==="blocked"&&K.state==="unblocked"||re.state==="proceeding"&&K.state==="unblocked",`Invalid blocker state transition: ${re.state} -> ${K.state}`);let ge=new Map(A.blockers);ge.set(U,K),gt({blockers:ge})}function Ur({currentLocation:U,nextLocation:K,historyAction:re}){if(ie.size===0)return;ie.size>1&&qt(!1,"A router only supports one blocker at a time");let ge=Array.from(ie.entries()),[je,Pe]=ge[ge.length-1],Ee=A.blockers.get(je);if(!(Ee&&Ee.state==="proceeding")&&Pe({currentLocation:U,nextLocation:K,historyAction:re}))return je}function Zs(U){let K=ka(404,{pathname:U}),re=x||f,{matches:ge,route:je}=Ou(re);return{notFoundMatches:ge,route:je,error:K}}function js(U,K,re){if(C=U,E=K,S=re||null,!w&&A.navigation===lh){w=!0;let ge=vc(A.location,A.matches);ge!=null&&gt({restoreScrollPosition:ge})}return()=>{C=null,E=null,S=null}}function Pr(U,K){return S&&S(U,K.map(ge=>Qw(ge,A.loaderData)))||U.key}function Br(U,K){if(C&&E){let re=Pr(U,K);C[re]=E()}}function vc(U,K){if(C){let re=Pr(U,K),ge=C[re];if(typeof ge=="number")return ge}return null}function Fr(U,K,re){if(e.patchRoutesOnNavigation)if(U){if(Object.keys(U[0].params).length>0)return{active:!0,matches:qo(K,re,h,!0)}}else return{active:!0,matches:qo(K,re,h,!0)||[]};return{active:!1,matches:null}}async function Js(U,K,re,ge){if(!e.patchRoutesOnNavigation)return{type:"success",matches:U};let je=U;for(;;){let Pe=x==null,Ee=x||f,Se=d;try{await e.patchRoutesOnNavigation({signal:re,path:K,matches:je,fetcherKey:ge,patch:(Ge,He)=>{re.aborted||zb(Ge,He,Ee,Se,u,!1)}})}catch(Ge){return{type:"error",error:Ge,partialMatches:je}}finally{Pe&&!re.aborted&&(f=[...f])}if(re.aborted)return{type:"aborted"};let Ce=_r(Ee,K,h),Ue=null;if(Ce){if(Object.keys(Ce[0].params).length===0)return{type:"success",matches:Ce};if(Ue=qo(Ee,K,h,!0),!(Ue&&je.length<Ue.length&&Ws(je,Ue.slice(0,je.length))))return{type:"success",matches:Ce}}if(Ue||(Ue=qo(Ee,K,h,!0)),!Ue||Ws(je,Ue))return{type:"success",matches:null};je=Ue}}function Ws(U,K){return U.length===K.length&&U.every((re,ge)=>re.route.id===K[ge].route.id)}function Gd(U){d={},x=Ko(U,u,void 0,d)}function bc(U,K,re=!1){let ge=x==null;zb(U,K,x||f,d,u,re),ge&&(f=[...f],gt({}))}return k={get basename(){return h},get future(){return y},get state(){return A},get routes(){return f},get window(){return s},initialize:Qe,subscribe:en,enableScrollRestoration:js,navigate:tn,fetch:xe,revalidate:ga,createHref:U=>e.history.createHref(U),encodeLocation:U=>e.history.encodeLocation(U),getFetcher:De,resetFetcher:Vt,deleteFetcher:vn,dispose:Dt,getBlocker:ta,deleteBlocker:yc,patchRoutes:bc,_internalFetchControllers:q,_internalSetRoutes:Gd,_internalSetStateDoNotUseOrYouWillBreakYourApp(U){gt(U)}},e.unstable_instrumentations&&(k=m_(k,e.unstable_instrumentations.map(U=>U.router).filter(Boolean))),k}function w_(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Yh(e,s,r,l,o,u){let d,f;if(o){d=[];for(let h of s)if(d.push(h),h.route.id===o){f=h;break}}else d=s,f=s[s.length-1];let x=Rd(l||".",Ad(d),Ia(e.pathname,r)||e.pathname,u==="path");if(l==null&&(x.search=e.search,x.hash=e.hash),(l==null||l===""||l===".")&&f){let h=kp(x.search);if(f.route.index&&!h)x.search=x.search?x.search.replace(/^\?/,"?index&"):"?index";else if(!f.route.index&&h){let g=new URLSearchParams(x.search),y=g.getAll("index");g.delete("index"),y.filter(N=>N).forEach(N=>g.append("index",N));let b=g.toString();x.search=b?`?${b}`:""}}return r!=="/"&&(x.pathname=i_({basename:r,pathname:x.pathname})),ys(x)}function Lb(e,s,r){if(!r||!w_(r))return{path:s};if(r.formMethod&&!G_(r.formMethod))return{path:s,error:ka(405,{method:r.formMethod})};let l=()=>({path:s,error:ka(400,{type:"invalid-body"})}),u=(r.formMethod||"get").toUpperCase(),d=_N(s);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!On(u))return l();let y=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((b,[N,C])=>`${b}${N}=${C}
`,""):String(r.body);return{path:s,submission:{formMethod:u,formAction:d,formEncType:r.formEncType,formData:void 0,json:void 0,text:y}}}else if(r.formEncType==="application/json"){if(!On(u))return l();try{let y=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:s,submission:{formMethod:u,formAction:d,formEncType:r.formEncType,formData:void 0,json:y,text:void 0}}}catch{return l()}}}lt(typeof FormData=="function","FormData is not available in this environment");let f,x;if(r.formData)f=Kh(r.formData),x=r.formData;else if(r.body instanceof FormData)f=Kh(r.body),x=r.body;else if(r.body instanceof URLSearchParams)f=r.body,x=Hb(f);else if(r.body==null)f=new URLSearchParams,x=new FormData;else try{f=new URLSearchParams(r.body),x=Hb(f)}catch{return l()}let h={formMethod:u,formAction:d,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:x,json:void 0,text:void 0};if(On(h.formMethod))return{path:s,submission:h};let g=Lr(s);return e&&g.search&&kp(g.search)&&f.append("index",""),g.search=`?${f}`,{path:ys(g),submission:h}}function Ib(e,s,r,l,o,u,d,f,x,h,g,y,b,N,C,S,E,w,R,D,Q){let ae=D?fa(D[1])?D[1].error:D[1].data:void 0,k=o.createURL(u.location),A=o.createURL(x),L;if(g&&u.errors){let ne=Object.keys(u.errors)[0];L=d.findIndex(B=>B.route.id===ne)}else if(D&&fa(D[1])){let ne=D[0];L=d.findIndex(B=>B.route.id===ne)-1}let O=D?D[1].statusCode:void 0,X=O&&O>=400,ee={currentUrl:k,currentParams:u.matches[0]?.params||{},nextUrl:A,nextParams:d[0].params,...f,actionResult:ae,actionStatus:O},Y=lc(d),G=d.map((ne,B)=>{let{route:F}=ne,q=null;if(L!=null&&B>L?q=!1:F.lazy?q=!0:Cp(F)?g?q=$h(F,u.loaderData,u.errors):__(u.loaderData,u.matches[B],ne)&&(q=!0):q=!1,q!==null)return Qh(r,l,e,Y,ne,h,s,q);let _e=!1;typeof Q=="boolean"?_e=Q:X?_e=!1:(y||k.pathname+k.search===A.pathname+A.search||k.search!==A.search||C_(u.matches[B],ne))&&(_e=!0);let M={...ee,defaultShouldRevalidate:_e},z=Go(ne,M);return Qh(r,l,e,Y,ne,h,s,z,M,Q)}),J=[];return C.forEach((ne,B)=>{if(g||!d.some(I=>I.route.id===ne.routeId)||N.has(B))return;let F=u.fetchers.get(B),q=F&&F.state!=="idle"&&F.data===void 0,_e=_r(E,ne.path,w);if(!_e){if(R&&q)return;J.push({key:B,routeId:ne.routeId,path:ne.path,matches:null,match:null,request:null,controller:null});return}if(S.has(B))return;let M=td(_e,ne.path),z=new AbortController,le=mi(o,ne.path,z.signal),T=null;if(b.has(B))b.delete(B),T=xi(r,l,le,_e,M,h,s);else if(q)y&&(T=xi(r,l,le,_e,M,h,s));else{let I;typeof Q=="boolean"?I=Q:X?I=!1:I=y;let Z={...ee,defaultShouldRevalidate:I};Go(M,Z)&&(T=xi(r,l,le,_e,M,h,s,Z))}T&&J.push({key:B,routeId:ne.routeId,path:ne.path,matches:T,match:M,request:le,controller:z})}),{dsMatches:G,revalidatingFetchers:J}}function Cp(e){return e.loader!=null||e.middleware!=null&&e.middleware.length>0}function $h(e,s,r){if(e.lazy)return!0;if(!Cp(e))return!1;let l=s!=null&&e.id in s,o=r!=null&&r[e.id]!==void 0;return!l&&o?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!l&&!o}function __(e,s,r){let l=!s||r.route.id!==s.route.id,o=!e.hasOwnProperty(r.route.id);return l||o}function C_(e,s){let r=e.route.path;return e.pathname!==s.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==s.params["*"]}function Go(e,s){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(s);if(typeof r=="boolean")return r}return s.defaultShouldRevalidate}function zb(e,s,r,l,o,u){let d;if(e){let h=l[e];lt(h,`No route found to patch children into: routeId = ${e}`),h.children||(h.children=[]),d=h.children}else d=r;let f=[],x=[];if(s.forEach(h=>{let g=d.find(y=>NN(h,y));g?x.push({existingRoute:g,newRoute:h}):f.push(h)}),f.length>0){let h=Ko(f,o,[e||"_","patch",String(d?.length||"0")],l);d.push(...h)}if(u&&x.length>0)for(let h=0;h<x.length;h++){let{existingRoute:g,newRoute:y}=x[h],b=g,[N]=Ko([y],o,[],{},!0);Object.assign(b,{element:N.element?N.element:b.element,errorElement:N.errorElement?N.errorElement:b.errorElement,hydrateFallbackElement:N.hydrateFallbackElement?N.hydrateFallbackElement:b.hydrateFallbackElement})}}function NN(e,s){return"id"in e&&"id"in s&&e.id===s.id?!0:e.index===s.index&&e.path===s.path&&e.caseSensitive===s.caseSensitive?(!e.children||e.children.length===0)&&(!s.children||s.children.length===0)?!0:e.children.every((r,l)=>s.children?.some(o=>NN(r,o))):!1}var Ub=new WeakMap,jN=({key:e,route:s,manifest:r,mapRouteProperties:l})=>{let o=r[s.id];if(lt(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let u=o.lazy[e];if(!u)return;let d=Ub.get(o);d||(d={},Ub.set(o,d));let f=d[e];if(f)return f;let x=(async()=>{let h=Gw(e),y=o[e]!==void 0&&e!=="hasErrorBoundary";if(h)qt(!h,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),d[e]=Promise.resolve();else if(y)qt(!1,`Route "${o.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let b=await u();b!=null&&(Object.assign(o,{[e]:b}),Object.assign(o,l(o)))}typeof o.lazy=="object"&&(o.lazy[e]=void 0,Object.values(o.lazy).every(b=>b===void 0)&&(o.lazy=void 0))})();return d[e]=x,x},Pb=new WeakMap;function T_(e,s,r,l,o){let u=r[e.id];if(lt(u,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let g=Pb.get(u);if(g)return{lazyRoutePromise:g,lazyHandlerPromise:g};let y=(async()=>{lt(typeof e.lazy=="function","No lazy route function found");let b=await e.lazy(),N={};for(let C in b){let S=b[C];if(S===void 0)continue;let E=Yw(C),R=u[C]!==void 0&&C!=="hasErrorBoundary";E?qt(!E,"Route property "+C+" is not a supported property to be returned from a lazy route function. This property will be ignored."):R?qt(!R,`Route "${u.id}" has a static property "${C}" defined but its lazy function is also returning a value for this property. The lazy route property "${C}" will be ignored.`):N[C]=S}Object.assign(u,N),Object.assign(u,{...l(u),lazy:void 0})})();return Pb.set(u,y),y.catch(()=>{}),{lazyRoutePromise:y,lazyHandlerPromise:y}}let d=Object.keys(e.lazy),f=[],x;for(let g of d){if(o&&o.includes(g))continue;let y=jN({key:g,route:e,manifest:r,mapRouteProperties:l});y&&(f.push(y),g===s&&(x=y))}let h=f.length>0?Promise.all(f).then(()=>{}):void 0;return h?.catch(()=>{}),x?.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:x}}async function Bb(e){let s=e.matches.filter(o=>o.shouldLoad),r={};return(await Promise.all(s.map(o=>o.resolve()))).forEach((o,u)=>{r[s[u].route.id]=o}),r}async function k_(e){return e.matches.some(s=>s.route.middleware)?SN(e,()=>Bb(e)):Bb(e)}function SN(e,s){return A_(e,s,l=>{if(q_(l))throw l;return l},P_,r);function r(l,o,u){if(u)return Promise.resolve(Object.assign(u.value,{[o]:{type:"error",result:l}}));{let{matches:d}=e,f=Math.min(Math.max(d.findIndex(h=>h.route.id===o),0),Math.max(d.findIndex(h=>h.shouldCallHandler()),0)),x=Cr(d,d[f].route.id).route.id;return Promise.resolve({[x]:{type:"error",result:l}})}}}async function A_(e,s,r,l,o){let{matches:u,request:d,params:f,context:x,unstable_pattern:h}=e,g=u.flatMap(b=>b.route.middleware?b.route.middleware.map(N=>[b.route.id,N]):[]);return await EN({request:d,params:f,context:x,unstable_pattern:h},g,s,r,l,o)}async function EN(e,s,r,l,o,u,d=0){let{request:f}=e;if(f.signal.aborted)throw f.signal.reason??new Error(`Request aborted: ${f.method} ${f.url}`);let x=s[d];if(!x)return await r();let[h,g]=x,y,b=async()=>{if(y)throw new Error("You may only call `next()` once per middleware");try{return y={value:await EN(e,s,r,l,o,u,d+1)},y.value}catch(N){return y={value:await u(N,h,y)},y.value}};try{let N=await g(e,b),C=N!=null?l(N):void 0;return o(C)?C:y?C??y.value:(y={value:await b()},y.value)}catch(N){return await u(N,h,y)}}function wN(e,s,r,l,o){let u=jN({key:"middleware",route:l.route,manifest:s,mapRouteProperties:e}),d=T_(l.route,On(r.method)?"action":"loader",s,e,o);return{middleware:u,route:d.lazyRoutePromise,handler:d.lazyHandlerPromise}}function Qh(e,s,r,l,o,u,d,f,x=null,h){let g=!1,y=wN(e,s,r,o,u);return{...o,_lazyPromises:y,shouldLoad:f,shouldRevalidateArgs:x,shouldCallHandler(b){return g=!0,x?typeof h=="boolean"?Go(o,{...x,defaultShouldRevalidate:h}):typeof b=="boolean"?Go(o,{...x,defaultShouldRevalidate:b}):Go(o,x):f},resolve(b){let{lazy:N,loader:C,middleware:S}=o.route,E=g||f||b&&!On(r.method)&&(N||C),w=S&&S.length>0&&!C&&!N;return E&&(On(r.method)||!w)?O_({request:r,unstable_pattern:l,match:o,lazyHandlerPromise:y?.handler,lazyRoutePromise:y?.route,handlerOverride:b,scopedContext:d}):Promise.resolve({type:"data",result:void 0})}}}function xi(e,s,r,l,o,u,d,f=null){return l.map(x=>x.route.id!==o.route.id?{...x,shouldLoad:!1,shouldRevalidateArgs:f,shouldCallHandler:()=>!1,_lazyPromises:wN(e,s,r,x,u),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Qh(e,s,r,lc(l),x,u,d,!0,f))}async function R_(e,s,r,l,o,u){r.some(h=>h._lazyPromises?.middleware)&&await Promise.all(r.map(h=>h._lazyPromises?.middleware));let d={request:s,unstable_pattern:lc(r),params:r[0].params,context:o,matches:r},x=await e({...d,fetcherKey:l,runClientMiddleware:h=>{let g=d;return SN(g,()=>h({...g,fetcherKey:l,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(r.flatMap(h=>[h._lazyPromises?.handler,h._lazyPromises?.route]))}catch{}return x}async function O_({request:e,unstable_pattern:s,match:r,lazyHandlerPromise:l,lazyRoutePromise:o,handlerOverride:u,scopedContext:d}){let f,x,h=On(e.method),g=h?"action":"loader",y=b=>{let N,C=new Promise((w,R)=>N=R);x=()=>N(),e.signal.addEventListener("abort",x);let S=w=>typeof b!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${g}" [routeId: ${r.route.id}]`)):b({request:e,unstable_pattern:s,params:r.params,context:d},...w!==void 0?[w]:[]),E=(async()=>{try{return{type:"data",result:await(u?u(R=>S(R)):S())}}catch(w){return{type:"error",result:w}}})();return Promise.race([E,C])};try{let b=h?r.route.action:r.route.loader;if(l||o)if(b){let N,[C]=await Promise.all([y(b).catch(S=>{N=S}),l,o]);if(N!==void 0)throw N;f=C}else{await l;let N=h?r.route.action:r.route.loader;if(N)[f]=await Promise.all([y(N),o]);else if(g==="action"){let C=new URL(e.url),S=C.pathname+C.search;throw ka(405,{method:e.method,pathname:S,routeId:r.route.id})}else return{type:"data",result:void 0}}else if(b)f=await y(b);else{let N=new URL(e.url),C=N.pathname+N.search;throw ka(404,{pathname:C})}}catch(b){return{type:"error",result:b}}finally{x&&e.signal.removeEventListener("abort",x)}return f}async function M_(e){let s=e.headers.get("Content-Type");return s&&/\bapplication\/json\b/.test(s)?e.body==null?null:e.json():e.text()}async function D_(e){let{result:s,type:r}=e;if(Tp(s)){let l;try{l=await M_(s)}catch(o){return{type:"error",error:o}}return r==="error"?{type:"error",error:new rc(s.status,s.statusText,l),statusCode:s.status,headers:s.headers}:{type:"data",data:l,statusCode:s.status,headers:s.headers}}return r==="error"?Yb(s)?s.data instanceof Error?{type:"error",error:s.data,statusCode:s.init?.status,headers:s.init?.headers?new Headers(s.init.headers):void 0}:{type:"error",error:U_(s),statusCode:Xo(s)?s.status:void 0,headers:s.init?.headers?new Headers(s.init.headers):void 0}:{type:"error",error:s,statusCode:Xo(s)?s.status:void 0}:Yb(s)?{type:"data",data:s.data,statusCode:s.init?.status,headers:s.init?.headers?new Headers(s.init.headers):void 0}:{type:"data",data:s}}function L_(e,s,r,l,o){let u=e.headers.get("Location");if(lt(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!kd(u)){let d=l.slice(0,l.findIndex(f=>f.route.id===r)+1);u=Yh(new URL(s.url),d,o,u),e.headers.set("Location",u)}return e}function Fb(e,s,r,l){let o=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(kd(e)){let u=e,d=u.startsWith("//")?new URL(s.protocol+u):new URL(u);if(o.includes(d.protocol))throw new Error("Invalid redirect location");let f=Ia(d.pathname,r)!=null;if(d.origin===s.origin&&f)return d.pathname+d.search+d.hash}try{let u=l.createURL(e);if(o.includes(u.protocol))throw new Error("Invalid redirect location")}catch{}return e}function mi(e,s,r,l){let o=e.createURL(_N(s)).toString(),u={signal:r};if(l&&On(l.formMethod)){let{formMethod:d,formEncType:f}=l;u.method=d.toUpperCase(),f==="application/json"?(u.headers=new Headers({"Content-Type":f}),u.body=JSON.stringify(l.json)):f==="text/plain"?u.body=l.text:f==="application/x-www-form-urlencoded"&&l.formData?u.body=Kh(l.formData):u.body=l.formData}return new Request(o,u)}function Kh(e){let s=new URLSearchParams;for(let[r,l]of e.entries())s.append(r,typeof l=="string"?l:l.name);return s}function Hb(e){let s=new FormData;for(let[r,l]of e.entries())s.append(r,l);return s}function I_(e,s,r,l=!1,o=!1){let u={},d=null,f,x=!1,h={},g=r&&fa(r[1])?r[1].error:void 0;return e.forEach(y=>{if(!(y.route.id in s))return;let b=y.route.id,N=s[b];if(lt(!dl(N),"Cannot handle redirect results in processLoaderData"),fa(N)){let C=N.error;if(g!==void 0&&(C=g,g=void 0),d=d||{},o)d[b]=C;else{let S=Cr(e,b);d[S.route.id]==null&&(d[S.route.id]=C)}l||(u[b]=bN),x||(x=!0,f=Xo(N.error)?N.error.status:500),N.headers&&(h[b]=N.headers)}else u[b]=N.data,N.statusCode&&N.statusCode!==200&&!x&&(f=N.statusCode),N.headers&&(h[b]=N.headers)}),g!==void 0&&r&&(d={[r[0]]:g},r[2]&&(u[r[2]]=void 0)),{loaderData:u,errors:d,statusCode:f||200,loaderHeaders:h}}function qb(e,s,r,l,o,u){let{loaderData:d,errors:f}=I_(s,r,l);return o.filter(x=>!x.matches||x.matches.some(h=>h.shouldLoad)).forEach(x=>{let{key:h,match:g,controller:y}=x;if(y&&y.signal.aborted)return;let b=u[h];if(lt(b,"Did not find corresponding fetcher result"),fa(b)){let N=Cr(e.matches,g?.route.id);f&&f[N.route.id]||(f={...f,[N.route.id]:b.error}),e.fetchers.delete(h)}else if(dl(b))lt(!1,"Unhandled fetcher revalidation redirect");else{let N=qs(b.data);e.fetchers.set(h,N)}}),{loaderData:d,errors:f}}function Gb(e,s,r,l){let o=Object.entries(s).filter(([,u])=>u!==bN).reduce((u,[d,f])=>(u[d]=f,u),{});for(let u of r){let d=u.route.id;if(!s.hasOwnProperty(d)&&e.hasOwnProperty(d)&&u.route.loader&&(o[d]=e[d]),l&&l.hasOwnProperty(d))break}return o}function Vb(e){return e?fa(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Cr(e,s){return(s?e.slice(0,e.findIndex(l=>l.route.id===s)+1):[...e]).reverse().find(l=>l.route.hasErrorBoundary===!0)||e[0]}function Ou(e){let s=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:s}],route:s}}function ka(e,{pathname:s,routeId:r,method:l,type:o,message:u}={}){let d="Unknown Server Error",f="Unknown @remix-run/router error";return e===400?(d="Bad Request",l&&s&&r?f=`You made a ${l} request to "${s}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:o==="invalid-body"&&(f="Unable to encode submission body")):e===403?(d="Forbidden",f=`Route "${r}" does not match URL "${s}"`):e===404?(d="Not Found",f=`No route matches URL "${s}"`):e===405&&(d="Method Not Allowed",l&&s&&r?f=`You made a ${l.toUpperCase()} request to "${s}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:l&&(f=`Invalid request method "${l.toUpperCase()}"`)),new rc(e||500,d,new Error(f),!0)}function Mu(e){let s=Object.entries(e);for(let r=s.length-1;r>=0;r--){let[l,o]=s[r];if(dl(o))return{key:l,result:o}}}function _N(e){let s=typeof e=="string"?Lr(e):e;return ys({...s,hash:""})}function z_(e,s){return e.pathname!==s.pathname||e.search!==s.search?!1:e.hash===""?s.hash!=="":e.hash===s.hash?!0:s.hash!==""}function U_(e){return new rc(e.init?.status??500,e.init?.statusText??"Internal Server Error",e.data)}function P_(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([s,r])=>typeof s=="string"&&B_(r))}function B_(e){return e!=null&&typeof e=="object"&&"type"in e&&"result"in e&&(e.type==="data"||e.type==="error")}function F_(e){return Tp(e.result)&&yN.has(e.result.status)}function fa(e){return e.type==="error"}function dl(e){return(e&&e.type)==="redirect"}function Yb(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function Tp(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function H_(e){return yN.has(e)}function q_(e){return Tp(e)&&H_(e.status)&&e.headers.has("Location")}function G_(e){return b_.has(e.toUpperCase())}function On(e){return y_.has(e.toUpperCase())}function kp(e){return new URLSearchParams(e).getAll("index").some(s=>s==="")}function td(e,s){let r=typeof s=="string"?Lr(s).search:s.search;if(e[e.length-1].route.index&&kp(r||""))return e[e.length-1];let l=mN(e);return l[l.length-1]}function $b(e){let{formMethod:s,formAction:r,formEncType:l,text:o,formData:u,json:d}=e;if(!(!s||!r||!l)){if(o!=null)return{formMethod:s,formAction:r,formEncType:l,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:s,formAction:r,formEncType:l,formData:u,json:void 0,text:void 0};if(d!==void 0)return{formMethod:s,formAction:r,formEncType:l,formData:void 0,json:d,text:void 0}}}function ih(e,s){return s?{state:"loading",location:e,formMethod:s.formMethod,formAction:s.formAction,formEncType:s.formEncType,formData:s.formData,json:s.json,text:s.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function V_(e,s){return{state:"submitting",location:e,formMethod:s.formMethod,formAction:s.formAction,formEncType:s.formEncType,formData:s.formData,json:s.json,text:s.text}}function ko(e,s){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:s}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:s}}function Y_(e,s){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:s?s.data:void 0}}function qs(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function $_(e,s){try{let r=e.sessionStorage.getItem(vN);if(r){let l=JSON.parse(r);for(let[o,u]of Object.entries(l||{}))u&&Array.isArray(u)&&s.set(o,new Set(u||[]))}}catch{}}function Q_(e,s){if(s.size>0){let r={};for(let[l,o]of s)r[l]=[...o];try{e.sessionStorage.setItem(vN,JSON.stringify(r))}catch(l){qt(!1,`Failed to save applied view transitions in sessionStorage (${l}).`)}}}function Qb(){let e,s,r=new Promise((l,o)=>{e=async u=>{l(u);try{await r}catch{}},s=async u=>{o(u);try{await r}catch{}}});return{promise:r,resolve:e,reject:s}}var jl=v.createContext(null);jl.displayName="DataRouter";var ic=v.createContext(null);ic.displayName="DataRouterState";var CN=v.createContext(!1);function K_(){return v.useContext(CN)}var Ap=v.createContext({isTransitioning:!1});Ap.displayName="ViewTransition";var TN=v.createContext(new Map);TN.displayName="Fetchers";var X_=v.createContext(null);X_.displayName="Await";var xa=v.createContext(null);xa.displayName="Navigation";var Od=v.createContext(null);Od.displayName="Location";var Ua=v.createContext({outlet:null,matches:[],isDataRoute:!1});Ua.displayName="Route";var Rp=v.createContext(null);Rp.displayName="RouteError";var kN="REACT_ROUTER_ERROR",Z_="REDIRECT",J_="ROUTE_ERROR_RESPONSE";function W_(e){if(e.startsWith(`${kN}:${Z_}:{`))try{let s=JSON.parse(e.slice(28));if(typeof s=="object"&&s&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.location=="string"&&typeof s.reloadDocument=="boolean"&&typeof s.replace=="boolean")return s}catch{}}function eC(e){if(e.startsWith(`${kN}:${J_}:{`))try{let s=JSON.parse(e.slice(40));if(typeof s=="object"&&s&&typeof s.status=="number"&&typeof s.statusText=="string")return new rc(s.status,s.statusText,s.data)}catch{}}function tC(e,{relative:s}={}){lt(Ai(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:l}=v.useContext(xa),{hash:o,pathname:u,search:d}=cc(e,{relative:s}),f=u;return r!=="/"&&(f=u==="/"?r:xs([r,u])),l.createHref({pathname:f,search:d,hash:o})}function Ai(){return v.useContext(Od)!=null}function Bn(){return lt(Ai(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Od).location}var AN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function RN(e){v.useContext(xa).static||v.useLayoutEffect(e)}function oc(){let{isDataRoute:e}=v.useContext(Ua);return e?gC():nC()}function nC(){lt(Ai(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext(jl),{basename:s,navigator:r}=v.useContext(xa),{matches:l}=v.useContext(Ua),{pathname:o}=Bn(),u=JSON.stringify(Ad(l)),d=v.useRef(!1);return RN(()=>{d.current=!0}),v.useCallback((x,h={})=>{if(qt(d.current,AN),!d.current)return;if(typeof x=="number"){r.go(x);return}let g=Rd(x,JSON.parse(u),o,h.relative==="path");e==null&&s!=="/"&&(g.pathname=g.pathname==="/"?s:xs([s,g.pathname])),(h.replace?r.replace:r.push)(g,h.state,h)},[s,r,u,o,e])}var aC=v.createContext(null);function sC(e){let s=v.useContext(Ua).outlet;return v.useMemo(()=>s&&v.createElement(aC.Provider,{value:e},s),[s,e])}function rC(){let{matches:e}=v.useContext(Ua),s=e[e.length-1];return s?s.params:{}}function cc(e,{relative:s}={}){let{matches:r}=v.useContext(Ua),{pathname:l}=Bn(),o=JSON.stringify(Ad(r));return v.useMemo(()=>Rd(e,JSON.parse(o),l,s==="path"),[e,o,l,s])}function lC(e,s,r,l,o){lt(Ai(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=v.useContext(xa),{matches:d}=v.useContext(Ua),f=d[d.length-1],x=f?f.params:{},h=f?f.pathname:"/",g=f?f.pathnameBase:"/",y=f&&f.route;{let R=y&&y.path||"";MN(h,!y||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let b=Bn(),N;N=b;let C=N.pathname||"/",S=C;if(g!=="/"){let R=g.replace(/^\//,"").split("/");S="/"+C.replace(/^\//,"").split("/").slice(R.length).join("/")}let E=_r(e,{pathname:S});return qt(y||E!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),qt(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),dC(E&&E.map(R=>Object.assign({},R,{params:Object.assign({},x,R.params),pathname:xs([g,u.encodeLocation?u.encodeLocation(R.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?g:xs([g,u.encodeLocation?u.encodeLocation(R.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathnameBase])})),d,r,l,o)}function iC(){let e=xC(),s=Xo(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,l="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:l},u={padding:"2px 4px",backgroundColor:l},d=null;return console.error("Error handled by React Router default ErrorBoundary:",e),d=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:u},"ErrorBoundary")," or"," ",v.createElement("code",{style:u},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},s),r?v.createElement("pre",{style:o},r):null,d)}var oC=v.createElement(iC,null),ON=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,s){return s.location!==e.location||s.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:s.error,location:s.location,revalidation:e.revalidation||s.revalidation}}componentDidCatch(e,s){this.props.onError?this.props.onError(e,s):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=eC(e.digest);r&&(e=r)}let s=e!==void 0?v.createElement(Ua.Provider,{value:this.props.routeContext},v.createElement(Rp.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?v.createElement(cC,{error:e},s):s}};ON.contextType=CN;var oh=new WeakMap;function cC({children:e,error:s}){let{basename:r}=v.useContext(xa);if(typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){let l=W_(s.digest);if(l){let o=oh.get(s);if(o)throw o;let u=pN(l.location,r);if(hN&&!oh.get(s))if(u.isExternal||l.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:l.replace}));throw oh.set(s,d),d}return v.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return e}function uC({routeContext:e,match:s,children:r}){let l=v.useContext(jl);return l&&l.static&&l.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=s.route.id),v.createElement(Ua.Provider,{value:e},r)}function dC(e,s=[],r=null,l=null,o=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(s.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let u=e,d=r?.errors;if(d!=null){let g=u.findIndex(y=>y.route.id&&d?.[y.route.id]!==void 0);lt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let f=!1,x=-1;if(r)for(let g=0;g<u.length;g++){let y=u[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(x=g),y.route.id){let{loaderData:b,errors:N}=r,C=y.route.loader&&!b.hasOwnProperty(y.route.id)&&(!N||N[y.route.id]===void 0);if(y.route.lazy||C){f=!0,x>=0?u=u.slice(0,x+1):u=[u[0]];break}}}let h=r&&l?(g,y)=>{l(g,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:lc(r.matches),errorInfo:y})}:void 0;return u.reduceRight((g,y,b)=>{let N,C=!1,S=null,E=null;r&&(N=d&&y.route.id?d[y.route.id]:void 0,S=y.route.errorElement||oC,f&&(x<0&&b===0?(MN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,E=null):x===b&&(C=!0,E=y.route.hydrateFallbackElement||null)));let w=s.concat(u.slice(0,b+1)),R=()=>{let D;return N?D=S:C?D=E:y.route.Component?D=v.createElement(y.route.Component,null):y.route.element?D=y.route.element:D=g,v.createElement(uC,{match:y,routeContext:{outlet:g,matches:w,isDataRoute:r!=null},children:D})};return r&&(y.route.ErrorBoundary||y.route.errorElement||b===0)?v.createElement(ON,{location:r.location,revalidation:r.revalidation,component:S,error:N,children:R(),routeContext:{outlet:null,matches:w,isDataRoute:!0},onError:h}):R()},null)}function Op(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fC(e){let s=v.useContext(jl);return lt(s,Op(e)),s}function mC(e){let s=v.useContext(ic);return lt(s,Op(e)),s}function hC(e){let s=v.useContext(Ua);return lt(s,Op(e)),s}function Mp(e){let s=hC(e),r=s.matches[s.matches.length-1];return lt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function pC(){return Mp("useRouteId")}function xC(){let e=v.useContext(Rp),s=mC("useRouteError"),r=Mp("useRouteError");return e!==void 0?e:s.errors?.[r]}function gC(){let{router:e}=fC("useNavigate"),s=Mp("useNavigate"),r=v.useRef(!1);return RN(()=>{r.current=!0}),v.useCallback(async(o,u={})=>{qt(r.current,AN),r.current&&(typeof o=="number"?await e.navigate(o):await e.navigate(o,{fromRouteId:s,...u}))},[e,s])}var Kb={};function MN(e,s,r){!s&&!Kb[e]&&(Kb[e]=!0,qt(!1,r))}var Xb={};function Zb(e,s){!e&&!Xb[s]&&(Xb[s]=!0,console.warn(s))}var yC="useOptimistic",Jb=Td[yC],vC=()=>{};function bC(e){return Jb?Jb(e):[e,vC]}function NC(e){let s={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&qt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(s,{element:v.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&qt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(s,{hydrateFallbackElement:v.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&qt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(s,{errorElement:v.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),s}var jC=["HydrateFallback","hydrateFallbackElement"],SC=class{constructor(){this.status="pending",this.promise=new Promise((e,s)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",s(r))}})}};function EC({router:e,flushSync:s,onError:r,unstable_useTransitions:l}){l=K_()||l;let[u,d]=v.useState(e.state),[f,x]=bC(u),[h,g]=v.useState(),[y,b]=v.useState({isTransitioning:!1}),[N,C]=v.useState(),[S,E]=v.useState(),[w,R]=v.useState(),D=v.useRef(new Map),Q=v.useCallback((L,{deletedFetchers:O,newErrors:X,flushSync:ee,viewTransitionOpts:Y})=>{X&&r&&Object.values(X).forEach(J=>r(J,{location:L.location,params:L.matches[0]?.params??{},unstable_pattern:lc(L.matches)})),L.fetchers.forEach((J,ne)=>{J.data!==void 0&&D.current.set(ne,J.data)}),O.forEach(J=>D.current.delete(J)),Zb(ee===!1||s!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let G=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(Zb(Y==null||G,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!Y||!G){s&&ee?s(()=>d(L)):l===!1?d(L):v.startTransition(()=>{l===!0&&x(J=>Wb(J,L)),d(L)});return}if(s&&ee){s(()=>{S&&(N?.resolve(),S.skipTransition()),b({isTransitioning:!0,flushSync:!0,currentLocation:Y.currentLocation,nextLocation:Y.nextLocation})});let J=e.window.document.startViewTransition(()=>{s(()=>d(L))});J.finished.finally(()=>{s(()=>{C(void 0),E(void 0),g(void 0),b({isTransitioning:!1})})}),s(()=>E(J));return}S?(N?.resolve(),S.skipTransition(),R({state:L,currentLocation:Y.currentLocation,nextLocation:Y.nextLocation})):(g(L),b({isTransitioning:!0,flushSync:!1,currentLocation:Y.currentLocation,nextLocation:Y.nextLocation}))},[e.window,s,S,N,l,x,r]);v.useLayoutEffect(()=>e.subscribe(Q),[e,Q]),v.useEffect(()=>{y.isTransitioning&&!y.flushSync&&C(new SC)},[y]),v.useEffect(()=>{if(N&&h&&e.window){let L=h,O=N.promise,X=e.window.document.startViewTransition(async()=>{l===!1?d(L):v.startTransition(()=>{l===!0&&x(ee=>Wb(ee,L)),d(L)}),await O});X.finished.finally(()=>{C(void 0),E(void 0),g(void 0),b({isTransitioning:!1})}),E(X)}},[h,N,e.window,l,x]),v.useEffect(()=>{N&&h&&f.location.key===h.location.key&&N.resolve()},[N,S,f.location,h]),v.useEffect(()=>{!y.isTransitioning&&w&&(g(w.state),b({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),R(void 0))},[y.isTransitioning,w]);let ae=v.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:L=>e.navigate(L),push:(L,O,X)=>e.navigate(L,{state:O,preventScrollReset:X?.preventScrollReset}),replace:(L,O,X)=>e.navigate(L,{replace:!0,state:O,preventScrollReset:X?.preventScrollReset})}),[e]),k=e.basename||"/",A=v.useMemo(()=>({router:e,navigator:ae,static:!1,basename:k,onError:r}),[e,ae,k,r]);return v.createElement(v.Fragment,null,v.createElement(jl.Provider,{value:A},v.createElement(ic.Provider,{value:f},v.createElement(TN.Provider,{value:D.current},v.createElement(Ap.Provider,{value:y},v.createElement(CC,{basename:k,location:f.location,navigationType:f.historyAction,navigator:ae,unstable_useTransitions:l},v.createElement(wC,{routes:e.routes,future:e.future,state:f,onError:r})))))),null)}function Wb(e,s){return{...e,navigation:s.navigation.state!=="idle"?s.navigation:e.navigation,revalidation:s.revalidation!=="idle"?s.revalidation:e.revalidation,actionData:s.navigation.state!=="submitting"?s.actionData:e.actionData,fetchers:s.fetchers}}var wC=v.memo(_C);function _C({routes:e,future:s,state:r,onError:l}){return lC(e,void 0,r,l,s)}function Du({to:e,replace:s,state:r,relative:l}){lt(Ai(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=v.useContext(xa);qt(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=v.useContext(Ua),{pathname:d}=Bn(),f=oc(),x=Rd(e,Ad(u),d,l==="path"),h=JSON.stringify(x);return v.useEffect(()=>{f(JSON.parse(h),{replace:s,state:r,relative:l})},[f,h,l,s,r]),null}function uc(e){return sC(e.context)}function CC({basename:e="/",children:s=null,location:r,navigationType:l="POP",navigator:o,static:u=!1,unstable_useTransitions:d}){lt(!Ai(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=e.replace(/^\/*/,"/"),x=v.useMemo(()=>({basename:f,navigator:o,static:u,unstable_useTransitions:d,future:{}}),[f,o,u,d]);typeof r=="string"&&(r=Lr(r));let{pathname:h="/",search:g="",hash:y="",state:b=null,key:N="default"}=r,C=v.useMemo(()=>{let S=Ia(h,f);return S==null?null:{location:{pathname:S,search:g,hash:y,state:b,key:N},navigationType:l}},[f,h,g,y,b,N,l]);return qt(C!=null,`<Router basename="${f}"> is not able to match the URL "${h}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:v.createElement(xa.Provider,{value:x},v.createElement(Od.Provider,{children:s,value:C}))}var nd="get",ad="application/x-www-form-urlencoded";function Md(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function TC(e){return Md(e)&&e.tagName.toLowerCase()==="button"}function kC(e){return Md(e)&&e.tagName.toLowerCase()==="form"}function AC(e){return Md(e)&&e.tagName.toLowerCase()==="input"}function RC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function OC(e,s){return e.button===0&&(!s||s==="_self")&&!RC(e)}function Xh(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((s,r)=>{let l=e[r];return s.concat(Array.isArray(l)?l.map(o=>[r,o]):[[r,l]])},[]))}function MC(e,s){let r=Xh(e);return s&&s.forEach((l,o)=>{r.has(o)||s.getAll(o).forEach(u=>{r.append(o,u)})}),r}var Lu=null;function DC(){if(Lu===null)try{new FormData(document.createElement("form"),0),Lu=!1}catch{Lu=!0}return Lu}var LC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ch(e){return e!=null&&!LC.has(e)?(qt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ad}"`),null):e}function IC(e,s){let r,l,o,u,d;if(kC(e)){let f=e.getAttribute("action");l=f?Ia(f,s):null,r=e.getAttribute("method")||nd,o=ch(e.getAttribute("enctype"))||ad,u=new FormData(e)}else if(TC(e)||AC(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let x=e.getAttribute("formaction")||f.getAttribute("action");if(l=x?Ia(x,s):null,r=e.getAttribute("formmethod")||f.getAttribute("method")||nd,o=ch(e.getAttribute("formenctype"))||ch(f.getAttribute("enctype"))||ad,u=new FormData(f,e),!DC()){let{name:h,type:g,value:y}=e;if(g==="image"){let b=h?`${h}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else h&&u.append(h,y)}}else{if(Md(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=nd,l=null,o=ad,d=e}return u&&o==="text/plain"&&(d=u,u=void 0),{action:l,method:r.toLowerCase(),encType:o,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Dp(e,s){if(e===!1||e===null||typeof e>"u")throw new Error(s)}function zC(e,s,r,l){let o=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${l}`:o.pathname=`${o.pathname}.${l}`:o.pathname==="/"?o.pathname=`_root.${l}`:s&&Ia(o.pathname,s)==="/"?o.pathname=`${s.replace(/\/$/,"")}/_root.${l}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${l}`,o}async function UC(e,s){if(e.id in s)return s[e.id];try{let r=await import(e.module);return s[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function PC(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function BC(e,s,r){let l=await Promise.all(e.map(async o=>{let u=s.routes[o.route.id];if(u){let d=await UC(u,r);return d.links?d.links():[]}return[]}));return GC(l.flat(1).filter(PC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function e0(e,s,r,l,o,u){let d=(x,h)=>r[h]?x.route.id!==r[h].route.id:!0,f=(x,h)=>r[h].pathname!==x.pathname||r[h].route.path?.endsWith("*")&&r[h].params["*"]!==x.params["*"];return u==="assets"?s.filter((x,h)=>d(x,h)||f(x,h)):u==="data"?s.filter((x,h)=>{let g=l.routes[x.route.id];if(!g||!g.hasLoader)return!1;if(d(x,h)||f(x,h))return!0;if(x.route.shouldRevalidate){let y=x.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:x.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function FC(e,s,{includeHydrateFallback:r}={}){return HC(e.map(l=>{let o=s.routes[l.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function HC(e){return[...new Set(e)]}function qC(e){let s={},r=Object.keys(e).sort();for(let l of r)s[l]=e[l];return s}function GC(e,s){let r=new Set;return new Set(s),e.reduce((l,o)=>{let u=JSON.stringify(qC(o));return r.has(u)||(r.add(u),l.push({key:u,link:o})),l},[])}function DN(){let e=v.useContext(jl);return Dp(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function VC(){let e=v.useContext(ic);return Dp(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Lp=v.createContext(void 0);Lp.displayName="FrameworkContext";function LN(){let e=v.useContext(Lp);return Dp(e,"You must render this element inside a <HydratedRouter> element"),e}function YC(e,s){let r=v.useContext(Lp),[l,o]=v.useState(!1),[u,d]=v.useState(!1),{onFocus:f,onBlur:x,onMouseEnter:h,onMouseLeave:g,onTouchStart:y}=s,b=v.useRef(null);v.useEffect(()=>{if(e==="render"&&d(!0),e==="viewport"){let S=w=>{w.forEach(R=>{d(R.isIntersecting)})},E=new IntersectionObserver(S,{threshold:.5});return b.current&&E.observe(b.current),()=>{E.disconnect()}}},[e]),v.useEffect(()=>{if(l){let S=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(S)}}},[l]);let N=()=>{o(!0)},C=()=>{o(!1),d(!1)};return r?e!=="intent"?[u,b,{}]:[u,b,{onFocus:Ao(f,N),onBlur:Ao(x,C),onMouseEnter:Ao(h,N),onMouseLeave:Ao(g,C),onTouchStart:Ao(y,N)}]:[!1,b,{}]}function Ao(e,s){return r=>{e&&e(r),r.defaultPrevented||s(r)}}function $C({page:e,...s}){let{router:r}=DN(),l=v.useMemo(()=>_r(r.routes,e,r.basename),[r.routes,e,r.basename]);return l?v.createElement(KC,{page:e,matches:l,...s}):null}function QC(e){let{manifest:s,routeModules:r}=LN(),[l,o]=v.useState([]);return v.useEffect(()=>{let u=!1;return BC(e,s,r).then(d=>{u||o(d)}),()=>{u=!0}},[e,s,r]),l}function KC({page:e,matches:s,...r}){let l=Bn(),{future:o,manifest:u,routeModules:d}=LN(),{basename:f}=DN(),{loaderData:x,matches:h}=VC(),g=v.useMemo(()=>e0(e,s,h,u,l,"data"),[e,s,h,u,l]),y=v.useMemo(()=>e0(e,s,h,u,l,"assets"),[e,s,h,u,l]),b=v.useMemo(()=>{if(e===l.pathname+l.search+l.hash)return[];let S=new Set,E=!1;if(s.forEach(R=>{let D=u.routes[R.route.id];!D||!D.hasLoader||(!g.some(Q=>Q.route.id===R.route.id)&&R.route.id in x&&d[R.route.id]?.shouldRevalidate||D.hasClientLoader?E=!0:S.add(R.route.id))}),S.size===0)return[];let w=zC(e,f,o.unstable_trailingSlashAwareDataRequests,"data");return E&&S.size>0&&w.searchParams.set("_routes",s.filter(R=>S.has(R.route.id)).map(R=>R.route.id).join(",")),[w.pathname+w.search]},[f,o.unstable_trailingSlashAwareDataRequests,x,l,u,g,s,e,d]),N=v.useMemo(()=>FC(y,u),[y,u]),C=QC(y);return v.createElement(v.Fragment,null,b.map(S=>v.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...r})),N.map(S=>v.createElement("link",{key:S,rel:"modulepreload",href:S,...r})),C.map(({key:S,link:E})=>v.createElement("link",{key:S,nonce:r.nonce,...E})))}function XC(...e){return s=>{e.forEach(r=>{typeof r=="function"?r(s):r!=null&&(r.current=s)})}}var ZC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ZC&&(window.__reactRouterVersion="7.12.0")}catch{}function JC(e,s){return E_({basename:s?.basename,getContext:s?.getContext,future:s?.future,history:Bw({window:s?.window}),hydrationData:WC(),routes:e,mapRouteProperties:NC,hydrationRouteProperties:jC,dataStrategy:s?.dataStrategy,patchRoutesOnNavigation:s?.patchRoutesOnNavigation,window:s?.window,unstable_instrumentations:s?.unstable_instrumentations}).initialize()}function WC(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:eT(e.errors)}),e}function eT(e){if(!e)return null;let s=Object.entries(e),r={};for(let[l,o]of s)if(o&&o.__type==="RouteErrorResponse")r[l]=new rc(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let d=new u(o.message);d.stack="",r[l]=d}catch{}}if(r[l]==null){let u=new Error(o.message);u.stack="",r[l]=u}}else r[l]=o;return r}var IN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ze=v.forwardRef(function({onClick:s,discover:r="render",prefetch:l="none",relative:o,reloadDocument:u,replace:d,state:f,target:x,to:h,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:b,...N},C){let{basename:S,unstable_useTransitions:E}=v.useContext(xa),w=typeof h=="string"&&IN.test(h),R=pN(h,S);h=R.to;let D=tC(h,{relative:o}),[Q,ae,k]=YC(l,N),A=sT(h,{replace:d,state:f,target:x,preventScrollReset:g,relative:o,viewTransition:y,unstable_defaultShouldRevalidate:b,unstable_useTransitions:E});function L(X){s&&s(X),X.defaultPrevented||A(X)}let O=v.createElement("a",{...N,...k,href:R.absoluteURL||D,onClick:R.isExternal||u?s:L,ref:XC(C,ae),target:x,"data-discover":!w&&r==="render"?"true":void 0});return Q&&!w?v.createElement(v.Fragment,null,O,v.createElement($C,{page:D})):O});Ze.displayName="Link";var tT=v.forwardRef(function({"aria-current":s="page",caseSensitive:r=!1,className:l="",end:o=!1,style:u,to:d,viewTransition:f,children:x,...h},g){let y=cc(d,{relative:h.relative}),b=Bn(),N=v.useContext(ic),{navigator:C,basename:S}=v.useContext(xa),E=N!=null&&uT(y)&&f===!0,w=C.encodeLocation?C.encodeLocation(y).pathname:y.pathname,R=b.pathname,D=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;r||(R=R.toLowerCase(),D=D?D.toLowerCase():null,w=w.toLowerCase()),D&&S&&(D=Ia(D,S)||D);const Q=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let ae=R===w||!o&&R.startsWith(w)&&R.charAt(Q)==="/",k=D!=null&&(D===w||!o&&D.startsWith(w)&&D.charAt(w.length)==="/"),A={isActive:ae,isPending:k,isTransitioning:E},L=ae?s:void 0,O;typeof l=="function"?O=l(A):O=[l,ae?"active":null,k?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let X=typeof u=="function"?u(A):u;return v.createElement(Ze,{...h,"aria-current":L,className:O,ref:g,style:X,to:d,viewTransition:f},typeof x=="function"?x(A):x)});tT.displayName="NavLink";var nT=v.forwardRef(({discover:e="render",fetcherKey:s,navigate:r,reloadDocument:l,replace:o,state:u,method:d=nd,action:f,onSubmit:x,relative:h,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:b,...N},C)=>{let{unstable_useTransitions:S}=v.useContext(xa),E=oT(),w=cT(f,{relative:h}),R=d.toLowerCase()==="get"?"get":"post",D=typeof f=="string"&&IN.test(f),Q=ae=>{if(x&&x(ae),ae.defaultPrevented)return;ae.preventDefault();let k=ae.nativeEvent.submitter,A=k?.getAttribute("formmethod")||d,L=()=>E(k||ae.currentTarget,{fetcherKey:s,method:A,navigate:r,replace:o,state:u,relative:h,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:b});S&&r!==!1?v.startTransition(()=>L()):L()};return v.createElement("form",{ref:C,method:R,action:w,onSubmit:l?x:Q,...N,"data-discover":!D&&e==="render"?"true":void 0})});nT.displayName="Form";function aT(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zN(e){let s=v.useContext(jl);return lt(s,aT(e)),s}function sT(e,{target:s,replace:r,state:l,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:f,unstable_useTransitions:x}={}){let h=oc(),g=Bn(),y=cc(e,{relative:u});return v.useCallback(b=>{if(OC(b,s)){b.preventDefault();let N=r!==void 0?r:ys(g)===ys(y),C=()=>h(e,{replace:N,state:l,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:f});x?v.startTransition(()=>C()):C()}},[g,h,y,r,l,s,e,o,u,d,f,x])}function rT(e){qt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let s=v.useRef(Xh(e)),r=v.useRef(!1),l=Bn(),o=v.useMemo(()=>MC(l.search,r.current?null:s.current),[l.search]),u=oc(),d=v.useCallback((f,x)=>{const h=Xh(typeof f=="function"?f(new URLSearchParams(o)):f);r.current=!0,u("?"+h,x)},[u,o]);return[o,d]}var lT=0,iT=()=>`__${String(++lT)}__`;function oT(){let{router:e}=zN("useSubmit"),{basename:s}=v.useContext(xa),r=pC(),l=e.fetch,o=e.navigate;return v.useCallback(async(u,d={})=>{let{action:f,method:x,encType:h,formData:g,body:y}=IC(u,s);if(d.navigate===!1){let b=d.fetcherKey||iT();await l(b,r,d.action||f,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:g,body:y,formMethod:d.method||x,formEncType:d.encType||h,flushSync:d.flushSync})}else await o(d.action||f,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:g,body:y,formMethod:d.method||x,formEncType:d.encType||h,replace:d.replace,state:d.state,fromRouteId:r,flushSync:d.flushSync,viewTransition:d.viewTransition})},[l,o,s,r])}function cT(e,{relative:s}={}){let{basename:r}=v.useContext(xa),l=v.useContext(Ua);lt(l,"useFormAction must be used inside a RouteContext");let[o]=l.matches.slice(-1),u={...cc(e||".",{relative:s})},d=Bn();if(e==null){u.search=d.search;let f=new URLSearchParams(u.search),x=f.getAll("index");if(x.some(g=>g==="")){f.delete("index"),x.filter(y=>y).forEach(y=>f.append("index",y));let g=f.toString();u.search=g?`?${g}`:""}}return(!e||e===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:xs([r,u.pathname])),ys(u)}function uT(e,{relative:s}={}){let r=v.useContext(Ap);lt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=zN("useViewTransitionState"),o=cc(e,{relative:s});if(!r.isTransitioning)return!1;let u=Ia(r.currentLocation.pathname,l)||r.currentLocation.pathname,d=Ia(r.nextLocation.pathname,l)||r.nextLocation.pathname;return cd(o.pathname,d)!=null||cd(o.pathname,u)!=null}var Ip=iN();const dT=sc(Ip);function fT(e){return v.createElement(EC,{flushSync:Ip.flushSync,...e})}var Ri=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},mT={setTimeout:(e,s)=>setTimeout(e,s),clearTimeout:e=>clearTimeout(e),setInterval:(e,s)=>setInterval(e,s),clearInterval:e=>clearInterval(e)},hT=class{#e=mT;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,s){return this.#e.setTimeout(e,s)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,s){return this.#e.setInterval(e,s)}clearInterval(e){this.#e.clearInterval(e)}},fl=new hT;function pT(e){setTimeout(e,0)}var xl=typeof window>"u"||"Deno"in globalThis;function Un(){}function xT(e,s){return typeof e=="function"?e(s):e}function Zh(e){return typeof e=="number"&&e>=0&&e!==1/0}function UN(e,s){return Math.max(e+(s||0)-Date.now(),0)}function kr(e,s){return typeof e=="function"?e(s):e}function Aa(e,s){return typeof e=="function"?e(s):e}function t0(e,s){const{type:r="all",exact:l,fetchStatus:o,predicate:u,queryKey:d,stale:f}=e;if(d){if(l){if(s.queryHash!==zp(d,s.options))return!1}else if(!Zo(s.queryKey,d))return!1}if(r!=="all"){const x=s.isActive();if(r==="active"&&!x||r==="inactive"&&x)return!1}return!(typeof f=="boolean"&&s.isStale()!==f||o&&o!==s.state.fetchStatus||u&&!u(s))}function n0(e,s){const{exact:r,status:l,predicate:o,mutationKey:u}=e;if(u){if(!s.options.mutationKey)return!1;if(r){if(gl(s.options.mutationKey)!==gl(u))return!1}else if(!Zo(s.options.mutationKey,u))return!1}return!(l&&s.state.status!==l||o&&!o(s))}function zp(e,s){return(s?.queryKeyHashFn||gl)(e)}function gl(e){return JSON.stringify(e,(s,r)=>Jh(r)?Object.keys(r).sort().reduce((l,o)=>(l[o]=r[o],l),{}):r)}function Zo(e,s){return e===s?!0:typeof e!=typeof s?!1:e&&s&&typeof e=="object"&&typeof s=="object"?Object.keys(s).every(r=>Zo(e[r],s[r])):!1}var gT=Object.prototype.hasOwnProperty;function PN(e,s,r=0){if(e===s)return e;if(r>500)return s;const l=a0(e)&&a0(s);if(!l&&!(Jh(e)&&Jh(s)))return s;const u=(l?e:Object.keys(e)).length,d=l?s:Object.keys(s),f=d.length,x=l?new Array(f):{};let h=0;for(let g=0;g<f;g++){const y=l?g:d[g],b=e[y],N=s[y];if(b===N){x[y]=b,(l?g<u:gT.call(e,y))&&h++;continue}if(b===null||N===null||typeof b!="object"||typeof N!="object"){x[y]=N;continue}const C=PN(b,N,r+1);x[y]=C,C===b&&h++}return u===f&&h===u?e:x}function ud(e,s){if(!s||Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}function a0(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Jh(e){if(!s0(e))return!1;const s=e.constructor;if(s===void 0)return!0;const r=s.prototype;return!(!s0(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function s0(e){return Object.prototype.toString.call(e)==="[object Object]"}function yT(e){return new Promise(s=>{fl.setTimeout(s,e)})}function Wh(e,s,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,s):r.structuralSharing!==!1?PN(e,s):s}function vT(e,s,r=0){const l=[...e,s];return r&&l.length>r?l.slice(1):l}function bT(e,s,r=0){const l=[s,...e];return r&&l.length>r?l.slice(0,-1):l}var Up=Symbol();function BN(e,s){return!e.queryFn&&s?.initialPromise?()=>s.initialPromise:!e.queryFn||e.queryFn===Up?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Pp(e,s){return typeof e=="function"?e(...s):!!e}function NT(e,s,r){let l=!1,o;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(o??=s(),l||(l=!0,o.aborted?r():o.addEventListener("abort",r,{once:!0})),o)}),e}var jT=class extends Ri{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!xl&&window.addEventListener){const s=()=>e();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(s=>{s(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Bp=new jT;function ep(){let e,s;const r=new Promise((o,u)=>{e=o,s=u});r.status="pending",r.catch(()=>{});function l(o){Object.assign(r,o),delete r.resolve,delete r.reject}return r.resolve=o=>{l({status:"fulfilled",value:o}),e(o)},r.reject=o=>{l({status:"rejected",reason:o}),s(o)},r}var ST=pT;function ET(){let e=[],s=0,r=f=>{f()},l=f=>{f()},o=ST;const u=f=>{s?e.push(f):o(()=>{r(f)})},d=()=>{const f=e;e=[],f.length&&o(()=>{l(()=>{f.forEach(x=>{r(x)})})})};return{batch:f=>{let x;s++;try{x=f()}finally{s--,s||d()}return x},batchCalls:f=>(...x)=>{u(()=>{f(...x)})},schedule:u,setNotifyFunction:f=>{r=f},setBatchNotifyFunction:f=>{l=f},setScheduler:f=>{o=f}}}var hn=ET(),wT=class extends Ri{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!xl&&window.addEventListener){const s=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},dd=new wT;function _T(e){return Math.min(1e3*2**e,3e4)}function FN(e){return(e??"online")==="online"?dd.isOnline():!0}var tp=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function HN(e){let s=!1,r=0,l;const o=ep(),u=()=>o.status!=="pending",d=S=>{if(!u()){const E=new tp(S);b(E),e.onCancel?.(E)}},f=()=>{s=!0},x=()=>{s=!1},h=()=>Bp.isFocused()&&(e.networkMode==="always"||dd.isOnline())&&e.canRun(),g=()=>FN(e.networkMode)&&e.canRun(),y=S=>{u()||(l?.(),o.resolve(S))},b=S=>{u()||(l?.(),o.reject(S))},N=()=>new Promise(S=>{l=E=>{(u()||h())&&S(E)},e.onPause?.()}).then(()=>{l=void 0,u()||e.onContinue?.()}),C=()=>{if(u())return;let S;const E=r===0?e.initialPromise:void 0;try{S=E??e.fn()}catch(w){S=Promise.reject(w)}Promise.resolve(S).then(y).catch(w=>{if(u())return;const R=e.retry??(xl?0:3),D=e.retryDelay??_T,Q=typeof D=="function"?D(r,w):D,ae=R===!0||typeof R=="number"&&r<R||typeof R=="function"&&R(r,w);if(s||!ae){b(w);return}r++,e.onFail?.(r,w),yT(Q).then(()=>h()?void 0:N()).then(()=>{s?b(w):C()})})};return{promise:o,status:()=>o.status,cancel:d,continue:()=>(l?.(),o),cancelRetry:f,continueRetry:x,canStart:g,start:()=>(g()?C():N().then(C),o)}}var qN=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Zh(this.gcTime)&&(this.#e=fl.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(xl?1/0:300*1e3))}clearGcTimeout(){this.#e&&(fl.clearTimeout(this.#e),this.#e=void 0)}},CT=class extends qN{#e;#t;#n;#s;#a;#l;#i;constructor(e){super(),this.#i=!1,this.#l=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=l0(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(e){if(this.options={...this.#l,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const s=l0(this.options);s.data!==void 0&&(this.setState(r0(s.data,s.dataUpdatedAt)),this.#e=s)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,s){const r=Wh(this.state.data,e,this.options);return this.#r({data:r,type:"success",dataUpdatedAt:s?.updatedAt,manual:s?.manual}),r}setState(e,s){this.#r({type:"setState",state:e,setStateOptions:s})}cancel(e){const s=this.#a?.promise;return this.#a?.cancel(e),s?s.then(Un).catch(Un):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Aa(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Up||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>kr(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!UN(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(s=>s.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(s=>s.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(s=>s!==e),this.observers.length||(this.#a&&(this.#i?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(e,s){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&s?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(x=>x.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,l=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#i=!0,r.signal)})},o=()=>{const f=BN(this.options,s),h=(()=>{const g={client:this.#s,queryKey:this.queryKey,meta:this.meta};return l(g),g})();return this.#i=!1,this.options.persister?this.options.persister(f,h,this):f(h)},d=(()=>{const f={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:o};return l(f),f})();this.options.behavior?.onFetch(d,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==d.fetchOptions?.meta)&&this.#r({type:"fetch",meta:d.fetchOptions?.meta}),this.#a=HN({initialPromise:s?.initialPromise,fn:d.fetchFn,onCancel:f=>{f instanceof tp&&f.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(f,x)=>{this.#r({type:"failed",failureCount:f,error:x})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0});try{const f=await this.#a.start();if(f===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(f),this.#n.config.onSuccess?.(f,this),this.#n.config.onSettled?.(f,this.state.error,this),f}catch(f){if(f instanceof tp){if(f.silent)return this.#a.promise;if(f.revert){if(this.state.data===void 0)throw f;return this.state.data}}throw this.#r({type:"error",error:f}),this.#n.config.onError?.(f,this),this.#n.config.onSettled?.(this.state.data,f,this),f}finally{this.scheduleGc()}}#r(e){const s=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...GN(r.data,this.options),fetchMeta:e.meta??null};case"success":const l={...r,...r0(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?l:void 0,l;case"error":const o=e.error;return{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=s(this.state),hn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function GN(e,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:FN(s.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function r0(e,s){return{data:e,dataUpdatedAt:s??Date.now(),error:null,isInvalidated:!1,status:"success"}}function l0(e){const s=typeof e.initialData=="function"?e.initialData():e.initialData,r=s!==void 0,l=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:r?l??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var TT=class extends Ri{constructor(e,s){super(),this.options=s,this.#e=e,this.#r=null,this.#i=ep(),this.bindMethods(),this.setOptions(s)}#e;#t=void 0;#n=void 0;#s=void 0;#a;#l;#i;#r;#p;#f;#m;#c;#u;#o;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),i0(this.#t,this.options)?this.#d():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return np(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return np(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#N(),this.#t.removeObserver(this)}setOptions(e){const s=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Aa(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#j(),this.#t.setOptions(this.options),s._defaulted&&!ud(this.options,s)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const l=this.hasListeners();l&&o0(this.#t,r,this.options,s)&&this.#d(),this.updateResult(),l&&(this.#t!==r||Aa(this.options.enabled,this.#t)!==Aa(s.enabled,this.#t)||kr(this.options.staleTime,this.#t)!==kr(s.staleTime,this.#t))&&this.#x();const o=this.#g();l&&(this.#t!==r||Aa(this.options.enabled,this.#t)!==Aa(s.enabled,this.#t)||o!==this.#o)&&this.#y(o)}getOptimisticResult(e){const s=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(s,e);return AT(this,r)&&(this.#s=r,this.#l=this.options,this.#a=this.#t.state),r}getCurrentResult(){return this.#s}trackResult(e,s){return new Proxy(e,{get:(r,l)=>(this.trackProp(l),s?.(l),l==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#i.status==="pending"&&this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,l))})}trackProp(e){this.#h.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,s);return r.fetch().then(()=>this.createResult(r,s))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(e){this.#j();let s=this.#t.fetch(this.options,e);return e?.throwOnError||(s=s.catch(Un)),s}#x(){this.#b();const e=kr(this.options.staleTime,this.#t);if(xl||this.#s.isStale||!Zh(e))return;const r=UN(this.#s.dataUpdatedAt,e)+1;this.#c=fl.setTimeout(()=>{this.#s.isStale||this.updateResult()},r)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(e){this.#N(),this.#o=e,!(xl||Aa(this.options.enabled,this.#t)===!1||!Zh(this.#o)||this.#o===0)&&(this.#u=fl.setInterval(()=>{(this.options.refetchIntervalInBackground||Bp.isFocused())&&this.#d()},this.#o))}#v(){this.#x(),this.#y(this.#g())}#b(){this.#c&&(fl.clearTimeout(this.#c),this.#c=void 0)}#N(){this.#u&&(fl.clearInterval(this.#u),this.#u=void 0)}createResult(e,s){const r=this.#t,l=this.options,o=this.#s,u=this.#a,d=this.#l,x=e!==r?e.state:this.#n,{state:h}=e;let g={...h},y=!1,b;if(s._optimisticResults){const L=this.hasListeners(),O=!L&&i0(e,s),X=L&&o0(e,r,s,l);(O||X)&&(g={...g,...GN(h.data,e.options)}),s._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:N,errorUpdatedAt:C,status:S}=g;b=g.data;let E=!1;if(s.placeholderData!==void 0&&b===void 0&&S==="pending"){let L;o?.isPlaceholderData&&s.placeholderData===d?.placeholderData?(L=o.data,E=!0):L=typeof s.placeholderData=="function"?s.placeholderData(this.#m?.state.data,this.#m):s.placeholderData,L!==void 0&&(S="success",b=Wh(o?.data,L,s),y=!0)}if(s.select&&b!==void 0&&!E)if(o&&b===u?.data&&s.select===this.#p)b=this.#f;else try{this.#p=s.select,b=s.select(b),b=Wh(o?.data,b,s),this.#f=b,this.#r=null}catch(L){this.#r=L}this.#r&&(N=this.#r,b=this.#f,C=Date.now(),S="error");const w=g.fetchStatus==="fetching",R=S==="pending",D=S==="error",Q=R&&w,ae=b!==void 0,A={status:S,fetchStatus:g.fetchStatus,isPending:R,isSuccess:S==="success",isError:D,isInitialLoading:Q,isLoading:Q,data:b,dataUpdatedAt:g.dataUpdatedAt,error:N,errorUpdatedAt:C,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>x.dataUpdateCount||g.errorUpdateCount>x.errorUpdateCount,isFetching:w,isRefetching:w&&!R,isLoadingError:D&&!ae,isPaused:g.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:D&&ae,isStale:Fp(e,s),refetch:this.refetch,promise:this.#i,isEnabled:Aa(s.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const L=A.data!==void 0,O=A.status==="error"&&!L,X=G=>{O?G.reject(A.error):L&&G.resolve(A.data)},ee=()=>{const G=this.#i=A.promise=ep();X(G)},Y=this.#i;switch(Y.status){case"pending":e.queryHash===r.queryHash&&X(Y);break;case"fulfilled":(O||A.data!==Y.value)&&ee();break;case"rejected":(!O||A.error!==Y.reason)&&ee();break}}return A}updateResult(){const e=this.#s,s=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#l=this.options,this.#a.data!==void 0&&(this.#m=this.#t),ud(s,e))return;this.#s=s;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:l}=this.options,o=typeof l=="function"?l():l;if(o==="all"||!o&&!this.#h.size)return!0;const u=new Set(o??this.#h);return this.options.throwOnError&&u.add("error"),Object.keys(this.#s).some(d=>{const f=d;return this.#s[f]!==e[f]&&u.has(f)})};this.#S({listeners:r()})}#j(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const s=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(s?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#S(e){hn.batch(()=>{e.listeners&&this.listeners.forEach(s=>{s(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function kT(e,s){return Aa(s.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&s.retryOnMount===!1)}function i0(e,s){return kT(e,s)||e.state.data!==void 0&&np(e,s,s.refetchOnMount)}function np(e,s,r){if(Aa(s.enabled,e)!==!1&&kr(s.staleTime,e)!=="static"){const l=typeof r=="function"?r(e):r;return l==="always"||l!==!1&&Fp(e,s)}return!1}function o0(e,s,r,l){return(e!==s||Aa(l.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Fp(e,r)}function Fp(e,s){return Aa(s.enabled,e)!==!1&&e.isStaleByTime(kr(s.staleTime,e))}function AT(e,s){return!ud(e.getCurrentResult(),s)}function c0(e){return{onFetch:(s,r)=>{const l=s.options,o=s.fetchOptions?.meta?.fetchMore?.direction,u=s.state.data?.pages||[],d=s.state.data?.pageParams||[];let f={pages:[],pageParams:[]},x=0;const h=async()=>{let g=!1;const y=C=>{NT(C,()=>s.signal,()=>g=!0)},b=BN(s.options,s.fetchOptions),N=async(C,S,E)=>{if(g)return Promise.reject();if(S==null&&C.pages.length)return Promise.resolve(C);const R=(()=>{const k={client:s.client,queryKey:s.queryKey,pageParam:S,direction:E?"backward":"forward",meta:s.options.meta};return y(k),k})(),D=await b(R),{maxPages:Q}=s.options,ae=E?bT:vT;return{pages:ae(C.pages,D,Q),pageParams:ae(C.pageParams,S,Q)}};if(o&&u.length){const C=o==="backward",S=C?RT:u0,E={pages:u,pageParams:d},w=S(l,E);f=await N(E,w,C)}else{const C=e??u.length;do{const S=x===0?d[0]??l.initialPageParam:u0(l,f);if(x>0&&S==null)break;f=await N(f,S),x++}while(x<C)}return f};s.options.persister?s.fetchFn=()=>s.options.persister?.(h,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},r):s.fetchFn=h}}}function u0(e,{pages:s,pageParams:r}){const l=s.length-1;return s.length>0?e.getNextPageParam(s[l],s,r[l],r):void 0}function RT(e,{pages:s,pageParams:r}){return s.length>0?e.getPreviousPageParam?.(s[0],s,r[0],r):void 0}var OT=class extends qN{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||VN(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(s=>s!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const s=()=>{this.#a({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=HN({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(u,d)=>{this.#a({type:"failed",failureCount:u,error:d})},onPause:()=>{this.#a({type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const l=this.state.status==="pending",o=!this.#s.canStart();try{if(l)s();else{this.#a({type:"pending",variables:e,isPaused:o}),await this.#n.config.onMutate?.(e,this,r);const d=await this.options.onMutate?.(e,r);d!==this.state.context&&this.#a({type:"pending",context:d,variables:e,isPaused:o})}const u=await this.#s.start();return await this.#n.config.onSuccess?.(u,e,this.state.context,this,r),await this.options.onSuccess?.(u,e,this.state.context,r),await this.#n.config.onSettled?.(u,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(u,null,e,this.state.context,r),this.#a({type:"success",data:u}),u}catch(u){try{await this.#n.config.onError?.(u,e,this.state.context,this,r)}catch(d){Promise.reject(d)}try{await this.options.onError?.(u,e,this.state.context,r)}catch(d){Promise.reject(d)}try{await this.#n.config.onSettled?.(void 0,u,this.state.variables,this.state.context,this,r)}catch(d){Promise.reject(d)}try{await this.options.onSettled?.(void 0,u,e,this.state.context,r)}catch(d){Promise.reject(d)}throw this.#a({type:"error",error:u}),u}finally{this.#n.runNext(this)}}#a(e){const s=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=s(this.state),hn.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function VN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var MT=class extends Ri{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,s,r){const l=new OT({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(s),state:r});return this.add(l),l}add(e){this.#e.add(e);const s=Iu(e);if(typeof s=="string"){const r=this.#t.get(s);r?r.push(e):this.#t.set(s,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const s=Iu(e);if(typeof s=="string"){const r=this.#t.get(s);if(r)if(r.length>1){const l=r.indexOf(e);l!==-1&&r.splice(l,1)}else r[0]===e&&this.#t.delete(s)}}this.notify({type:"removed",mutation:e})}canRun(e){const s=Iu(e);if(typeof s=="string"){const l=this.#t.get(s)?.find(o=>o.state.status==="pending");return!l||l===e}else return!0}runNext(e){const s=Iu(e);return typeof s=="string"?this.#t.get(s)?.find(l=>l!==e&&l.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){hn.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const s={exact:!0,...e};return this.getAll().find(r=>n0(s,r))}findAll(e={}){return this.getAll().filter(s=>n0(e,s))}notify(e){hn.batch(()=>{this.listeners.forEach(s=>{s(e)})})}resumePausedMutations(){const e=this.getAll().filter(s=>s.state.isPaused);return hn.batch(()=>Promise.all(e.map(s=>s.continue().catch(Un))))}};function Iu(e){return e.options.scope?.id}var DT=class extends Ri{#e;#t=void 0;#n;#s;constructor(s,r){super(),this.#e=s,this.setOptions(r),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){const r=this.options;this.options=this.#e.defaultMutationOptions(s),ud(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),r?.mutationKey&&this.options.mutationKey&&gl(r.mutationKey)!==gl(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(s){this.#a(),this.#l(s)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#a(),this.#l()}mutate(s,r){return this.#s=r,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(s)}#a(){const s=this.#n?.state??VN();this.#t={...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset}}#l(s){hn.batch(()=>{if(this.#s&&this.hasListeners()){const r=this.#t.variables,l=this.#t.context,o={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(s?.type==="success"){try{this.#s.onSuccess?.(s.data,r,l,o)}catch(u){Promise.reject(u)}try{this.#s.onSettled?.(s.data,null,r,l,o)}catch(u){Promise.reject(u)}}else if(s?.type==="error"){try{this.#s.onError?.(s.error,r,l,o)}catch(u){Promise.reject(u)}try{this.#s.onSettled?.(void 0,s.error,r,l,o)}catch(u){Promise.reject(u)}}}this.listeners.forEach(r=>{r(this.#t)})})}},LT=class extends Ri{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,s,r){const l=s.queryKey,o=s.queryHash??zp(l,s);let u=this.get(o);return u||(u=new CT({client:e,queryKey:l,queryHash:o,options:e.defaultQueryOptions(s),state:r,defaultOptions:e.getQueryDefaults(l)}),this.add(u)),u}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const s=this.#e.get(e.queryHash);s&&(e.destroy(),s===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){hn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const s={exact:!0,...e};return this.getAll().find(r=>t0(s,r))}findAll(e={}){const s=this.getAll();return Object.keys(e).length>0?s.filter(r=>t0(e,r)):s}notify(e){hn.batch(()=>{this.listeners.forEach(s=>{s(e)})})}onFocus(){hn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){hn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},IT=class{#e;#t;#n;#s;#a;#l;#i;#r;constructor(e={}){this.#e=e.queryCache||new LT,this.#t=e.mutationCache||new MT,this.#n=e.defaultOptions||{},this.#s=new Map,this.#a=new Map,this.#l=0}mount(){this.#l++,this.#l===1&&(this.#i=Bp.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=dd.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#l--,this.#l===0&&(this.#i?.(),this.#i=void 0,this.#r?.(),this.#r=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const s=this.defaultQueryOptions({queryKey:e});return this.#e.get(s.queryHash)?.state.data}ensureQueryData(e){const s=this.defaultQueryOptions(e),r=this.#e.build(this,s),l=r.state.data;return l===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(kr(s.staleTime,r))&&this.prefetchQuery(s),Promise.resolve(l))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:s,state:r})=>{const l=r.data;return[s,l]})}setQueryData(e,s,r){const l=this.defaultQueryOptions({queryKey:e}),u=this.#e.get(l.queryHash)?.state.data,d=xT(s,u);if(d!==void 0)return this.#e.build(this,l).setData(d,{...r,manual:!0})}setQueriesData(e,s,r){return hn.batch(()=>this.#e.findAll(e).map(({queryKey:l})=>[l,this.setQueryData(l,s,r)]))}getQueryState(e){const s=this.defaultQueryOptions({queryKey:e});return this.#e.get(s.queryHash)?.state}removeQueries(e){const s=this.#e;hn.batch(()=>{s.findAll(e).forEach(r=>{s.remove(r)})})}resetQueries(e,s){const r=this.#e;return hn.batch(()=>(r.findAll(e).forEach(l=>{l.reset()}),this.refetchQueries({type:"active",...e},s)))}cancelQueries(e,s={}){const r={revert:!0,...s},l=hn.batch(()=>this.#e.findAll(e).map(o=>o.cancel(r)));return Promise.all(l).then(Un).catch(Un)}invalidateQueries(e,s={}){return hn.batch(()=>(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},s)))}refetchQueries(e,s={}){const r={...s,cancelRefetch:s.cancelRefetch??!0},l=hn.batch(()=>this.#e.findAll(e).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let u=o.fetch(void 0,r);return r.throwOnError||(u=u.catch(Un)),o.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(l).then(Un)}fetchQuery(e){const s=this.defaultQueryOptions(e);s.retry===void 0&&(s.retry=!1);const r=this.#e.build(this,s);return r.isStaleByTime(kr(s.staleTime,r))?r.fetch(s):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Un).catch(Un)}fetchInfiniteQuery(e){return e.behavior=c0(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Un).catch(Un)}ensureInfiniteQueryData(e){return e.behavior=c0(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return dd.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,s){this.#s.set(gl(e),{queryKey:e,defaultOptions:s})}getQueryDefaults(e){const s=[...this.#s.values()],r={};return s.forEach(l=>{Zo(e,l.queryKey)&&Object.assign(r,l.defaultOptions)}),r}setMutationDefaults(e,s){this.#a.set(gl(e),{mutationKey:e,defaultOptions:s})}getMutationDefaults(e){const s=[...this.#a.values()],r={};return s.forEach(l=>{Zo(e,l.mutationKey)&&Object.assign(r,l.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const s={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return s.queryHash||(s.queryHash=zp(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===Up&&(s.enabled=!1),s}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},YN=v.createContext(void 0),Ve=e=>{const s=v.useContext(YN);if(!s)throw new Error("No QueryClient set, use QueryClientProvider to set one");return s},zT=({client:e,children:s})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(YN.Provider,{value:e,children:s})),$N=v.createContext(!1),UT=()=>v.useContext($N);$N.Provider;function PT(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var BT=v.createContext(PT()),FT=()=>v.useContext(BT),HT=(e,s,r)=>{const l=r?.state.error&&typeof e.throwOnError=="function"?Pp(e.throwOnError,[r.state.error,r]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||l)&&(s.isReset()||(e.retryOnMount=!1))},qT=e=>{v.useEffect(()=>{e.clearReset()},[e])},GT=({result:e,errorResetBoundary:s,throwOnError:r,query:l,suspense:o})=>e.isError&&!s.isReset()&&!e.isFetching&&l&&(o&&e.data===void 0||Pp(r,[e.error,l])),VT=e=>{if(e.suspense){const r=o=>o==="static"?o:Math.max(o??1e3,1e3),l=e.staleTime;e.staleTime=typeof l=="function"?(...o)=>r(l(...o)):r(l),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},YT=(e,s)=>e.isLoading&&e.isFetching&&!s,$T=(e,s)=>e?.suspense&&s.isPending,d0=(e,s,r)=>s.fetchOptimistic(e).catch(()=>{r.clearReset()});function QT(e,s,r){const l=UT(),o=FT(),u=Ve(),d=u.defaultQueryOptions(e);u.getDefaultOptions().queries?._experimental_beforeQuery?.(d);const f=u.getQueryCache().get(d.queryHash);d._optimisticResults=l?"isRestoring":"optimistic",VT(d),HT(d,o,f),qT(o);const x=!u.getQueryCache().get(d.queryHash),[h]=v.useState(()=>new s(u,d)),g=h.getOptimisticResult(d),y=!l&&e.subscribed!==!1;if(v.useSyncExternalStore(v.useCallback(b=>{const N=y?h.subscribe(hn.batchCalls(b)):Un;return h.updateResult(),N},[h,y]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),v.useEffect(()=>{h.setOptions(d)},[d,h]),$T(d,g))throw d0(d,h,o);if(GT({result:g,errorResetBoundary:o,throwOnError:d.throwOnError,query:f,suspense:d.suspense}))throw g.error;return u.getDefaultOptions().queries?._experimental_afterQuery?.(d,g),d.experimental_prefetchInRender&&!xl&&YT(g,l)&&(x?d0(d,h,o):f?.promise)?.catch(Un).finally(()=>{h.updateResult()}),d.notifyOnChangeProps?g:h.trackResult(g)}function Tn(e,s){return QT(e,TT)}function Be(e,s){const r=Ve(),[l]=v.useState(()=>new DT(r,e));v.useEffect(()=>{l.setOptions(e)},[l,e]);const o=v.useSyncExternalStore(v.useCallback(d=>l.subscribe(hn.batchCalls(d)),[l]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),u=v.useCallback((d,f)=>{l.mutate(d,f).catch(Un)},[l]);if(o.error&&Pp(l.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:u,mutateAsync:o.mutate}}const KT={theme:"system",setTheme:()=>null},QN=v.createContext(KT);function XT({children:e,defaultTheme:s="system",storageKey:r="vite-ui-theme"}){const[l,o]=v.useState(()=>localStorage.getItem(r)||s);v.useEffect(()=>{const d=window.document.documentElement;if(d.classList.remove("light","dark"),l==="system"){const f=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";d.classList.add(f);return}d.classList.add(l)},[l]);const u={theme:l,setTheme:d=>{localStorage.setItem(r,d),o(d)}};return n.jsx(QN.Provider,{value:u,children:e})}const ZT=()=>{const e=v.useContext(QN);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},Ys={OLLAMA:"ollama",LMSTUDIO:"lmstudio",OPENAI:"openai"},ap={[Ys.OLLAMA]:"http://localhost:11434",[Ys.LMSTUDIO]:"http://localhost:1234",[Ys.OPENAI]:"http://localhost:1234"},uh={[Ys.OLLAMA]:"Ollama",[Ys.LMSTUDIO]:"LM Studio",[Ys.OPENAI]:"OpenAI Compatible"},JT=[{value:Ys.OLLAMA,label:uh.ollama},{value:Ys.LMSTUDIO,label:uh.lmstudio},{value:Ys.OPENAI,label:uh.openai}];function WT(e){return ap[e]??ap.ollama}const Xt={CLOUD:"cloud",OLLAMA:"ollama",LMSTUDIO:"lmstudio"},ek="Local provider APIs are experimental and may not work consistently due to upstream changes outside OAK's control.",dh={[Xt.CLOUD]:"Claude Code (Default)",[Xt.OLLAMA]:"Ollama (Local, Experimental)",[Xt.LMSTUDIO]:"LM Studio (Local, Experimental)"},f0={[Xt.CLOUD]:"",[Xt.OLLAMA]:"http://localhost:11434",[Xt.LMSTUDIO]:"http://localhost:1234"},tk=[{value:Xt.CLOUD,label:dh.cloud},{value:Xt.OLLAMA,label:dh.ollama},{value:Xt.LMSTUDIO,label:dh.lmstudio}],m0={[Xt.CLOUD]:[],[Xt.OLLAMA]:["qwen3:32b","glm-4.7:latest","gpt-oss:20b"],[Xt.LMSTUDIO]:["qwen-2.5-coder-32b","llama-3.3-70b"]},ye={AGENTS:"/api/agents",AGENT_RUNS:"/api/agents/runs",AGENT_SETTINGS:"/api/agents/settings",AGENT_PROVIDER_MODELS:"/api/agents/provider-models",AGENT_TEST_PROVIDER:"/api/agents/test-provider",SCHEDULES:"/api/schedules",SCHEDULES_SYNC:"/api/schedules/sync",CONFIG:"/api/config",CONFIG_TEST:"/api/config/test",CONFIG_TEST_SUMMARIZATION:"/api/config/test-summarization",CONFIG_EXCLUSIONS:"/api/config/exclusions",CONFIG_EXCLUSIONS_RESET:"/api/config/exclusions/reset",PROVIDERS_MODELS:"/api/providers/models",PROVIDERS_SUMMARIZATION_MODELS:"/api/providers/summarization-models",STATUS:"/api/status",HEALTH:"/api/health",RESTART:"/api/restart",SELF_RESTART:"/api/self-restart",UPGRADE_AND_RESTART:"/api/upgrade-and-restart",LOGS:"/api/logs",ACTIVITY_SESSIONS:"/api/activity/sessions",ACTIVITY_SESSION_AGENTS:"/api/activity/session-agents",ACTIVITY_PLANS:"/api/activity/plans",ACTIVITY_STATS:"/api/activity/stats",ACTIVITY_SEARCH:"/api/activity/search",ACTIVITY_REPROCESS:"/api/activity/reprocess-memories",SEARCH:"/api/search",INDEX_REBUILD:"/api/index/rebuild",INDEX_STATUS:"/api/index/status",MEMORIES:"/api/memories",MEMORIES_TAGS:"/api/memories/tags",MEMORIES_BULK:"/api/memories/bulk",DEVTOOLS_MEMORY_STATS:"/api/devtools/memory-stats",DEVTOOLS_REBUILD_INDEX:"/api/devtools/rebuild-index",DEVTOOLS_REBUILD_MEMORIES:"/api/devtools/rebuild-memories",DEVTOOLS_TRIGGER_PROCESSING:"/api/devtools/trigger-processing",DEVTOOLS_RESET_PROCESSING:"/api/devtools/reset-processing",DEVTOOLS_REGENERATE_SUMMARIES:"/api/devtools/regenerate-summaries",DEVTOOLS_REPROCESS_OBSERVATIONS:"/api/devtools/reprocess-observations",DEVTOOLS_DATABASE_MAINTENANCE:"/api/devtools/database-maintenance",DEVTOOLS_BACKFILL_HASHES:"/api/devtools/backfill-hashes",DEVTOOLS_REEMBED_SESSIONS:"/api/activity/reembed-sessions",DEVTOOLS_COMPACT_CHROMADB:"/api/devtools/compact-chromadb",DEVTOOLS_CLEANUP_MINIMAL_SESSIONS:"/api/devtools/cleanup-minimal-sessions",DEVTOOLS_CLEANUP_ORPHANS:"/api/devtools/cleanup-orphans",BACKUP_STATUS:"/api/backup/status",BACKUP_CREATE:"/api/backup/create",BACKUP_RESTORE:"/api/backup/restore",BACKUP_RESTORE_ALL:"/api/backup/restore-all",TUNNEL_START:"/api/tunnel/start",TUNNEL_STOP:"/api/tunnel/stop",TUNNEL_STATUS:"/api/tunnel/status",GOVERNANCE_CONFIG:"/api/governance/config",GOVERNANCE_AUDIT:"/api/governance/audit",GOVERNANCE_AUDIT_SUMMARY:"/api/governance/audit/summary",GOVERNANCE_TEST:"/api/governance/test",GOVERNANCE_AUDIT_PRUNE:"/api/governance/audit/prune",CLOUD_RELAY_STATUS:"/api/cloud/status",CLOUD_RELAY_START:"/api/cloud/start",CLOUD_RELAY_STOP:"/api/cloud/stop",CLOUD_RELAY_PREFLIGHT:"/api/cloud/preflight",CLOUD_RELAY_SETTINGS:"/api/cloud/settings"};function nk(e){return`${ye.ACTIVITY_SESSIONS}/${e}`}function ak(e){return`${ye.ACTIVITY_SESSIONS}/${e}`}function sk(e){return`/api/activity/prompt-batches/${e}`}function rk(e){return`/api/activity/activities/${e}`}function lk(e){return`${ye.MEMORIES}/${e}`}function ik(e){return`${ye.MEMORIES}/${e}/archive`}function ok(e){return`${ye.MEMORIES}/${e}/unarchive`}function ck(e){return`${ye.MEMORIES}/${e}/status`}function uk(e){return`/api/activity/prompt-batches/${e}/promote`}function KN(e,s=!1){const r=`${ye.ACTIVITY_PLANS}/${e}/refresh`;return s?`${r}?graceful=true`:r}function dk(e){return`${ye.ACTIVITY_SESSIONS}/${e}/lineage`}function Hp(e){return`${ye.ACTIVITY_SESSIONS}/${e}/link`}function fk(e){return`${ye.ACTIVITY_SESSIONS}/${e}/complete`}function mk(e){return`${ye.ACTIVITY_SESSIONS}/${e}/regenerate-summary`}function hk(e){return`${ye.ACTIVITY_SESSIONS}/${e}/title`}function pk(e){return`${ye.ACTIVITY_SESSIONS}/${e}/suggested-parent`}function xk(e){return`${ye.ACTIVITY_SESSIONS}/${e}/dismiss-suggestion`}function gk(e){return`${ye.ACTIVITY_SESSIONS}/${e}/related`}function yk(e){return`${ye.ACTIVITY_SESSIONS}/${e}/related`}function vk(e,s){return`${ye.ACTIVITY_SESSIONS}/${e}/related/${s}`}function bk(e){return`${ye.ACTIVITY_SESSIONS}/${e}/suggested-related`}const sp={ACTIVE:"active",COMPLETED:"completed"},Nk={[sp.ACTIVE]:"active",[sp.COMPLETED]:"done"},ds={CLEAR:"clear",COMPACT:"compact",INFERRED:"inferred",MANUAL:"manual"},XN={[ds.CLEAR]:"Continued after clear",[ds.COMPACT]:"Compacted from",[ds.INFERRED]:"Automatically linked",[ds.MANUAL]:"Manually linked"},jk={[ds.CLEAR]:"bg-blue-500/10 text-blue-600",[ds.COMPACT]:"bg-purple-500/10 text-purple-600",[ds.INFERRED]:"bg-gray-500/10 text-gray-600",[ds.MANUAL]:"bg-green-500/10 text-green-600"},Sk=[{value:ds.MANUAL,label:"Manual link"},{value:ds.INFERRED,label:"Inferred relationship"}],h0={ready:"System Ready",indexing:"Indexing..."},Ro={SYNCED:"synced",PENDING_EMBED:"pending_embed",OUT_OF_SYNC:"out_of_sync",ORPHANED:"orphaned",MISSING:"missing"},hl={LAST_ACTIVITY:"last_activity",CREATED:"created",STATUS:"status"},fh={[hl.LAST_ACTIVITY]:"Last Activity",[hl.CREATED]:"Created",[hl.STATUS]:"Status"},Ek=[{value:hl.LAST_ACTIVITY,label:fh.last_activity},{value:hl.CREATED,label:fh.created},{value:hl.STATUS,label:fh.status}],ZN=hl.LAST_ACTIVITY,zu={ALL:"all"},Jo={CREATED:"created",CREATED_ASC:"created_asc"},p0={[Jo.CREATED]:"Newest First",[Jo.CREATED_ASC]:"Oldest First"},wk=[{value:Jo.CREATED,label:p0.created},{value:Jo.CREATED_ASC,label:p0.created_asc}],JN=Jo.CREATED,il={MIN_ACTIVITIES:3,STALE_TIMEOUT_SECONDS:3600},rs={MIN_ACTIVITY_THRESHOLD:1,MAX_ACTIVITY_THRESHOLD:20,MIN_STALE_TIMEOUT:300,MAX_STALE_TIMEOUT:86400};function _k(e){const s=Math.floor(e/3600),r=Math.floor(e%3600/60);return s>=1&&r===0?s===1?"1 hour":`${s} hours`:s>=1?`${s}h ${r}m`:r===1?"1 minute":`${r} minutes`}const Qa={ENABLED:!0,SIMILARITY_THRESHOLD:.85,SIMILARITY_THRESHOLD_NO_CONTEXT:.92,SEARCH_LIMIT:5},Rn={SIMILARITY_MIN:.5,SIMILARITY_MAX:.99,SEARCH_LIMIT_MIN:1,SEARCH_LIMIT_MAX:20},gi={HIGH:"high",MEDIUM:"medium",LOW:"low"},WN={[gi.HIGH]:"High Confidence",[gi.MEDIUM]:"Medium Confidence",[gi.LOW]:"Low Confidence"},ej={[gi.HIGH]:"bg-green-500/10 text-green-600",[gi.MEDIUM]:"bg-yellow-500/10 text-yellow-600",[gi.LOW]:"bg-gray-500/10 text-gray-500"},fd={SUGGESTION:"suggestion",MANUAL:"manual"},Ck={[fd.SUGGESTION]:"From Suggestion",[fd.MANUAL]:"Manually Added"},Tk={[fd.SUGGESTION]:"bg-amber-500/10 text-amber-600",[fd.MANUAL]:"bg-green-500/10 text-green-600"},sd={DEBUG:"DEBUG",INFO:"INFO"},ls={ENABLED:!0,MAX_SIZE_MB:10,BACKUP_COUNT:3},Fs={MIN_SIZE_MB:1,MAX_SIZE_MB:100,MAX_BACKUP_COUNT:10};function kk(e,s){return e*(1+s)}const ji={DAEMON:"daemon",HOOKS:"hooks"},x0={[ji.DAEMON]:"Daemon Log",[ji.HOOKS]:"Hook Events"},Ak=[{value:ji.DAEMON,label:x0.daemon},{value:ji.HOOKS,label:x0.hooks}],Mn={SESSION_START:"[SESSION-START]",SESSION_END:"[SESSION-END]",PROMPT_SUBMIT:"[PROMPT-SUBMIT]",TOOL_USE:"[TOOL-USE]",SUBAGENT_START:"[SUBAGENT-START]",SUBAGENT_STOP:"[SUBAGENT-STOP]",CONTEXT_INJECT:"[CONTEXT-INJECT]",OTEL:"[OTEL:"},g0={lifecycle:{label:"Lifecycle",tags:[Mn.SESSION_START,Mn.SESSION_END,Mn.PROMPT_SUBMIT]},tools:{label:"Tools",tags:[Mn.TOOL_USE,Mn.SUBAGENT_START,Mn.SUBAGENT_STOP]},context:{label:"Context",tags:[Mn.CONTEXT_INJECT]},otel:{label:"OTEL",tags:[Mn.OTEL]}},y0={[Mn.SESSION_START]:"Session Start",[Mn.SESSION_END]:"Session End",[Mn.PROMPT_SUBMIT]:"Prompt",[Mn.TOOL_USE]:"Tool Use",[Mn.SUBAGENT_START]:"Agent Start",[Mn.SUBAGENT_STOP]:"Agent Stop",[Mn.CONTEXT_INJECT]:"Context Inject",[Mn.OTEL]:"OTEL"},Dn={DEBUG:"[DEBUG]",INFO:"[INFO]",WARNING:"[WARNING]",ERROR:"[ERROR]",SEARCH_MEMORY:"[SEARCH:memory",SEARCH_CODE:"[SEARCH:code",SEARCH_FILE:"[SEARCH:file-context",INJECT:"[INJECT:"},v0={levels:{label:"Log Levels",tags:[Dn.DEBUG,Dn.INFO,Dn.WARNING,Dn.ERROR]},search:{label:"Search & Inject",tags:[Dn.SEARCH_MEMORY,Dn.SEARCH_CODE,Dn.SEARCH_FILE,Dn.INJECT]}},b0={[Dn.DEBUG]:"Debug",[Dn.INFO]:"Info",[Dn.WARNING]:"Warning",[Dn.ERROR]:"Error",[Dn.SEARCH_MEMORY]:"Search Memory",[Dn.SEARCH_CODE]:"Search Code",[Dn.SEARCH_FILE]:"Search File",[Dn.INJECT]:"Inject"},fs={HIGH:"high",MEDIUM:"medium",LOW:"low"},Rk=[{value:"all",label:"All Results"},{value:fs.HIGH,label:"High Confidence"},{value:fs.MEDIUM,label:"Medium+"},{value:fs.LOW,label:"Low+"}],Uu={[fs.HIGH]:"bg-green-500/10 text-green-600",[fs.MEDIUM]:"bg-yellow-500/10 text-yellow-600",[fs.LOW]:"bg-gray-500/10 text-gray-500"},os={CODE:"code",I18N:"i18n",CONFIG:"config",TEST:"test",DOCS:"docs"},Ok={[os.CODE]:"bg-blue-500/10 text-blue-600",[os.I18N]:"bg-purple-500/10 text-purple-600",[os.CONFIG]:"bg-orange-500/10 text-orange-600",[os.TEST]:"bg-cyan-500/10 text-cyan-600",[os.DOCS]:"bg-emerald-500/10 text-emerald-600"},Mk={[os.CODE]:"Code",[os.I18N]:"i18n",[os.CONFIG]:"Config",[os.TEST]:"Test",[os.DOCS]:"Docs"},Vs={ALL:"all",CODE:"code",MEMORY:"memory",PLANS:"plans",SESSIONS:"sessions"},Dk=[{value:Vs.ALL,label:"All Categories"},{value:Vs.CODE,label:"Code Only"},{value:Vs.MEMORY,label:"Memories Only"},{value:Vs.PLANS,label:"Plans Only"},{value:Vs.SESSIONS,label:"Sessions Only"}],_n={GOTCHA:"gotcha",DISCOVERY:"discovery",BUG_FIX:"bug_fix",DECISION:"decision",TRADE_OFF:"trade_off",PLAN:"plan"},hi={[_n.GOTCHA]:"Gotcha",[_n.DISCOVERY]:"Discovery",[_n.BUG_FIX]:"Bug Fix",[_n.DECISION]:"Decision",[_n.TRADE_OFF]:"Trade-off",[_n.PLAN]:"Plan"},Lk={[_n.GOTCHA]:"bg-red-500/10 text-red-600",[_n.DISCOVERY]:"bg-blue-500/10 text-blue-600",[_n.BUG_FIX]:"bg-green-500/10 text-green-600",[_n.DECISION]:"bg-purple-500/10 text-purple-600",[_n.TRADE_OFF]:"bg-orange-500/10 text-orange-600",[_n.PLAN]:"bg-amber-500/10 text-amber-600"},N0=[{value:"all",label:"All Types"},{value:_n.GOTCHA,label:hi.gotcha},{value:_n.DISCOVERY,label:hi.discovery},{value:_n.BUG_FIX,label:hi.bug_fix},{value:_n.DECISION,label:hi.decision},{value:_n.TRADE_OFF,label:hi.trade_off}],Xa={ACTIVE:"active",RESOLVED:"resolved",SUPERSEDED:"superseded"},Ik={[Xa.ACTIVE]:"Active",[Xa.RESOLVED]:"Resolved",[Xa.SUPERSEDED]:"Superseded"},tj={[Xa.ACTIVE]:"bg-green-500/10 text-green-600",[Xa.RESOLVED]:"bg-blue-500/10 text-blue-600",[Xa.SUPERSEDED]:"bg-gray-500/10 text-gray-500"},j0=[{value:"all",label:"All Statuses"},{value:Xa.ACTIVE,label:"Active"},{value:Xa.RESOLVED,label:"Resolved"},{value:Xa.SUPERSEDED,label:"Superseded"}],on={PENDING:"pending",RUNNING:"running",COMPLETED:"completed",FAILED:"failed",CANCELLED:"cancelled",TIMEOUT:"timeout"},nj={[on.PENDING]:"Pending",[on.RUNNING]:"Running",[on.COMPLETED]:"Completed",[on.FAILED]:"Failed",[on.CANCELLED]:"Cancelled",[on.TIMEOUT]:"Timeout"},zk="Recovered by watchdog";function Uk(e){return e?.includes(zk)??!1}const S0={[on.PENDING]:{dot:"bg-gray-500",badge:"bg-gray-500/10 text-gray-600"},[on.RUNNING]:{dot:"bg-yellow-500 animate-pulse",badge:"bg-yellow-500/10 text-yellow-600"},[on.COMPLETED]:{dot:"bg-green-500",badge:"bg-green-500/10 text-green-600"},[on.FAILED]:{dot:"bg-red-500",badge:"bg-red-500/10 text-red-600"},[on.CANCELLED]:{dot:"bg-gray-500",badge:"bg-gray-500/10 text-gray-500"},[on.TIMEOUT]:{dot:"bg-orange-500",badge:"bg-orange-500/10 text-orange-600"}},E0={complete:"bg-green-600 text-white",incomplete:"bg-muted-foreground/20"},Pk={success:"bg-green-500/10 text-green-700",pending_load:"bg-yellow-500/10 text-yellow-700",error:"bg-red-500/10 text-red-700"},et={SUCCESS:"success",ERROR:"error"},Bk="e.g. nomic-embed-text",Fk="e.g. qwen2.5:3b",Hk="e.g. 8192",qk="e.g. 512",Gk="Auto-detect",Vk="e.g. 32768",aj="claude-code",Pu=4,mh=100,hh=200,w0=300,_0=500,C0=120,Si={DEFAULT_LIMIT:20,DEFAULT_OFFSET:0,MAX_LIMIT_MEDIUM:100,DASHBOARD_SESSION_LIMIT:5},Yk={user:"bg-blue-500/10 text-blue-700 dark:text-blue-400",project:"bg-zinc-500/10 text-zinc-600 dark:text-zinc-400",default:"bg-zinc-500/10 text-zinc-500 dark:text-zinc-500"},$k={user:"User Override",project:"Project",default:"Default"},Wo={NO_PREVIEW:"No preview available",NO_SESSIONS:"No sessions recorded yet",NO_RESULTS:"No results found",LOADING:"Loading..."},dn={UPDATE_MESSAGE:"A new version of OAK is available!",UPGRADE_MESSAGE:"Your project needs an upgrade.",FAILED_MESSAGE:"Automatic upgrade couldn't complete. Run from your terminal:",COMMAND:"oak upgrade",VERSION_PREFIX:"v",UPGRADE_BUTTON:"Upgrade & Restart",UPGRADING:"Upgrading...",COPIED_LABEL:"Copied!",COPY_LABEL:"Copy",DISMISS_LABEL:"Dismiss",SESSION_STORAGE_KEY:"oak-ci-update-dismissed",UPGRADE_ATTEMPTED_KEY:"oak-ci-upgrade-attempted"},T0=5e3,Qk=3e4,Kk=3e3,k0=2e3,Xk=6e4,Zk=2e3,Ka={SECONDS_PER_MINUTE:60,MINUTES_PER_HOUR:60,HOURS_PER_DAY:24,MS_PER_SECOND:1e3};function md(e){const s=new Date(e),l=new Date().getTime()-s.getTime(),o=Math.floor(l/Ka.MS_PER_SECOND),u=Math.floor(o/Ka.SECONDS_PER_MINUTE),d=Math.floor(u/Ka.MINUTES_PER_HOUR),f=Math.floor(d/Ka.HOURS_PER_DAY);return o<Ka.SECONDS_PER_MINUTE?"just now":u<Ka.MINUTES_PER_HOUR?`${u}m ago`:d<Ka.HOURS_PER_DAY?`${d}h ago`:f===1?"yesterday":`${f}d ago`}const Jk=6e4,Wk=3e5,eA=1e3,tA={active:1,idle:2,deep_sleep:1/0,hidden:1/0},nA=6e4,aA=12e4;function sA(e){const s=Math.floor(e/Ka.SECONDS_PER_MINUTE);if(s<Ka.MINUTES_PER_HOUR)return`${s}m`;const r=Math.floor(s/Ka.MINUTES_PER_HOUR),l=s%Ka.MINUTES_PER_HOUR;return l>0?`${r}h ${l}m`:`${r}h`}const st={EMBEDDING:"embedding",SUMMARIZATION:"summarization"},rA=.8,lA=.9;function ph(e){return Math.floor(e*rA)}function Bu(e){if(e===""||e===void 0||e===null)return null;const s=typeof e=="number"?e:parseInt(String(e),10);return isNaN(s)?null:s}const ri={DELETE:"delete",ARCHIVE:"archive",UNARCHIVE:"unarchive",ADD_TAG:"add_tag",REMOVE_TAG:"remove_tag",RESOLVE:"resolve"},ml={ALL:"all",TODAY:"today",WEEK:"week",MONTH:"month"},A0=[{value:ml.ALL,label:"All Time"},{value:ml.TODAY,label:"Today"},{value:ml.WEEK,label:"This Week"},{value:ml.MONTH,label:"This Month"}];function xh(e){const s=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),l=String(e.getDate()).padStart(2,"0");return`${s}-${r}-${l}`}function iA(e){const s=new Date;switch(e){case ml.TODAY:return xh(s);case ml.WEEK:{const r=new Date(s);return r.setDate(r.getDate()-7),xh(r)}case ml.MONTH:{const r=new Date(s);return r.setMonth(r.getMonth()-1),xh(r)}default:return""}}const ms={SESSION:{title:"Delete Session",description:"This will permanently delete this session and all its prompt batches, activities, and memories. This action cannot be undone."},BATCH:{title:"Delete Prompt Batch",description:"This will permanently delete this prompt batch and all its activities and memories. This action cannot be undone."},ACTIVITY:{title:"Delete Activity",description:"This will permanently delete this activity. If it has an associated memory, that will also be removed."},MEMORY:{title:"Delete Memory",description:"This will permanently delete this memory observation from the system. This action cannot be undone."}},qp=v.createContext(null),R0=["mousemove","mousedown","keydown","scroll","touchstart"];function oA({children:e}){const[s,r]=v.useState(()=>document.visibilityState==="hidden"?"hidden":"active"),l=v.useRef(void 0),o=v.useRef(void 0),u=v.useRef(void 0),d=v.useRef(Date.now()),f=v.useCallback(()=>{l.current!==void 0&&(clearTimeout(l.current),l.current=void 0),o.current!==void 0&&(clearTimeout(o.current),o.current=void 0)},[]),x=v.useCallback(()=>{f(),l.current=setTimeout(()=>{r(y=>y==="hidden"?y:"idle")},Jk),o.current=setTimeout(()=>{r(y=>y==="hidden"?y:"deep_sleep")},Wk)},[f]),h=v.useCallback(()=>{d.current=Date.now(),r(y=>y==="hidden"?y:"active"),x()},[x]),g=v.useCallback(()=>{u.current===void 0&&(u.current=setTimeout(()=>{u.current=void 0,h()},eA))},[h]);return v.useEffect(()=>{function y(){document.visibilityState==="hidden"?(f(),r("hidden")):(r("active"),d.current=Date.now(),x())}return document.addEventListener("visibilitychange",y),()=>document.removeEventListener("visibilitychange",y)},[f,x]),v.useEffect(()=>{function y(){h()}return window.addEventListener("focus",y),()=>window.removeEventListener("focus",y)},[h]),v.useEffect(()=>{for(const y of R0)document.addEventListener(y,g,{passive:!0});return()=>{for(const y of R0)document.removeEventListener(y,g)}},[g]),v.useEffect(()=>(x(),f),[x,f]),v.useEffect(()=>()=>{u.current!==void 0&&clearTimeout(u.current)},[]),n.jsx(qp.Provider,{value:{state:s,reportActivity:h},children:e})}function cA(){const e=v.useContext(qp);if(!e)throw new Error("usePowerState must be used within a <PowerProvider>");return e}const uA=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dA=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,r,l)=>l?l.toUpperCase():r.toLowerCase()),O0=e=>{const s=dA(e);return s.charAt(0).toUpperCase()+s.slice(1)},sj=(...e)=>e.filter((s,r,l)=>!!s&&s.trim()!==""&&l.indexOf(s)===r).join(" ").trim(),fA=e=>{for(const s in e)if(s.startsWith("aria-")||s==="role"||s==="title")return!0};var mA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const hA=v.forwardRef(({color:e="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:l,className:o="",children:u,iconNode:d,...f},x)=>v.createElement("svg",{ref:x,...mA,width:s,height:s,stroke:e,strokeWidth:l?Number(r)*24/Number(s):r,className:sj("lucide",o),...!u&&!fA(f)&&{"aria-hidden":"true"},...f},[...d.map(([h,g])=>v.createElement(h,g)),...Array.isArray(u)?u:[u]]));const pe=(e,s)=>{const r=v.forwardRef(({className:l,...o},u)=>v.createElement(hA,{ref:u,iconNode:s,className:sj(`lucide-${uA(O0(e))}`,`lucide-${e}`,l),...o}));return r.displayName=O0(e),r};const pA=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],vs=pe("activity",pA);const xA=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h2",key:"tvwodi"}],["path",{d:"M20 8v11a2 2 0 0 1-2 2h-2",key:"1gkqxj"}],["path",{d:"m9 15 3-3 3 3",key:"1pd0qc"}],["path",{d:"M12 12v9",key:"192myk"}]],M0=pe("archive-restore",xA);const gA=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Fu=pe("archive",gA);const yA=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],rj=pe("arrow-down",yA);const vA=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],bA=pe("arrow-left",vA);const NA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Dd=pe("arrow-right",NA);const jA=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],lj=pe("arrow-up-down",jA);const SA=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],ij=pe("arrow-up",SA);const EA=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],rp=pe("book-open",EA);const wA=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],yl=pe("bot",wA);const _A=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],gh=pe("brain-circuit",_A);const CA=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],hd=pe("brain",CA);const TA=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],kA=pe("bug",TA);const AA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Za=pe("calendar",AA);const RA=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],pa=pe("check",RA);const OA=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Or=pe("chevron-down",OA);const MA=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],oj=pe("chevron-left",MA);const DA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Mr=pe("chevron-right",DA);const LA=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Gp=pe("chevron-up",LA);const IA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],jt=pe("circle-alert",IA);const zA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],UA=pe("circle-arrow-up",zA);const PA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ld=pe("circle-check-big",PA);const BA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ln=pe("circle-check",BA);const FA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],HA=pe("circle-question-mark",FA);const qA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Vp=pe("circle-x",qA);const GA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Yp=pe("circle",GA);const VA=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],cj=pe("clipboard-list",VA);const YA=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Qs=pe("clock",YA);const $A=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],Ar=pe("cloud",$A);const QA=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Sl=pe("copy",QA);const KA=[["path",{d:"M14 9 9 4 4 9",key:"1af5af"}],["path",{d:"M20 20h-7a4 4 0 0 1-4-4V4",key:"1blwi3"}]],XA=pe("corner-left-up",KA);const ZA=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],JA=pe("cpu",ZA);const WA=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],D0=pe("database",WA);const eR=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],tR=pe("dollar-sign",eR);const nR=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],aR=pe("download",nR);const sR=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],rR=pe("eraser",sR);const lR=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Dr=pe("external-link",lR);const iR=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],uj=pe("eye-off",iR);const oR=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],dc=pe("eye",oR);const cR=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],uR=pe("file-braces",cR);const dR=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]],ec=pe("file-code",dR);const fR=[["path",{d:"M4 12V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2",key:"jrl274"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 16h2v6",key:"1bxocy"}],["path",{d:"M10 22h4",key:"ceow96"}],["rect",{x:"2",y:"16",width:"4",height:"6",rx:"2",key:"r45zd0"}]],mR=pe("file-digit",fR);const hR=[["path",{d:"M12.659 22H18a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v9.34",key:"o6klzx"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10.378 12.622a1 1 0 0 1 3 3.003L8.36 20.637a2 2 0 0 1-.854.506l-2.867.837a.5.5 0 0 1-.62-.62l.836-2.869a2 2 0 0 1 .506-.853z",key:"zhnas1"}]],pR=pe("file-pen",hR);const xR=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Pn=pe("file-text",xR);const gR=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],lp=pe("flask-conical",gR);const yR=[["path",{d:"M10.3 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.98a2 2 0 0 1 1.69.9l.66 1.2A2 2 0 0 0 12 6h8a2 2 0 0 1 2 2v3.3",key:"128dxu"}],["path",{d:"m14.305 19.53.923-.382",key:"3m78fa"}],["path",{d:"m15.228 16.852-.923-.383",key:"npixar"}],["path",{d:"m16.852 15.228-.383-.923",key:"5xggr7"}],["path",{d:"m16.852 20.772-.383.924",key:"dpfhf9"}],["path",{d:"m19.148 15.228.383-.923",key:"1reyyz"}],["path",{d:"m19.53 21.696-.382-.924",key:"1goivc"}],["path",{d:"m20.772 16.852.924-.383",key:"htqkph"}],["path",{d:"m20.772 19.148.924.383",key:"9w9pjp"}],["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}]],L0=pe("folder-cog",yR);const vR=[["path",{d:"M18 19a5 5 0 0 1-5-5v8",key:"sz5oeg"}],["path",{d:"M9 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v5",key:"1w6njk"}],["circle",{cx:"13",cy:"12",r:"2",key:"1j92g6"}],["circle",{cx:"20",cy:"19",r:"2",key:"1obnsp"}]],dj=pe("folder-git-2",vR);const bR=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"m9.5 10.5 5 5",key:"ra9qjz"}],["path",{d:"m14.5 10.5-5 5",key:"l2rkpq"}]],I0=pe("folder-x",bR);const NR=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],jR=pe("folder",NR);const SR=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],pd=pe("funnel",SR);const ER=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],$p=pe("git-branch",ER);const wR=[["circle",{cx:"12",cy:"18",r:"3",key:"1mpf1b"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["path",{d:"M18 9v2c0 .6-.4 1-1 1H7c-.6 0-1-.4-1-1V9",key:"1uq4wg"}],["path",{d:"M12 12v3",key:"158kv8"}]],_R=pe("git-fork",wR);const CR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],z0=pe("globe",CR);const TR=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],Ei=pe("hard-drive",TR);const kR=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],fj=pe("history",kR);const AR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],mj=pe("info",AR);const RR=[["path",{d:"M18 5a2 2 0 0 1 2 2v8.526a2 2 0 0 0 .212.897l1.068 2.127a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45l1.068-2.127A2 2 0 0 0 4 15.526V7a2 2 0 0 1 2-2z",key:"1pdavp"}],["path",{d:"M20.054 15.987H3.946",key:"14rxg9"}]],OR=pe("laptop",RR);const MR=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],tc=pe("layers",MR);const DR=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],LR=pe("layout-dashboard",DR);const IR=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],ip=pe("lightbulb",IR);const zR=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],xd=pe("link-2",zR);const UR=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],PR=pe("list-checks",UR);const BR=[["path",{d:"M16 5H3",key:"m91uny"}],["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 19H3",key:"zzsher"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]],FR=pe("list-plus",BR);const HR=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],$e=pe("loader-circle",HR);const qR=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],vl=pe("maximize-2",qR);const GR=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M12 8v6",key:"1ib9pf"}],["path",{d:"M9 11h6",key:"1fldmi"}]],Qp=pe("message-square-plus",GR);const VR=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],hj=pe("message-square",VR);const YR=[["path",{d:"M5 12h14",key:"1ays0h"}]],$R=pe("minus",YR);const QR=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],KR=pe("moon",QR);const XR=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],ZR=pe("package",XR);const JR=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],WR=pe("panel-left-close",JR);const eO=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],tO=pe("panel-left",eO);const nO=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],aO=pe("pause",nO);const sO=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Kp=pe("pencil",sO);const rO=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],wi=pe("play",rO);const lO=[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M17 8a1 1 0 0 1 1 1v4a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1z",key:"1xoxul"}],["path",{d:"M9 8V2",key:"14iosj"}]],iO=pe("plug",lO);const oO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ks=pe("plus",oO);const cO=[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Xp=pe("power-off",cO);const uO=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],pj=pe("power",uO);const dO=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ja=pe("refresh-cw",dO);const fO=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],gd=pe("rotate-ccw",fO);const mO=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],hO=pe("rotate-cw",mO);const pO=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],hs=pe("save",pO);const xO=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],xj=pe("scroll-text",xO);const gO=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Zp=pe("search",gO);const yO=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],vO=pe("server",yO);const bO=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Oi=pe("settings",bO);const NO=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],jO=pe("settings-2",NO);const SO=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],fc=pe("share-2",SO);const EO=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],yd=pe("shield-alert",EO);const wO=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m4.243 5.21 14.39 12.472",key:"1c9a7c"}]],_O=pe("shield-ban",wO);const CO=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],gj=pe("shield-check",CO);const TO=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Jp=pe("shield",TO);const kO=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],yj=pe("sparkles",kO);const AO=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],RO=pe("square-check-big",AO);const OO=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Wp=pe("square",OO);const MO=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],DO=pe("sun",MO);const LO=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],U0=pe("tag",LO);const IO=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],_i=pe("terminal",IO);const zO=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],vj=pe("timer",zO);const UO=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],za=pe("trash-2",UO);const PO=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],bl=pe("triangle-alert",PO);const BO=[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]],FO=pe("unlink",BO);const HO=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],qO=pe("upload",HO);const GO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],rd=pe("users",GO);const VO=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Ci=pe("wrench",VO);const YO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Cn=pe("x",YO);function bj(e){var s,r,l="";if(typeof e=="string"||typeof e=="number")l+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(s=0;s<o;s++)e[s]&&(r=bj(e[s]))&&(l&&(l+=" "),l+=r)}else for(r in e)e[r]&&(l&&(l+=" "),l+=r);return l}function Nj(){for(var e,s,r=0,l="",o=arguments.length;r<o;r++)(e=arguments[r])&&(s=bj(e))&&(l&&(l+=" "),l+=s);return l}const $O=(e,s)=>{const r=new Array(e.length+s.length);for(let l=0;l<e.length;l++)r[l]=e[l];for(let l=0;l<s.length;l++)r[e.length+l]=s[l];return r},QO=(e,s)=>({classGroupId:e,validator:s}),jj=(e=new Map,s=null,r)=>({nextPart:e,validators:s,classGroupId:r}),vd="-",P0=[],KO="arbitrary..",XO=e=>{const s=JO(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:l}=e;return{getClassGroupId:d=>{if(d.startsWith("[")&&d.endsWith("]"))return ZO(d);const f=d.split(vd),x=f[0]===""&&f.length>1?1:0;return Sj(f,x,s)},getConflictingClassGroupIds:(d,f)=>{if(f){const x=l[d],h=r[d];return x?h?$O(h,x):x:h||P0}return r[d]||P0}}},Sj=(e,s,r)=>{if(e.length-s===0)return r.classGroupId;const o=e[s],u=r.nextPart.get(o);if(u){const h=Sj(e,s+1,u);if(h)return h}const d=r.validators;if(d===null)return;const f=s===0?e.join(vd):e.slice(s).join(vd),x=d.length;for(let h=0;h<x;h++){const g=d[h];if(g.validator(f))return g.classGroupId}},ZO=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const s=e.slice(1,-1),r=s.indexOf(":"),l=s.slice(0,r);return l?KO+l:void 0})(),JO=e=>{const{theme:s,classGroups:r}=e;return WO(r,s)},WO=(e,s)=>{const r=jj();for(const l in e){const o=e[l];ex(o,r,l,s)}return r},ex=(e,s,r,l)=>{const o=e.length;for(let u=0;u<o;u++){const d=e[u];e4(d,s,r,l)}},e4=(e,s,r,l)=>{if(typeof e=="string"){t4(e,s,r);return}if(typeof e=="function"){n4(e,s,r,l);return}a4(e,s,r,l)},t4=(e,s,r)=>{const l=e===""?s:Ej(s,e);l.classGroupId=r},n4=(e,s,r,l)=>{if(s4(e)){ex(e(l),s,r,l);return}s.validators===null&&(s.validators=[]),s.validators.push(QO(r,e))},a4=(e,s,r,l)=>{const o=Object.entries(e),u=o.length;for(let d=0;d<u;d++){const[f,x]=o[d];ex(x,Ej(s,f),r,l)}},Ej=(e,s)=>{let r=e;const l=s.split(vd),o=l.length;for(let u=0;u<o;u++){const d=l[u];let f=r.nextPart.get(d);f||(f=jj(),r.nextPart.set(d,f)),r=f}return r},s4=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,r4=e=>{if(e<1)return{get:()=>{},set:()=>{}};let s=0,r=Object.create(null),l=Object.create(null);const o=(u,d)=>{r[u]=d,s++,s>e&&(s=0,l=r,r=Object.create(null))};return{get(u){let d=r[u];if(d!==void 0)return d;if((d=l[u])!==void 0)return o(u,d),d},set(u,d){u in r?r[u]=d:o(u,d)}}},op="!",B0=":",l4=[],F0=(e,s,r,l,o)=>({modifiers:e,hasImportantModifier:s,baseClassName:r,maybePostfixModifierPosition:l,isExternal:o}),i4=e=>{const{prefix:s,experimentalParseClassName:r}=e;let l=o=>{const u=[];let d=0,f=0,x=0,h;const g=o.length;for(let S=0;S<g;S++){const E=o[S];if(d===0&&f===0){if(E===B0){u.push(o.slice(x,S)),x=S+1;continue}if(E==="/"){h=S;continue}}E==="["?d++:E==="]"?d--:E==="("?f++:E===")"&&f--}const y=u.length===0?o:o.slice(x);let b=y,N=!1;y.endsWith(op)?(b=y.slice(0,-1),N=!0):y.startsWith(op)&&(b=y.slice(1),N=!0);const C=h&&h>x?h-x:void 0;return F0(u,N,b,C)};if(s){const o=s+B0,u=l;l=d=>d.startsWith(o)?u(d.slice(o.length)):F0(l4,!1,d,void 0,!0)}if(r){const o=l;l=u=>r({className:u,parseClassName:o})}return l},o4=e=>{const s=new Map;return e.orderSensitiveModifiers.forEach((r,l)=>{s.set(r,1e6+l)}),r=>{const l=[];let o=[];for(let u=0;u<r.length;u++){const d=r[u],f=d[0]==="[",x=s.has(d);f||x?(o.length>0&&(o.sort(),l.push(...o),o=[]),l.push(d)):o.push(d)}return o.length>0&&(o.sort(),l.push(...o)),l}},c4=e=>({cache:r4(e.cacheSize),parseClassName:i4(e),sortModifiers:o4(e),...XO(e)}),u4=/\s+/,d4=(e,s)=>{const{parseClassName:r,getClassGroupId:l,getConflictingClassGroupIds:o,sortModifiers:u}=s,d=[],f=e.trim().split(u4);let x="";for(let h=f.length-1;h>=0;h-=1){const g=f[h],{isExternal:y,modifiers:b,hasImportantModifier:N,baseClassName:C,maybePostfixModifierPosition:S}=r(g);if(y){x=g+(x.length>0?" "+x:x);continue}let E=!!S,w=l(E?C.substring(0,S):C);if(!w){if(!E){x=g+(x.length>0?" "+x:x);continue}if(w=l(C),!w){x=g+(x.length>0?" "+x:x);continue}E=!1}const R=b.length===0?"":b.length===1?b[0]:u(b).join(":"),D=N?R+op:R,Q=D+w;if(d.indexOf(Q)>-1)continue;d.push(Q);const ae=o(w,E);for(let k=0;k<ae.length;++k){const A=ae[k];d.push(D+A)}x=g+(x.length>0?" "+x:x)}return x},f4=(...e)=>{let s=0,r,l,o="";for(;s<e.length;)(r=e[s++])&&(l=wj(r))&&(o&&(o+=" "),o+=l);return o},wj=e=>{if(typeof e=="string")return e;let s,r="";for(let l=0;l<e.length;l++)e[l]&&(s=wj(e[l]))&&(r&&(r+=" "),r+=s);return r},m4=(e,...s)=>{let r,l,o,u;const d=x=>{const h=s.reduce((g,y)=>y(g),e());return r=c4(h),l=r.cache.get,o=r.cache.set,u=f,f(x)},f=x=>{const h=l(x);if(h)return h;const g=d4(x,r);return o(x,g),g};return u=d,(...x)=>u(f4(...x))},h4=[],fn=e=>{const s=r=>r[e]||h4;return s.isThemeGetter=!0,s},_j=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Cj=/^\((?:(\w[\w-]*):)?(.+)\)$/i,p4=/^\d+\/\d+$/,x4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,g4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,y4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,v4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,b4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,li=e=>p4.test(e),rt=e=>!!e&&!Number.isNaN(Number(e)),Sr=e=>!!e&&Number.isInteger(Number(e)),yh=e=>e.endsWith("%")&&rt(e.slice(0,-1)),Hs=e=>x4.test(e),N4=()=>!0,j4=e=>g4.test(e)&&!y4.test(e),Tj=()=>!1,S4=e=>v4.test(e),E4=e=>b4.test(e),w4=e=>!Re(e)&&!Oe(e),_4=e=>Mi(e,Rj,Tj),Re=e=>_j.test(e),ol=e=>Mi(e,Oj,j4),vh=e=>Mi(e,R4,rt),H0=e=>Mi(e,kj,Tj),C4=e=>Mi(e,Aj,E4),Hu=e=>Mi(e,Mj,S4),Oe=e=>Cj.test(e),Oo=e=>Di(e,Oj),T4=e=>Di(e,O4),q0=e=>Di(e,kj),k4=e=>Di(e,Rj),A4=e=>Di(e,Aj),qu=e=>Di(e,Mj,!0),Mi=(e,s,r)=>{const l=_j.exec(e);return l?l[1]?s(l[1]):r(l[2]):!1},Di=(e,s,r=!1)=>{const l=Cj.exec(e);return l?l[1]?s(l[1]):r:!1},kj=e=>e==="position"||e==="percentage",Aj=e=>e==="image"||e==="url",Rj=e=>e==="length"||e==="size"||e==="bg-size",Oj=e=>e==="length",R4=e=>e==="number",O4=e=>e==="family-name",Mj=e=>e==="shadow",M4=()=>{const e=fn("color"),s=fn("font"),r=fn("text"),l=fn("font-weight"),o=fn("tracking"),u=fn("leading"),d=fn("breakpoint"),f=fn("container"),x=fn("spacing"),h=fn("radius"),g=fn("shadow"),y=fn("inset-shadow"),b=fn("text-shadow"),N=fn("drop-shadow"),C=fn("blur"),S=fn("perspective"),E=fn("aspect"),w=fn("ease"),R=fn("animate"),D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ae=()=>[...Q(),Oe,Re],k=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto","contain","none"],L=()=>[Oe,Re,x],O=()=>[li,"full","auto",...L()],X=()=>[Sr,"none","subgrid",Oe,Re],ee=()=>["auto",{span:["full",Sr,Oe,Re]},Sr,Oe,Re],Y=()=>[Sr,"auto",Oe,Re],G=()=>["auto","min","max","fr",Oe,Re],J=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ne=()=>["start","end","center","stretch","center-safe","end-safe"],B=()=>["auto",...L()],F=()=>[li,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...L()],q=()=>[e,Oe,Re],_e=()=>[...Q(),q0,H0,{position:[Oe,Re]}],M=()=>["no-repeat",{repeat:["","x","y","space","round"]}],z=()=>["auto","cover","contain",k4,_4,{size:[Oe,Re]}],le=()=>[yh,Oo,ol],T=()=>["","none","full",h,Oe,Re],I=()=>["",rt,Oo,ol],Z=()=>["solid","dashed","dotted","double"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ne=()=>[rt,yh,q0,H0],Fe=()=>["","none",C,Oe,Re],Qe=()=>["none",rt,Oe,Re],Dt=()=>["none",rt,Oe,Re],en=()=>[rt,Oe,Re],gt=()=>[li,"full",...L()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Hs],breakpoint:[Hs],color:[N4],container:[Hs],"drop-shadow":[Hs],ease:["in","out","in-out"],font:[w4],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Hs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Hs],shadow:[Hs],spacing:["px",rt],text:[Hs],"text-shadow":[Hs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",li,Re,Oe,E]}],container:["container"],columns:[{columns:[rt,Re,Oe,f]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ae()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:O()}],"inset-x":[{"inset-x":O()}],"inset-y":[{"inset-y":O()}],start:[{start:O()}],end:[{end:O()}],top:[{top:O()}],right:[{right:O()}],bottom:[{bottom:O()}],left:[{left:O()}],visibility:["visible","invisible","collapse"],z:[{z:[Sr,"auto",Oe,Re]}],basis:[{basis:[li,"full","auto",f,...L()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[rt,li,"auto","initial","none",Re]}],grow:[{grow:["",rt,Oe,Re]}],shrink:[{shrink:["",rt,Oe,Re]}],order:[{order:[Sr,"first","last","none",Oe,Re]}],"grid-cols":[{"grid-cols":X()}],"col-start-end":[{col:ee()}],"col-start":[{"col-start":Y()}],"col-end":[{"col-end":Y()}],"grid-rows":[{"grid-rows":X()}],"row-start-end":[{row:ee()}],"row-start":[{"row-start":Y()}],"row-end":[{"row-end":Y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":G()}],"auto-rows":[{"auto-rows":G()}],gap:[{gap:L()}],"gap-x":[{"gap-x":L()}],"gap-y":[{"gap-y":L()}],"justify-content":[{justify:[...J(),"normal"]}],"justify-items":[{"justify-items":[...ne(),"normal"]}],"justify-self":[{"justify-self":["auto",...ne()]}],"align-content":[{content:["normal",...J()]}],"align-items":[{items:[...ne(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ne(),{baseline:["","last"]}]}],"place-content":[{"place-content":J()}],"place-items":[{"place-items":[...ne(),"baseline"]}],"place-self":[{"place-self":["auto",...ne()]}],p:[{p:L()}],px:[{px:L()}],py:[{py:L()}],ps:[{ps:L()}],pe:[{pe:L()}],pt:[{pt:L()}],pr:[{pr:L()}],pb:[{pb:L()}],pl:[{pl:L()}],m:[{m:B()}],mx:[{mx:B()}],my:[{my:B()}],ms:[{ms:B()}],me:[{me:B()}],mt:[{mt:B()}],mr:[{mr:B()}],mb:[{mb:B()}],ml:[{ml:B()}],"space-x":[{"space-x":L()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":L()}],"space-y-reverse":["space-y-reverse"],size:[{size:F()}],w:[{w:[f,"screen",...F()]}],"min-w":[{"min-w":[f,"screen","none",...F()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[d]},...F()]}],h:[{h:["screen","lh",...F()]}],"min-h":[{"min-h":["screen","lh","none",...F()]}],"max-h":[{"max-h":["screen","lh",...F()]}],"font-size":[{text:["base",r,Oo,ol]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[l,Oe,vh]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",yh,Re]}],"font-family":[{font:[T4,Re,s]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Oe,Re]}],"line-clamp":[{"line-clamp":[rt,"none",Oe,vh]}],leading:[{leading:[u,...L()]}],"list-image":[{"list-image":["none",Oe,Re]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Oe,Re]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:q()}],"text-color":[{text:q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:[rt,"from-font","auto",Oe,ol]}],"text-decoration-color":[{decoration:q()}],"underline-offset":[{"underline-offset":[rt,"auto",Oe,Re]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Oe,Re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Oe,Re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:_e()}],"bg-repeat":[{bg:M()}],"bg-size":[{bg:z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Sr,Oe,Re],radial:["",Oe,Re],conic:[Sr,Oe,Re]},A4,C4]}],"bg-color":[{bg:q()}],"gradient-from-pos":[{from:le()}],"gradient-via-pos":[{via:le()}],"gradient-to-pos":[{to:le()}],"gradient-from":[{from:q()}],"gradient-via":[{via:q()}],"gradient-to":[{to:q()}],rounded:[{rounded:T()}],"rounded-s":[{"rounded-s":T()}],"rounded-e":[{"rounded-e":T()}],"rounded-t":[{"rounded-t":T()}],"rounded-r":[{"rounded-r":T()}],"rounded-b":[{"rounded-b":T()}],"rounded-l":[{"rounded-l":T()}],"rounded-ss":[{"rounded-ss":T()}],"rounded-se":[{"rounded-se":T()}],"rounded-ee":[{"rounded-ee":T()}],"rounded-es":[{"rounded-es":T()}],"rounded-tl":[{"rounded-tl":T()}],"rounded-tr":[{"rounded-tr":T()}],"rounded-br":[{"rounded-br":T()}],"rounded-bl":[{"rounded-bl":T()}],"border-w":[{border:I()}],"border-w-x":[{"border-x":I()}],"border-w-y":[{"border-y":I()}],"border-w-s":[{"border-s":I()}],"border-w-e":[{"border-e":I()}],"border-w-t":[{"border-t":I()}],"border-w-r":[{"border-r":I()}],"border-w-b":[{"border-b":I()}],"border-w-l":[{"border-l":I()}],"divide-x":[{"divide-x":I()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":I()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Z(),"hidden","none"]}],"divide-style":[{divide:[...Z(),"hidden","none"]}],"border-color":[{border:q()}],"border-color-x":[{"border-x":q()}],"border-color-y":[{"border-y":q()}],"border-color-s":[{"border-s":q()}],"border-color-e":[{"border-e":q()}],"border-color-t":[{"border-t":q()}],"border-color-r":[{"border-r":q()}],"border-color-b":[{"border-b":q()}],"border-color-l":[{"border-l":q()}],"divide-color":[{divide:q()}],"outline-style":[{outline:[...Z(),"none","hidden"]}],"outline-offset":[{"outline-offset":[rt,Oe,Re]}],"outline-w":[{outline:["",rt,Oo,ol]}],"outline-color":[{outline:q()}],shadow:[{shadow:["","none",g,qu,Hu]}],"shadow-color":[{shadow:q()}],"inset-shadow":[{"inset-shadow":["none",y,qu,Hu]}],"inset-shadow-color":[{"inset-shadow":q()}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:q()}],"ring-offset-w":[{"ring-offset":[rt,ol]}],"ring-offset-color":[{"ring-offset":q()}],"inset-ring-w":[{"inset-ring":I()}],"inset-ring-color":[{"inset-ring":q()}],"text-shadow":[{"text-shadow":["none",b,qu,Hu]}],"text-shadow-color":[{"text-shadow":q()}],opacity:[{opacity:[rt,Oe,Re]}],"mix-blend":[{"mix-blend":[...ie(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ie()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[rt]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ne()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ne()}],"mask-image-linear-from-color":[{"mask-linear-from":q()}],"mask-image-linear-to-color":[{"mask-linear-to":q()}],"mask-image-t-from-pos":[{"mask-t-from":Ne()}],"mask-image-t-to-pos":[{"mask-t-to":Ne()}],"mask-image-t-from-color":[{"mask-t-from":q()}],"mask-image-t-to-color":[{"mask-t-to":q()}],"mask-image-r-from-pos":[{"mask-r-from":Ne()}],"mask-image-r-to-pos":[{"mask-r-to":Ne()}],"mask-image-r-from-color":[{"mask-r-from":q()}],"mask-image-r-to-color":[{"mask-r-to":q()}],"mask-image-b-from-pos":[{"mask-b-from":Ne()}],"mask-image-b-to-pos":[{"mask-b-to":Ne()}],"mask-image-b-from-color":[{"mask-b-from":q()}],"mask-image-b-to-color":[{"mask-b-to":q()}],"mask-image-l-from-pos":[{"mask-l-from":Ne()}],"mask-image-l-to-pos":[{"mask-l-to":Ne()}],"mask-image-l-from-color":[{"mask-l-from":q()}],"mask-image-l-to-color":[{"mask-l-to":q()}],"mask-image-x-from-pos":[{"mask-x-from":Ne()}],"mask-image-x-to-pos":[{"mask-x-to":Ne()}],"mask-image-x-from-color":[{"mask-x-from":q()}],"mask-image-x-to-color":[{"mask-x-to":q()}],"mask-image-y-from-pos":[{"mask-y-from":Ne()}],"mask-image-y-to-pos":[{"mask-y-to":Ne()}],"mask-image-y-from-color":[{"mask-y-from":q()}],"mask-image-y-to-color":[{"mask-y-to":q()}],"mask-image-radial":[{"mask-radial":[Oe,Re]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ne()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ne()}],"mask-image-radial-from-color":[{"mask-radial-from":q()}],"mask-image-radial-to-color":[{"mask-radial-to":q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":Q()}],"mask-image-conic-pos":[{"mask-conic":[rt]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ne()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ne()}],"mask-image-conic-from-color":[{"mask-conic-from":q()}],"mask-image-conic-to-color":[{"mask-conic-to":q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:_e()}],"mask-repeat":[{mask:M()}],"mask-size":[{mask:z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Oe,Re]}],filter:[{filter:["","none",Oe,Re]}],blur:[{blur:Fe()}],brightness:[{brightness:[rt,Oe,Re]}],contrast:[{contrast:[rt,Oe,Re]}],"drop-shadow":[{"drop-shadow":["","none",N,qu,Hu]}],"drop-shadow-color":[{"drop-shadow":q()}],grayscale:[{grayscale:["",rt,Oe,Re]}],"hue-rotate":[{"hue-rotate":[rt,Oe,Re]}],invert:[{invert:["",rt,Oe,Re]}],saturate:[{saturate:[rt,Oe,Re]}],sepia:[{sepia:["",rt,Oe,Re]}],"backdrop-filter":[{"backdrop-filter":["","none",Oe,Re]}],"backdrop-blur":[{"backdrop-blur":Fe()}],"backdrop-brightness":[{"backdrop-brightness":[rt,Oe,Re]}],"backdrop-contrast":[{"backdrop-contrast":[rt,Oe,Re]}],"backdrop-grayscale":[{"backdrop-grayscale":["",rt,Oe,Re]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[rt,Oe,Re]}],"backdrop-invert":[{"backdrop-invert":["",rt,Oe,Re]}],"backdrop-opacity":[{"backdrop-opacity":[rt,Oe,Re]}],"backdrop-saturate":[{"backdrop-saturate":[rt,Oe,Re]}],"backdrop-sepia":[{"backdrop-sepia":["",rt,Oe,Re]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":L()}],"border-spacing-x":[{"border-spacing-x":L()}],"border-spacing-y":[{"border-spacing-y":L()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Oe,Re]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[rt,"initial",Oe,Re]}],ease:[{ease:["linear","initial",w,Oe,Re]}],delay:[{delay:[rt,Oe,Re]}],animate:[{animate:["none",R,Oe,Re]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,Oe,Re]}],"perspective-origin":[{"perspective-origin":ae()}],rotate:[{rotate:Qe()}],"rotate-x":[{"rotate-x":Qe()}],"rotate-y":[{"rotate-y":Qe()}],"rotate-z":[{"rotate-z":Qe()}],scale:[{scale:Dt()}],"scale-x":[{"scale-x":Dt()}],"scale-y":[{"scale-y":Dt()}],"scale-z":[{"scale-z":Dt()}],"scale-3d":["scale-3d"],skew:[{skew:en()}],"skew-x":[{"skew-x":en()}],"skew-y":[{"skew-y":en()}],transform:[{transform:[Oe,Re,"","none","gpu","cpu"]}],"transform-origin":[{origin:ae()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:gt()}],"translate-x":[{"translate-x":gt()}],"translate-y":[{"translate-y":gt()}],"translate-z":[{"translate-z":gt()}],"translate-none":["translate-none"],accent:[{accent:q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Oe,Re]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Oe,Re]}],fill:[{fill:["none",...q()]}],"stroke-w":[{stroke:[rt,Oo,ol,vh]}],stroke:[{stroke:["none",...q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},D4=m4(M4);function he(...e){return D4(Nj(e))}function Ma(e){return e?new Date(e).toLocaleString(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}):"-"}function El(e){return e.title?e.title:e.first_prompt_preview?e.first_prompt_preview.length>C0?e.first_prompt_preview.slice(0,C0)+"...":e.first_prompt_preview:`Session ${e.id.slice(0,8)}...`}const L4="";let bh;function I4(){return bh===void 0&&(bh=document.querySelector('meta[name="oak-auth-token"]')?.getAttribute("content")??null),bh}function Kn(){return{"X-Devtools-Confirm":"true"}}async function we(e,s){const r=`${L4}${e}`,l=I4(),o={...l?{Authorization:`Bearer ${l}`}:{},...s?.body?{"Content-Type":"application/json"}:{},...s?.headers},u=await fetch(r,{...s,headers:o});if(!u.ok){let d=u.statusText;try{const f=await u.json();f.detail&&(d=f.detail)}catch{}throw new Error(d)}return u.json()}async function cn(e,s){return we(e,{method:"POST",body:JSON.stringify(s)})}async function Dj(e,s){return we(e,{method:"PATCH",body:JSON.stringify(s)})}async function Ir(e){return we(e,{method:"DELETE"})}function G0(e,s,r){if(e===!1||e<=0)return!1;const l=tA[r];return s==="heartbeat"?r==="hidden"?Math.max(e,nA):r==="deep_sleep"?Math.max(e,aA):Math.round(e*l):isFinite(l)?Math.round(e*l):!1}function Pa(e){const{pollCategory:s,refetchInterval:r,...l}=e,u=v.useContext(qp)?.state??"active";let d;if(r===void 0||r===!1||!s)d=r===void 0?void 0:r;else if(typeof r=="number")d=G0(r,s,u);else{const x=r;d=h=>{const g=x(h);return G0(g,s,u)}}const f=s==="heartbeat"?!0:l.refetchIntervalInBackground;return Tn({...l,refetchInterval:d,refetchIntervalInBackground:f})}function tx(){return Pa({queryKey:["status"],queryFn:({signal:e})=>we(ye.STATUS,{signal:e}),refetchInterval:e=>{const s=e.state.data;return s?s.indexing||s.file_watcher?.pending_changes>0?T0:Qk:T0},pollCategory:"heartbeat"})}function nx(e){const s=e?.endpoint??ye.SELF_RESTART,[r,l]=v.useState(!1),[o,u]=v.useState(null),d=v.useRef(null);return{restart:v.useCallback(async()=>{if(!r){l(!0),u(null);try{await we(s,{method:"POST"});const x=Date.now()+Xk;d.current=new AbortController,await new Promise((g,y)=>{const b=async()=>{if(Date.now()>x){y(new Error("timeout"));return}try{await we(ye.HEALTH,{signal:d.current?.signal}),g()}catch{setTimeout(b,k0)}};setTimeout(b,k0)}),window.location.reload()}catch(x){u(x instanceof Error&&x.message==="timeout"?"Restart timed out. Try: oak ci restart":"Restart failed. Try: oak ci restart"),l(!1)}}},[r,s]),isRestarting:r,error:o}}function z4({version:e,upgrade:s}){const{restart:r,isRestarting:l,error:o}=nx({endpoint:ye.UPGRADE_AND_RESTART}),[u,d]=v.useState(!1),f=e.update_available||s.needed,h=sessionStorage.getItem(dn.UPGRADE_ATTEMPTED_KEY)==="true"&&f,g=`${dn.SESSION_STORAGE_KEY}-${e.installed}-${s.pending_migrations}-${s.config_version_outdated}`,[y,b]=v.useState(()=>sessionStorage.getItem(g)==="true");if(!f)return sessionStorage.removeItem(dn.UPGRADE_ATTEMPTED_KEY),null;if(y)return null;const N=()=>{sessionStorage.setItem(g,"true"),b(!0)},C=async()=>{sessionStorage.setItem(dn.UPGRADE_ATTEMPTED_KEY,"true"),await r()},S=async()=>{await navigator.clipboard.writeText(dn.COMMAND),d(!0),setTimeout(()=>d(!1),Zk)},E=e.update_available&&e.installed?`(${dn.VERSION_PREFIX}${e.running}  ${dn.VERSION_PREFIX}${e.installed})`:"",w=e.update_available?dn.UPDATE_MESSAGE:dn.UPGRADE_MESSAGE;return h?n.jsxs("div",{className:he("flex items-center gap-3 px-4 py-3 rounded-lg mb-4 text-sm","bg-amber-500/10 border border-amber-500/20 text-amber-700 dark:text-amber-400"),children:[n.jsx(bl,{className:"w-4 h-4 flex-shrink-0"}),n.jsxs("span",{className:"flex-1",children:[dn.FAILED_MESSAGE," ",n.jsx("code",{className:"px-1.5 py-0.5 rounded bg-amber-500/10 font-mono text-xs",children:dn.COMMAND})]}),n.jsx("button",{onClick:S,className:he("flex items-center gap-1.5 px-3 py-1 rounded-md text-xs font-medium transition-colors","bg-amber-600 text-white hover:bg-amber-700"),children:u?n.jsxs(n.Fragment,{children:[n.jsx(pa,{className:"w-3 h-3"}),dn.COPIED_LABEL]}):n.jsxs(n.Fragment,{children:[n.jsx(Sl,{className:"w-3 h-3"}),dn.COPY_LABEL]})}),n.jsx("button",{onClick:N,title:dn.DISMISS_LABEL,"aria-label":dn.DISMISS_LABEL,className:"p-1 rounded-sm hover:bg-amber-500/20 transition-colors",children:n.jsx(Cn,{className:"w-3.5 h-3.5"})})]}):n.jsxs("div",{className:he("flex items-center gap-3 px-4 py-3 rounded-lg mb-4 text-sm","bg-amber-500/10 border border-amber-500/20 text-amber-700 dark:text-amber-400"),children:[n.jsx(UA,{className:"w-4 h-4 flex-shrink-0"}),n.jsxs("span",{className:"flex-1",children:[w," ",E]}),o&&n.jsx("span",{className:"text-red-600 dark:text-red-400 text-xs",children:o}),n.jsxs("button",{onClick:C,disabled:l,className:he("flex items-center gap-1.5 px-3 py-1 rounded-md text-xs font-medium transition-colors","bg-amber-600 text-white hover:bg-amber-700","disabled:opacity-50 disabled:cursor-not-allowed"),children:[n.jsx(Ja,{className:he("w-3 h-3",l&&"animate-spin")}),l?dn.UPGRADING:dn.UPGRADE_BUTTON]}),!l&&n.jsx("button",{onClick:N,title:dn.DISMISS_LABEL,"aria-label":dn.DISMISS_LABEL,className:"p-1 rounded-sm hover:bg-amber-500/20 transition-colors",children:n.jsx(Cn,{className:"w-3.5 h-3.5"})})]})}const V0="oak-ci-sidebar-collapsed",U4=({to:e,icon:s,label:r,active:l,collapsed:o})=>n.jsxs(Ze,{to:e,title:o?r:void 0,className:he("flex items-center gap-3 px-3 py-2 rounded-md transition-colors text-sm font-medium",o&&"justify-center px-2",l?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:[n.jsx(s,{className:"w-4 h-4 flex-shrink-0"}),!o&&n.jsx("span",{children:r})]});function P4(){const e=Bn(),{setTheme:s,theme:r}=ZT(),{data:l}=tx(),{restart:o,isRestarting:u}=nx(),d=Ve(),{state:f,reportActivity:x}=cA(),h=v.useRef(f);v.useEffect(()=>{const S=h.current;h.current=f,f==="active"&&(S==="hidden"||S==="deep_sleep")&&d.invalidateQueries()},[f,d]),v.useEffect(()=>{f!=="active"&&f!=="hidden"&&(l?.indexing||(l?.file_watcher?.pending_changes??0)>0)&&x()},[f,l?.indexing,l?.file_watcher?.pending_changes,x]);const[g,y]=v.useState(()=>localStorage.getItem(V0)==="true");v.useEffect(()=>{localStorage.setItem(V0,String(g))},[g]);const b=l?.project_root?l.project_root.split("/").pop():null;v.useEffect(()=>{document.title=b?`${b}  Oak CI`:"Oak CI"},[b]);const N=[{to:"/",icon:LR,label:"Dashboard"},{to:"/search",icon:Zp,label:"Search"},{to:"/activity",icon:vs,label:"Activity"},{to:"/team",icon:rd,label:"Team"},{to:"/agents",icon:yl,label:"Agents"},{to:"/cloud",icon:Ar,label:"Cloud"},{to:"/governance",icon:Jp,label:"Governance"},{to:"/config",icon:Oi,label:"Configuration"},{to:"/logs",icon:xj,label:"Logs"},{to:"/devtools",icon:Ci,label:"DevTools"},{to:"/help",icon:HA,label:"Help"}],C=()=>y(!g);return n.jsxs("div",{className:"flex h-screen bg-background text-foreground overflow-hidden font-sans",children:[n.jsxs("aside",{className:he("border-r bg-card flex flex-col transition-all duration-200",g?"w-16":"w-64"),children:[n.jsxs("div",{className:he("border-b",g?"p-3":"p-6"),children:[n.jsxs("div",{className:he("flex items-center mb-3",g?"justify-center":"gap-2"),children:[n.jsx("div",{className:"w-8 h-8 flex items-center justify-center flex-shrink-0",children:n.jsx("img",{src:"/logo.png",alt:"Oak CI",className:"w-8 h-8 object-contain"})}),!g&&n.jsx("span",{className:"font-bold text-lg tracking-tight",children:"Oak CI"})]}),!g&&b&&n.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground px-1",children:[n.jsx(jR,{className:"w-3 h-3 flex-shrink-0"}),n.jsx("span",{className:"truncate",title:l?.project_root,children:b})]})]}),n.jsx("nav",{className:he("flex-1 space-y-1 overflow-y-auto",g?"p-2":"p-4"),children:N.map(S=>n.jsx(U4,{...S,collapsed:g,active:e.pathname===S.to||S.to!=="/"&&e.pathname.startsWith(S.to)},S.to))}),n.jsxs("div",{className:he("border-t",g?"p-2":"p-4"),children:[n.jsxs("button",{onClick:o,disabled:u,title:"Restart Daemon","aria-label":"Restart Daemon",className:he("flex items-center gap-2 w-full px-3 py-2 rounded-md transition-colors text-sm font-medium text-muted-foreground hover:bg-muted hover:text-foreground mb-2",g&&"justify-center px-2","disabled:opacity-50 disabled:cursor-not-allowed"),children:[n.jsx(Ja,{className:he("w-4 h-4 flex-shrink-0",u&&"animate-spin")}),!g&&n.jsx("span",{children:u?"Restarting...":"Restart"})]}),n.jsxs("div",{className:he("flex items-center rounded-md bg-muted/50 mb-2",g?"flex-col gap-1 px-1 py-2":"justify-between px-2 py-1"),children:[n.jsx("button",{onClick:()=>s("light"),title:"Light theme","aria-label":"Light theme",className:he("p-1.5 rounded-sm transition-all",r==="light"&&"bg-background shadow-sm"),children:n.jsx(DO,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>s("system"),title:"System theme","aria-label":"System theme",className:he("p-1.5 rounded-sm transition-all",r==="system"&&"bg-background shadow-sm"),children:n.jsx(OR,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>s("dark"),title:"Dark theme","aria-label":"Dark theme",className:he("p-1.5 rounded-sm transition-all",r==="dark"&&"bg-background shadow-sm"),children:n.jsx(KR,{className:"w-4 h-4"})})]}),n.jsx("button",{onClick:C,title:g?"Expand sidebar":"Collapse sidebar","aria-label":g?"Expand sidebar":"Collapse sidebar",className:he("flex items-center gap-2 w-full px-3 py-2 rounded-md transition-colors text-sm font-medium text-muted-foreground hover:bg-muted hover:text-foreground",g&&"justify-center px-2"),children:g?n.jsx(tO,{className:"w-4 h-4"}):n.jsxs(n.Fragment,{children:[n.jsx(WR,{className:"w-4 h-4"}),n.jsx("span",{children:"Collapse"})]})})]})]}),n.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden relative",children:[n.jsx("div",{className:"flex-1 overflow-y-auto p-8 relative z-10",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[(l?.version?.update_available||l?.upgrade?.needed)&&n.jsx(z4,{version:l.version,upgrade:l.upgrade}),n.jsx(uc,{})]})}),n.jsxs("div",{className:"absolute top-0 left-0 w-full h-full pointer-events-none z-0 overflow-hidden",children:[n.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-[500px] h-[500px] bg-primary/5 rounded-full blur-[100px]"}),n.jsx("div",{className:"absolute bottom-[-20%] left-[-10%] w-[600px] h-[600px] bg-blue-500/5 rounded-full blur-[120px]"})]})]})]})}const Te=v.forwardRef(({className:e,...s},r)=>n.jsx("div",{ref:r,className:he("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));Te.displayName="Card";const Me=v.forwardRef(({className:e,...s},r)=>n.jsx("div",{ref:r,className:he("flex flex-col space-y-1.5 p-6",e),...s}));Me.displayName="CardHeader";const Ie=v.forwardRef(({className:e,...s},r)=>n.jsx("h3",{ref:r,className:he("text-2xl font-semibold leading-none tracking-tight",e),...s}));Ie.displayName="CardTitle";const tt=v.forwardRef(({className:e,...s},r)=>n.jsx("p",{ref:r,className:he("text-sm text-muted-foreground",e),...s}));tt.displayName="CardDescription";const ke=v.forwardRef(({className:e,...s},r)=>n.jsx("div",{ref:r,className:he("p-6 pt-0",e),...s}));ke.displayName="CardContent";const ps=v.forwardRef(({className:e,...s},r)=>n.jsx("div",{ref:r,className:he("flex items-center p-6 pt-0",e),...s}));ps.displayName="CardFooter";const gn=({children:e,className:s,htmlFor:r})=>n.jsx("label",{htmlFor:r,className:he("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",s),children:e}),da=({className:e,...s})=>n.jsx("input",{className:he("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm","ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium","placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2","focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...s}),bd=({className:e,children:s,...r})=>n.jsx("select",{className:he("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm","ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2","focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:s}),B4=({step:e,isComplete:s,className:r})=>n.jsx("span",{className:he("flex items-center justify-center w-5 h-5 rounded-full text-xs",s?E0.complete:E0.incomplete,r),children:e}),Gs=({step:e,title:s,isComplete:r})=>n.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[n.jsx(B4,{step:e,isComplete:r}),s]}),cp=({result:e,className:s})=>{if(!e)return null;const l=e.success&&e.pending_load?"pending_load":e.success?"success":"error",o=Pk[l],u=()=>{switch(l){case"pending_load":return"Configuration Valid";case"success":return"Connection Successful";default:return"Test Failed"}};return n.jsxs("div",{className:he("col-span-2 text-sm p-3 rounded flex items-start gap-2",o,s),children:[e.success?n.jsx(Ln,{className:"w-4 h-4 mt-0.5"}):n.jsx(jt,{className:"w-4 h-4 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:u()}),n.jsx("p",{children:e.success?e.message:e.error}),e.suggestion&&n.jsx("p",{className:"mt-1 font-semibold",children:e.suggestion})]})]})},up=({show:e})=>e?n.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[n.jsx(Ln,{className:"h-5 w-5"}),n.jsx("span",{className:"text-sm font-medium",children:"Ready"})]}):null,Lj=({status:e,className:s})=>{const r={active:"bg-yellow-500 animate-pulse",completed:"bg-green-500",error:"bg-red-500",ready:"bg-green-500",indexing:"bg-yellow-500 animate-pulse"};return n.jsx("div",{className:he("w-2 h-2 rounded-full flex-shrink-0",r[e]||r.ready,s)})},F4=({status:e,label:s,className:r})=>{const l={active:"bg-yellow-500/10 text-yellow-600",completed:"bg-green-500/10 text-green-600",error:"bg-red-500/10 text-red-600",ready:"bg-green-500/10 text-green-600",indexing:"bg-yellow-500/10 text-yellow-600"};return n.jsx("span",{className:he("text-xs px-2 py-0.5 rounded-full flex-shrink-0",l[e]||l.ready,r),children:s})};function Y0(e,s){if(typeof e=="function")return e(s);e!=null&&(e.current=s)}function Id(...e){return s=>{let r=!1;const l=e.map(o=>{const u=Y0(o,s);return!r&&typeof u=="function"&&(r=!0),u});if(r)return()=>{for(let o=0;o<l.length;o++){const u=l[o];typeof u=="function"?u():Y0(e[o],null)}}}}function Xs(...e){return v.useCallback(Id(...e),e)}var H4=Symbol.for("react.lazy"),Nd=Td[" use ".trim().toString()];function q4(e){return typeof e=="object"&&e!==null&&"then"in e}function Ij(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===H4&&"_payload"in e&&q4(e._payload)}function zj(e){const s=V4(e),r=v.forwardRef((l,o)=>{let{children:u,...d}=l;Ij(u)&&typeof Nd=="function"&&(u=Nd(u._payload));const f=v.Children.toArray(u),x=f.find($4);if(x){const h=x.props.children,g=f.map(y=>y===x?v.Children.count(h)>1?v.Children.only(null):v.isValidElement(h)?h.props.children:null:y);return n.jsx(s,{...d,ref:o,children:v.isValidElement(h)?v.cloneElement(h,void 0,g):null})}return n.jsx(s,{...d,ref:o,children:u})});return r.displayName=`${e}.Slot`,r}var G4=zj("Slot");function V4(e){const s=v.forwardRef((r,l)=>{let{children:o,...u}=r;if(Ij(o)&&typeof Nd=="function"&&(o=Nd(o._payload)),v.isValidElement(o)){const d=K4(o),f=Q4(u,o.props);return o.type!==v.Fragment&&(f.ref=l?Id(l,d):d),v.cloneElement(o,f)}return v.Children.count(o)>1?v.Children.only(null):null});return s.displayName=`${e}.SlotClone`,s}var Y4=Symbol("radix.slottable");function $4(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Y4}function Q4(e,s){const r={...s};for(const l in s){const o=e[l],u=s[l];/^on[A-Z]/.test(l)?o&&u?r[l]=(...f)=>{const x=u(...f);return o(...f),x}:o&&(r[l]=o):l==="style"?r[l]={...o,...u}:l==="className"&&(r[l]=[o,u].filter(Boolean).join(" "))}return{...e,...r}}function K4(e){let s=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=s&&"isReactWarning"in s&&s.isReactWarning;return r?e.ref:(s=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=s&&"isReactWarning"in s&&s.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const $0=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Q0=Nj,ax=(e,s)=>r=>{var l;if(s?.variants==null)return Q0(e,r?.class,r?.className);const{variants:o,defaultVariants:u}=s,d=Object.keys(o).map(h=>{const g=r?.[h],y=u?.[h];if(g===null)return null;const b=$0(g)||$0(y);return o[h][b]}),f=r&&Object.entries(r).reduce((h,g)=>{let[y,b]=g;return b===void 0||(h[y]=b),h},{}),x=s==null||(l=s.compoundVariants)===null||l===void 0?void 0:l.reduce((h,g)=>{let{class:y,className:b,...N}=g;return Object.entries(N).every(C=>{let[S,E]=C;return Array.isArray(E)?E.includes({...u,...f}[S]):{...u,...f}[S]===E})?[...h,y,b]:h},[]);return Q0(e,d,x,r?.class,r?.className)},X4=ax("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),fe=v.forwardRef(({className:e,variant:s,size:r,asChild:l=!1,...o},u)=>{const d=l?G4:"button";return n.jsx(d,{className:he(X4({variant:s,size:r,className:e})),ref:u,...o})});fe.displayName="Button";const K0=({value:e,onChange:s,disabled:r})=>n.jsx(bd,{value:e,onChange:l=>{const o=l.target.value,u=ap[o];s(o,u)},disabled:r,children:JT.map(l=>n.jsx("option",{value:l.value,children:l.label},l.value))}),dp=({value:e,onChange:s,onRefresh:r,isRefreshing:l,placeholder:o="http://localhost:11434",disabled:u})=>n.jsxs("div",{className:"flex gap-2",children:[n.jsx(da,{value:e,onChange:d=>s(d.target.value),placeholder:o,disabled:u}),n.jsx(fe,{variant:"outline",size:"icon",onClick:r,title:"Load Models",disabled:u,children:l?n.jsx($e,{className:"h-4 w-4 animate-spin"}):n.jsx(hO,{className:"h-4 w-4"})})]}),fp=({value:e,models:s,onChange:r,placeholder:l,showDimensions:o=!1,helpText:u})=>{const d=s.length>0;return n.jsxs("div",{className:"space-y-2",children:[d?n.jsxs(bd,{value:e,onChange:f=>{const x=f.target.value,h=s.find(g=>(g.name||g.id)===x);r(x,h)},children:[n.jsx("option",{value:"",disabled:!0,children:"Select a model..."}),s.map(f=>{const x=f.name||f.id||"";return n.jsx("option",{value:x,children:o&&f.dimensions?`${x} (${f.dimensions} dims) - ${f.provider}`:f.display_name||x},x)})]}):n.jsx(da,{value:e,onChange:f=>r(f.target.value,void 0),placeholder:l}),u&&n.jsx("p",{className:"text-xs text-muted-foreground",children:u})]})},mp=({onClick:e,isTesting:s,disabled:r,label:l="Test & Detect",className:o})=>n.jsxs(fe,{variant:"secondary",className:he("w-full",o),onClick:e,disabled:s||r,children:[s?n.jsx($e,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(iO,{className:"mr-2 h-4 w-4"}),l]}),Mo=({title:e,value:s,icon:r,subtext:l,loading:o,href:u})=>{const d=n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-6 flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx("h3",{className:"tracking-tight text-sm font-medium",children:e}),n.jsx(r,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs("div",{className:"p-6 pt-0",children:[n.jsx("div",{className:"text-2xl font-bold",children:o?"...":s}),l&&n.jsx("p",{className:"text-xs text-muted-foreground",children:l})]})]}),f="rounded-lg border bg-card text-card-foreground shadow-sm",x=u?"cursor-pointer hover:bg-accent/50 transition-colors":"";return u?n.jsx("a",{href:u,className:he(f,x,"block"),children:d}):n.jsx("div",{className:f,children:d})},Uj=[512,8192,32768,131072],Z4=[8192,32768,131072,1048576],X0=({value:e,onChange:s,placeholder:r="e.g. 8192",presets:l=Uj,className:o})=>{const u=d=>d>=1e6?`${Math.round(d/1048576)}M`:d>=1e4?`${Math.round(d/1024)}K`:d.toLocaleString();return n.jsxs("div",{className:he("space-y-2",o),children:[n.jsx(da,{type:"number",value:e||"",onChange:d=>{const f=d.target.value;s(f===""?0:parseInt(f,10)||0)},placeholder:r}),n.jsx("div",{className:"flex flex-wrap gap-1.5",children:l.map(d=>n.jsx("button",{type:"button",onClick:()=>s(d),"aria-label":`Set context window to ${d.toLocaleString()} tokens`,className:he("px-2 py-0.5 text-xs rounded-md border transition-colors",Number(e)===d?"bg-primary text-primary-foreground border-primary":"bg-muted/50 hover:bg-muted border-transparent hover:border-border"),children:u(d)},d))})]})},Pj=3e4;function sx(e=Si.DEFAULT_LIMIT,s=Si.DEFAULT_OFFSET,r=ZN,l){const o=new URLSearchParams;return o.set("limit",String(e)),o.set("offset",String(s)),o.set("sort",r),l&&o.set("agent",l),Pa({queryKey:["sessions",e,s,r,l],queryFn:({signal:u})=>we(`${ye.ACTIVITY_SESSIONS}?${o.toString()}`,{signal:u}),refetchInterval:Pj,pollCategory:"standard"})}function J4(e){return Pa({queryKey:["session",e],queryFn:({signal:s})=>we(nk(e),{signal:s}),enabled:!!e,refetchInterval:Pj,pollCategory:"standard"})}function W4(){return Tn({queryKey:["session-agents"],queryFn:({signal:e})=>we(ye.ACTIVITY_SESSION_AGENTS,{signal:e})})}const eM=3e4;function Bj(e={}){const{limit:s=20,offset:r=0,sessionId:l,sort:o=JN}=e;return Pa({queryKey:["plans",s,r,l,o],pollCategory:"standard",queryFn:({signal:u})=>{const d=new URLSearchParams({limit:String(s),offset:String(r),sort:o});return l&&d.set("session_id",l),we(`${ye.ACTIVITY_PLANS}?${d.toString()}`,{signal:u})},refetchInterval:eM})}function tM({session:e}){const r=e.status===sp.ACTIVE?"active":"completed",l=Nk[e.status]||"done";return n.jsxs(Ze,{to:`/activity/sessions/${e.id}`,className:"flex items-center gap-3 py-2 border-b border-border/50 last:border-0 hover:bg-accent/5 rounded-md px-2 -mx-2 transition-colors group",children:[n.jsx(Lj,{status:r}),n.jsx(_i,{className:"w-4 h-4 text-muted-foreground flex-shrink-0"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium text-sm truncate",children:e.agent||aj}),n.jsx("span",{className:"text-xs text-muted-foreground",children:md(e.started_at)})]}),e.title?n.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e.title}):e.first_prompt_preview?n.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e.first_prompt_preview}):e.summary?n.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e.summary}):n.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.activity_count," ",e.activity_count===1?"activity":"activities",e.prompt_batch_count>0&&`  ${e.prompt_batch_count} prompts`]})]}),n.jsx(F4,{status:r,label:l}),n.jsx(Dd,{className:"w-4 h-4 text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity"})]})}function nM(e){if(e===null)return"Never";if(e<1)return"< 1h ago";if(e<24)return`${Math.round(e)}h ago`;const s=Math.floor(e/24);return s===1?"1 day ago":s<7?`${s} days ago`:`${Math.floor(s/7)}w ago`}function aM(){const{data:e,isLoading:s,isError:r}=tx(),{data:l,isLoading:o,isError:u}=sx(Si.DASHBOARD_SESSION_LIMIT),{data:d,isLoading:f}=Bj({limit:1}),x=e?.indexing,h=e?.index_stats,g=l?.sessions||[],y=l?.total||0,b=d?.total||0,N=x?"indexing":"ready",C=x?h0.indexing:h0.ready;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-2",children:"Dashboard"}),n.jsx("p",{className:"text-muted-foreground",children:e?.project_root?`Project: ${e.project_root.split("/").pop()}`:"Open Agent Kit"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Lj,{status:N,className:"w-3 h-3"}),n.jsx("span",{className:"text-sm font-medium",children:C})]})]}),r&&n.jsx("div",{className:"p-4 rounded-md bg-destructive/10 text-destructive border border-destructive/20",children:"Failed to connect to daemon. Is it running?"}),!r&&u&&n.jsx("div",{className:"p-4 rounded-md bg-yellow-500/10 text-yellow-600 dark:text-yellow-400 border border-yellow-500/20",children:"Activity tracking unavailable. Configure embedding and summarization models in Configuration to enable session tracking."}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:[n.jsx(Mo,{title:"Files Indexed",value:h?.files_indexed||0,icon:ec,subtext:h?.ast_stats?.ast_success?`${h.ast_stats.ast_success} AST parsed`:"Files in index",loading:s,href:"/search?tab=code"}),n.jsx(Mo,{title:"Memories",value:h?.memories_stored||0,icon:hd,subtext:"Stored observations",loading:s,href:"/activity/memories"}),n.jsx(Mo,{title:"Sessions",value:y,icon:tc,subtext:"Agent sessions tracked",loading:o,href:"/activity/sessions"}),n.jsx(Mo,{title:"Plans",value:b,icon:cj,subtext:"Implementation plans",loading:f,href:"/activity/plans"}),n.jsx(Mo,{title:"Uptime",value:e?sA(e.uptime_seconds):"0m",icon:Qs,subtext:"Daemon session",loading:s})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-7",children:[n.jsxs(Te,{className:"col-span-4",children:[n.jsxs(Me,{className:"flex flex-row items-center justify-between",children:[n.jsx(Ie,{children:"Recent Sessions"}),n.jsxs("div",{className:"flex items-center gap-3",children:[g.length>0&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:[y," total"]}),n.jsxs(Ze,{to:"/activity/sessions",className:"text-xs text-primary hover:underline flex items-center gap-1",children:["View all",n.jsx(Dd,{className:"w-3 h-3"})]})]})]}),n.jsx(ke,{children:u?n.jsxs("div",{className:"flex flex-col items-center justify-center h-[200px] text-muted-foreground text-sm border-2 border-dashed rounded-md",children:[n.jsx(vs,{className:"w-8 h-8 mb-2 opacity-50"}),n.jsx("span",{children:"Configure models to track sessions"})]}):o?n.jsx("div",{className:"flex items-center justify-center h-[200px] text-muted-foreground text-sm",children:Wo.LOADING}):g.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center h-[200px] text-muted-foreground text-sm border-2 border-dashed rounded-md",children:[n.jsx(vs,{className:"w-8 h-8 mb-2 opacity-50"}),Wo.NO_SESSIONS]}):n.jsx("div",{className:"space-y-1",children:g.map(S=>n.jsx(tM,{session:S},S.id))})})]}),n.jsxs(Te,{className:"col-span-3",children:[n.jsx(Me,{children:n.jsx(Ie,{children:"System Health"})}),n.jsx(ke,{children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Embedding"}),n.jsx("span",{className:"font-medium text-sm truncate max-w-[180px]",title:e?.embedding_provider||void 0,children:e?.embedding_provider||"Not configured"})]}),n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsx("span",{className:"text-sm text-muted-foreground flex-shrink-0",children:"Summarization"}),n.jsx("span",{className:he("font-medium text-sm text-right",!e?.summarization?.enabled&&"text-muted-foreground"),children:e?.summarization?.enabled?`${e.summarization.provider}:${e.summarization.model}`:"Disabled"})]}),n.jsx("div",{className:"h-px bg-border my-1"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"File Watcher"}),n.jsxs("span",{className:he("text-sm flex items-center gap-1",e?.file_watcher?.running?"text-green-500":"text-yellow-500"),children:[e?.file_watcher?.running?n.jsx(pa,{className:"w-3 h-3"}):null,e?.file_watcher?.running?"Active":"Inactive"]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Pending Changes"}),n.jsx("span",{className:he("font-medium text-sm",(e?.file_watcher?.pending_changes||0)>0&&"text-yellow-500"),children:e?.file_watcher?.pending_changes||0})]}),n.jsx("div",{className:"h-px bg-border my-1"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(Ei,{className:"w-3 h-3"}),"Storage"]}),n.jsxs("span",{className:"font-medium text-sm",children:[e?.storage?.total_size_mb||"0.0"," MB"]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(hs,{className:"w-3 h-3"}),n.jsx("a",{href:"/team",className:"hover:underline",children:"Backup"})]}),n.jsx("span",{className:he("font-medium text-sm",!e?.backup?.exists&&"text-yellow-500",e?.backup?.exists&&(e.backup.age_hours||0)>24&&"text-yellow-500"),children:e?.backup?.exists?`${nM(e.backup.age_hours)}  ${((e.backup.size_bytes||0)/(1024*1024)).toFixed(1)} MB`:"Not created"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(fc,{className:"w-3 h-3"}),n.jsx(Ze,{to:"/team/sharing",className:"hover:underline",children:"Sharing"})]}),n.jsx("span",{className:he("font-medium text-sm",e?.tunnel?.active?"text-green-500":"text-muted-foreground"),children:e?.tunnel?.active?n.jsxs("span",{className:"flex items-center gap-1",title:e.tunnel.public_url||void 0,children:[n.jsx(pa,{className:"w-3 h-3"}),"Active"]}):n.jsx(Ze,{to:"/team/sharing",className:"hover:underline",children:"Off"})})]})]})})]})]})]})}const Fj=500,Hj=ji.DAEMON;function sM(e=Fj,s=Hj,r=!0){return Pa({queryKey:["logs",e,s],queryFn:({signal:l})=>we(`${ye.LOGS}?lines=${e}&file=${s}`,{signal:l}),refetchInterval:r?Kk:!1,pollCategory:"realtime"})}function zd(){return Tn({queryKey:["config"],queryFn:({signal:e})=>we(ye.CONFIG,{signal:e})})}async function Z0(e,s,r){const l=new URLSearchParams({provider:e,base_url:s});return we(`${ye.PROVIDERS_MODELS}?${l.toString()}`)}async function J0(e,s,r){const l=new URLSearchParams({provider:e,base_url:s});return we(`${ye.PROVIDERS_SUMMARIZATION_MODELS}?${l.toString()}`)}async function rM(e){return we(ye.CONFIG_TEST,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}async function lM(e){return we(ye.CONFIG_TEST_SUMMARIZATION,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}function rx(){const e=Ve();return Be({mutationFn:s=>we(ye.CONFIG,{method:"PUT",body:JSON.stringify(s)}),onSuccess:s=>(e.invalidateQueries({queryKey:["config"]}),s)})}async function iM(e){const s=e===sd.DEBUG?sd.INFO:sd.DEBUG;return we(ye.CONFIG,{method:"PUT",body:JSON.stringify({log_level:s})})}async function qj(){return we(ye.RESTART,{method:"POST"})}function oM(){return Tn({queryKey:["exclusions"],queryFn:({signal:e})=>we(ye.CONFIG_EXCLUSIONS,{signal:e})})}function cM(){const e=Ve();return Be({mutationFn:s=>we(ye.CONFIG_EXCLUSIONS,{method:"PUT",body:JSON.stringify(s)}),onSuccess:()=>{e.invalidateQueries({queryKey:["exclusions"]})}})}async function uM(){return we(ye.CONFIG_EXCLUSIONS_RESET,{method:"POST"})}const dM=1e3,fM=[100,500,1e3,2e3,5e3];function mM(){const[e,s]=v.useState(Fj),[r,l]=v.useState(Hj),[o,u]=v.useState(!0),[d,f]=v.useState(!1),[x,h]=v.useState(new Set),[g,y]=v.useState(!1),b=v.useRef(null),N=Ve(),{data:C,isLoading:S,isError:E,refetch:w,isFetching:R}=sM(e,r,o),{data:D}=zd(),Q=D?.log_level===sd.DEBUG,ae=O=>x.size===0?O:O.split(`
`).filter(X=>Array.from(x).some(ee=>X.includes(ee))).join(`
`),k=O=>{const X=new Set(x);X.has(O)?X.delete(O):X.add(O),h(X)},A=async()=>{if(C?.log_file)try{await navigator.clipboard.writeText(C.log_file),y(!0),setTimeout(()=>y(!1),2e3)}catch(O){console.error("Failed to copy path:",O)}},L=async()=>{if(D){f(!0);try{await iM(D.log_level),await qj(),N.invalidateQueries({queryKey:["config"]}),setTimeout(()=>w(),dM)}catch(O){console.error("Failed to toggle debug:",O)}finally{f(!1)}}};return v.useEffect(()=>{o&&b.current&&b.current.scrollIntoView({behavior:"smooth"})},[C,o]),n.jsxs("div",{className:"space-y-6 h-[calc(100vh-8rem)] flex flex-col",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"System Logs"}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx("p",{className:"text-muted-foreground text-sm font-mono",children:C?.log_file||"Loading..."}),C?.log_file&&n.jsx("button",{onClick:A,className:"p-1 rounded hover:bg-muted transition-colors",title:g?"Copied!":"Copy path to clipboard",children:g?n.jsx(pa,{className:"w-3.5 h-3.5 text-green-500"}):n.jsx(Sl,{className:"w-3.5 h-3.5 text-muted-foreground"})})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("select",{className:"bg-background border border-input rounded-md px-3 py-1 text-sm font-medium",value:r,onChange:O=>{l(O.target.value),h(new Set)},title:"Select log file to view",children:Ak.map(O=>n.jsx("option",{value:O.value,children:O.label},O.value))}),n.jsx("div",{className:"w-px h-6 bg-border"}),n.jsxs(fe,{variant:Q?"default":"outline",size:"sm",onClick:L,disabled:d,title:Q?"Debug logging enabled - click to disable":"Enable debug logging for detailed output",children:[d?n.jsx($e,{className:"w-4 h-4 mr-2 animate-spin"}):n.jsx(kA,{className:"w-4 h-4 mr-2"}),Q?"Debug On":"Debug Off"]}),n.jsx("div",{className:"w-px h-6 bg-border"}),n.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>u(!o),children:[o?n.jsx(aO,{className:"w-4 h-4 mr-2"}):n.jsx(wi,{className:"w-4 h-4 mr-2"}),o?"Pause Scroll":"Resume Scroll"]}),n.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>w(),disabled:R,children:[n.jsx(Ja,{className:`w-4 h-4 mr-2 ${R?"animate-spin":""}`}),"Refresh"]}),n.jsx("select",{className:"bg-background border border-input rounded-md px-3 py-1 text-sm",value:e,onChange:O=>s(Number(O.target.value)),title:"Number of log lines to display",children:fM.map(O=>n.jsxs("option",{value:O,children:[O," lines"]},O))})]})]}),n.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[n.jsx("span",{className:"text-xs text-muted-foreground mr-1",children:"Filter:"}),r===ji.HOOKS?Object.entries(g0).map(([O,{tags:X}],ee)=>n.jsxs("div",{className:"flex items-center gap-1",children:[X.map(Y=>n.jsx("button",{onClick:()=>k(Y),className:`px-2 py-0.5 text-xs rounded-full border transition-colors ${x.has(Y)?"bg-primary text-primary-foreground border-primary":"bg-background border-input hover:bg-accent"}`,title:`Filter to show only ${y0[Y]} entries`,children:y0[Y]},Y)),ee<Object.keys(g0).length-1&&n.jsx("div",{className:"w-px h-4 bg-border mx-1"})]},O)):Object.entries(v0).map(([O,{tags:X}],ee)=>n.jsxs("div",{className:"flex items-center gap-1",children:[X.map(Y=>n.jsx("button",{onClick:()=>k(Y),className:`px-2 py-0.5 text-xs rounded-full border transition-colors ${x.has(Y)?"bg-primary text-primary-foreground border-primary":"bg-background border-input hover:bg-accent"}`,title:`Filter to show only ${b0[Y]} entries`,children:b0[Y]},Y)),ee<Object.keys(v0).length-1&&n.jsx("div",{className:"w-px h-4 bg-border mx-1"})]},O)),x.size>0&&n.jsx("button",{onClick:()=>h(new Set),className:"px-2 py-0.5 text-xs text-muted-foreground hover:text-foreground ml-2",children:"Clear"})]}),n.jsx(Te,{className:"flex-1 overflow-hidden flex flex-col",children:n.jsx(ke,{className:"flex-1 p-0 overflow-hidden bg-black text-green-400 font-mono text-xs rounded-b-lg",children:S?n.jsx("div",{className:"p-4",children:"Loading logs..."}):E?n.jsx("div",{className:"p-4 text-red-400",children:"Failed to load logs."}):n.jsxs("div",{className:"overflow-auto h-full p-4 whitespace-pre-wrap",children:[ae(C?.content||"")||"No matching logs.",n.jsx("div",{ref:b})]})})})]})}const hM=2,pM=6e4;function Gu(e,s){if(s==="all"||s===fs.LOW)return e;const r=new Set([fs.HIGH]);return s===fs.MEDIUM&&r.add(fs.MEDIUM),e.filter(l=>r.has(l.confidence))}function xM(e,s="all",r=!0,l=Vs.ALL,o=!1){const u=Tn({queryKey:["search",e,r,l,o],queryFn:({signal:f})=>we(`${ye.SEARCH}?query=${encodeURIComponent(e)}&apply_doc_type_weights=${r}&search_type=${l}&include_resolved=${o}`,{signal:f}),enabled:e.length>hM,staleTime:pM}),d=u.data?{...u.data,code:Gu(u.data.code||[],s),memory:Gu(u.data.memory||[],s),plans:Gu(u.data.plans||[],s),sessions:Gu(u.data.sessions||[],s)}:void 0;return{...u,data:d}}const gM=Object.values(Vs);function yM(){const[e,s]=rT(),[r,l]=v.useState(""),[o,u]=v.useState(""),[d,f]=v.useState("all"),[x,h]=v.useState(!0),[g,y]=v.useState(!1),b=e.get("tab"),N=b&&gM.includes(b)?b:Vs.ALL,[C,S]=v.useState(N),E=k=>{S(k),k===Vs.ALL?e.delete("tab"):e.set("tab",k),s(e,{replace:!0})},{data:w,isLoading:R,error:D}=xM(o,d,x,C,g),Q=k=>{k.preventDefault(),u(r)};if(D)return n.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Semantic Search"}),n.jsx("p",{className:"text-muted-foreground",children:"Search across your codebase, memories, and plans using natural language."})]}),n.jsxs("div",{className:"p-4 border border-red-200 bg-red-50 rounded-md text-red-800 flex items-center gap-2",children:[n.jsx(jt,{className:"w-5 h-5"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Search unavailable"}),n.jsxs("p",{className:"text-sm",children:[D instanceof Error?D.message:"Detailed search backend error."," Check your ",n.jsx(Ze,{to:"/config",className:"underline font-semibold",children:"configuration"}),"."]})]})]})]});const ae=w?.code?.length||w?.memory?.length||w?.plans?.length||w?.sessions?.length;return n.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Semantic Search"}),n.jsx("p",{className:"text-muted-foreground",children:"Search across your codebase, memories, and plans using natural language."})]}),n.jsxs("form",{onSubmit:Q,className:"flex gap-2 flex-wrap",children:[n.jsx(da,{placeholder:"e.g. 'How is authentication handled?'",value:r,onChange:k=>l(k.target.value),className:"flex-1 min-w-[200px]"}),n.jsx(bd,{value:C,onChange:k=>E(k.target.value),className:"w-40",children:Dk.map(k=>n.jsx("option",{value:k.value,children:k.label},k.value))}),n.jsx(bd,{value:d,onChange:k=>f(k.target.value),className:"w-40",children:Rk.map(k=>n.jsx("option",{value:k.value,children:k.label},k.value))}),n.jsxs("label",{className:"flex items-center gap-2 text-sm text-muted-foreground whitespace-nowrap",children:[n.jsx("input",{type:"checkbox",checked:x,onChange:k=>h(k.target.checked),className:"rounded border-gray-300"}),"Weight by type"]}),n.jsxs("label",{className:"flex items-center gap-2 text-sm text-muted-foreground whitespace-nowrap",children:[n.jsx("input",{type:"checkbox",checked:g,onChange:k=>y(k.target.checked),className:"rounded border-gray-300"}),"Include resolved"]}),n.jsxs(fe,{type:"submit",disabled:!r||R,children:[R?n.jsx($e,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(Zp,{className:"w-4 h-4 mr-2"}),"Search"]})]}),n.jsxs("div",{className:"space-y-4",children:[w?.code&&w.code.length>0&&n.jsxs("div",{children:[n.jsxs("h2",{className:"text-lg font-semibold mb-2 flex items-center gap-2",children:[n.jsx(Pn,{className:"w-5 h-5"})," Code Matches (",w.code.length,")"]}),n.jsx("div",{className:"space-y-3",children:w.code.map((k,A)=>n.jsxs(Te,{className:"overflow-hidden",children:[n.jsxs(Me,{className:"py-3 bg-muted/30 space-y-1.5",children:[n.jsxs(Ie,{className:"text-sm font-mono truncate",children:[n.jsx("span",{className:"text-primary",children:k.filepath}),k.name&&n.jsxs("span",{className:"text-muted-foreground",children:[" (",k.name,")"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${Ok[k.doc_type]||""}`,children:Mk[k.doc_type]||k.doc_type}),n.jsx("span",{className:`text-xs px-2 py-0.5 rounded capitalize ${Uu[k.confidence]||""}`,children:k.confidence}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Score: ",k.relevance?.toFixed(Pu)]})]})]}),n.jsx(ke,{className:"p-4",children:n.jsx("pre",{className:"text-xs overflow-x-auto p-2 bg-muted/50 rounded-md",children:k.preview||Wo.NO_PREVIEW})})]},`code-${A}`))})]}),w?.memory&&w.memory.length>0&&n.jsxs("div",{className:"mt-8",children:[n.jsxs("h2",{className:"text-lg font-semibold mb-2 flex items-center gap-2",children:[n.jsx(hd,{className:"w-5 h-5"})," Memory Matches (",w.memory.length,")"]}),n.jsx("div",{className:"space-y-3",children:w.memory.map((k,A)=>n.jsxs(Te,{className:`overflow-hidden${k.status&&k.status!==Xa.ACTIVE?" opacity-60":""}`,children:[n.jsx(Me,{className:"py-3 bg-muted/30",children:n.jsxs(Ie,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx("span",{className:"capitalize badge",children:k.memory_type}),k.status&&k.status!==Xa.ACTIVE&&n.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${tj[k.status]||""}`,children:Ik[k.status]||k.status}),n.jsxs("span",{className:"ml-auto flex items-center gap-2",children:[n.jsx("span",{className:`text-xs px-2 py-0.5 rounded capitalize ${Uu[k.confidence]||""}`,children:k.confidence}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Score: ",k.relevance?.toFixed(Pu)]})]})]})}),n.jsx(ke,{className:"p-4 text-sm",children:k.summary})]},`mem-${A}`))})]}),w?.plans&&w.plans.length>0&&n.jsxs("div",{className:"mt-8",children:[n.jsxs("h2",{className:"text-lg font-semibold mb-2 flex items-center gap-2",children:[n.jsx(cj,{className:"w-5 h-5"})," Plan Matches (",w.plans.length,")"]}),n.jsx("div",{className:"space-y-3",children:w.plans.map((k,A)=>n.jsxs(Te,{className:"overflow-hidden",children:[n.jsx(Me,{className:"py-3 bg-amber-500/5 border-l-2 border-amber-500",children:n.jsxs(Ie,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx("span",{className:"text-amber-600",children:k.title||"Untitled Plan"}),n.jsxs("span",{className:"ml-auto flex items-center gap-2",children:[n.jsx("span",{className:`text-xs px-2 py-0.5 rounded capitalize ${Uu[k.confidence]||""}`,children:k.confidence}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Score: ",k.relevance?.toFixed(Pu)]})]})]})}),n.jsxs(ke,{className:"p-4 text-sm",children:[n.jsx("p",{className:"text-muted-foreground",children:k.preview}),k.session_id&&n.jsx(Ze,{to:`/activity/sessions/${k.session_id}`,className:"text-xs text-primary hover:underline mt-2 inline-block",children:"View Session "})]})]},`plan-${A}`))})]}),w?.sessions&&w.sessions.length>0&&n.jsxs("div",{className:"mt-8",children:[n.jsxs("h2",{className:"text-lg font-semibold mb-2 flex items-center gap-2",children:[n.jsx(hj,{className:"w-5 h-5"})," Session Matches (",w.sessions.length,")"]}),n.jsx("div",{className:"space-y-3",children:w.sessions.map((k,A)=>n.jsxs(Te,{className:"overflow-hidden",children:[n.jsx(Me,{className:"py-3 bg-blue-500/5 border-l-2 border-blue-500",children:n.jsxs(Ie,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx("span",{className:"text-blue-600",children:k.title||"Untitled Session"}),n.jsxs("span",{className:"ml-auto flex items-center gap-2",children:[n.jsx("span",{className:`text-xs px-2 py-0.5 rounded capitalize ${Uu[k.confidence]||""}`,children:k.confidence}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Score: ",k.relevance?.toFixed(Pu)]})]})]})}),n.jsxs(ke,{className:"p-4 text-sm",children:[n.jsx("p",{className:"text-muted-foreground",children:k.preview}),n.jsx(Ze,{to:`/activity/sessions/${k.id}`,className:"text-xs text-primary hover:underline mt-2 inline-block",children:"View Session "})]})]},`session-${A}`))})]}),o&&!R&&!ae?n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[Wo.NO_RESULTS,' for "',o,'"']}):null]})]})}function vM(){const s=Bn().pathname,r=[{id:"sessions",label:"Sessions",path:"/activity/sessions",icon:dj},{id:"plans",label:"Plans",path:"/activity/plans",icon:Pn},{id:"memories",label:"Memories",path:"/activity/memories",icon:JA}];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Activity"}),n.jsx("p",{className:"text-muted-foreground",children:"Browse sessions, plans, and memories."})]}),n.jsx("div",{className:"flex items-center border-b",children:r.map(l=>n.jsxs(Ze,{to:l.path,className:he("px-4 py-2 text-sm font-medium border-b-2 transition-colors flex items-center gap-2",s.startsWith(l.path)?"border-primary text-foreground":"border-transparent text-muted-foreground hover:text-foreground hover:border-muted"),children:[n.jsx(l.icon,{className:"w-4 h-4"}),l.label]},l.id))}),n.jsx(uc,{})]})}function Gj(){const e=Ve();return Be({mutationFn:s=>Ir(ak(s)),onSuccess:()=>{e.invalidateQueries({queryKey:["sessions"]}),e.invalidateQueries({queryKey:["activity_stats"]}),e.invalidateQueries({queryKey:["memories"]})}})}function bM(){const e=Ve();return Be({mutationFn:({batchId:s})=>Ir(sk(s)),onSuccess:(s,{sessionId:r})=>{e.invalidateQueries({queryKey:["session",r]}),e.invalidateQueries({queryKey:["memories"]})}})}function NM(){const e=Ve();return Be({mutationFn:({activityId:s})=>Ir(rk(s)),onSuccess:(s,{batchId:r})=>{e.invalidateQueries({queryKey:["batch_activities",r]}),e.invalidateQueries({queryKey:["memories"]})}})}function Vj(){const e=Ve();return Be({mutationFn:s=>Ir(lk(s)),onSuccess:()=>{e.invalidateQueries({queryKey:["memories"]})}})}function jM(){const e=Ve();return Be({mutationFn:({batchId:s})=>we(uk(s),{method:"POST"}),onSuccess:(s,{sessionId:r})=>{e.invalidateQueries({queryKey:["session",r]}),e.invalidateQueries({queryKey:["memories"]})}})}function lx(e){const[s,r]=v.useState(0),[l,o]=v.useState([]),u=v.useCallback(x=>{o(h=>[...h,...x]),r(h=>h+e)},[e]),d=v.useCallback(()=>{o([]),r(0)},[]),f=v.useCallback(x=>x.length===e,[e]);return{offset:s,loadedItems:l,setLoadedItems:o,handleLoadMore:u,hasMore:f,reset:d}}function gs(e,s,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e?.(o),r===!1||!o.defaultPrevented)return s?.(o)}}function SM(e,s){const r=v.createContext(s),l=u=>{const{children:d,...f}=u,x=v.useMemo(()=>f,Object.values(f));return n.jsx(r.Provider,{value:x,children:d})};l.displayName=e+"Provider";function o(u){const d=v.useContext(r);if(d)return d;if(s!==void 0)return s;throw new Error(`\`${u}\` must be used within \`${e}\``)}return[l,o]}function Yj(e,s=[]){let r=[];function l(u,d){const f=v.createContext(d),x=r.length;r=[...r,d];const h=y=>{const{scope:b,children:N,...C}=y,S=b?.[e]?.[x]||f,E=v.useMemo(()=>C,Object.values(C));return n.jsx(S.Provider,{value:E,children:N})};h.displayName=u+"Provider";function g(y,b){const N=b?.[e]?.[x]||f,C=v.useContext(N);if(C)return C;if(d!==void 0)return d;throw new Error(`\`${y}\` must be used within \`${u}\``)}return[h,g]}const o=()=>{const u=r.map(d=>v.createContext(d));return function(f){const x=f?.[e]||u;return v.useMemo(()=>({[`__scope${e}`]:{...f,[e]:x}}),[f,x])}};return o.scopeName=e,[l,EM(o,...s)]}function EM(...e){const s=e[0];if(e.length===1)return s;const r=()=>{const l=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(u){const d=l.reduce((f,{useScope:x,scopeName:h})=>{const y=x(u)[`__scope${h}`];return{...f,...y}},{});return v.useMemo(()=>({[`__scope${s.scopeName}`]:d}),[d])}};return r.scopeName=s.scopeName,r}var Ti=globalThis?.document?v.useLayoutEffect:()=>{},wM=Td[" useId ".trim().toString()]||(()=>{}),_M=0;function Nh(e){const[s,r]=v.useState(wM());return Ti(()=>{r(l=>l??String(_M++))},[e]),e||(s?`radix-${s}`:"")}var CM=Td[" useInsertionEffect ".trim().toString()]||Ti;function $j({prop:e,defaultProp:s,onChange:r=()=>{},caller:l}){const[o,u,d]=TM({defaultProp:s,onChange:r}),f=e!==void 0,x=f?e:o;{const g=v.useRef(e!==void 0);v.useEffect(()=>{const y=g.current;y!==f&&console.warn(`${l} is changing from ${y?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=f},[f,l])}const h=v.useCallback(g=>{if(f){const y=kM(g)?g(e):g;y!==e&&d.current?.(y)}else u(g)},[f,e,u,d]);return[x,h]}function TM({defaultProp:e,onChange:s}){const[r,l]=v.useState(e),o=v.useRef(r),u=v.useRef(s);return CM(()=>{u.current=s},[s]),v.useEffect(()=>{o.current!==r&&(u.current?.(r),o.current=r)},[r,o]),[r,l,u]}function kM(e){return typeof e=="function"}function AM(e){const s=RM(e),r=v.forwardRef((l,o)=>{const{children:u,...d}=l,f=v.Children.toArray(u),x=f.find(MM);if(x){const h=x.props.children,g=f.map(y=>y===x?v.Children.count(h)>1?v.Children.only(null):v.isValidElement(h)?h.props.children:null:y);return n.jsx(s,{...d,ref:o,children:v.isValidElement(h)?v.cloneElement(h,void 0,g):null})}return n.jsx(s,{...d,ref:o,children:u})});return r.displayName=`${e}.Slot`,r}function RM(e){const s=v.forwardRef((r,l)=>{const{children:o,...u}=r;if(v.isValidElement(o)){const d=LM(o),f=DM(u,o.props);return o.type!==v.Fragment&&(f.ref=l?Id(l,d):d),v.cloneElement(o,f)}return v.Children.count(o)>1?v.Children.only(null):null});return s.displayName=`${e}.SlotClone`,s}var OM=Symbol("radix.slottable");function MM(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===OM}function DM(e,s){const r={...s};for(const l in s){const o=e[l],u=s[l];/^on[A-Z]/.test(l)?o&&u?r[l]=(...f)=>{const x=u(...f);return o(...f),x}:o&&(r[l]=o):l==="style"?r[l]={...o,...u}:l==="className"&&(r[l]=[o,u].filter(Boolean).join(" "))}return{...e,...r}}function LM(e){let s=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=s&&"isReactWarning"in s&&s.isReactWarning;return r?e.ref:(s=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=s&&"isReactWarning"in s&&s.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var IM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ba=IM.reduce((e,s)=>{const r=AM(`Primitive.${s}`),l=v.forwardRef((o,u)=>{const{asChild:d,...f}=o,x=d?r:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(x,{...f,ref:u})});return l.displayName=`Primitive.${s}`,{...e,[s]:l}},{});function zM(e,s){e&&Ip.flushSync(()=>e.dispatchEvent(s))}function nc(e){const s=v.useRef(e);return v.useEffect(()=>{s.current=e}),v.useMemo(()=>(...r)=>s.current?.(...r),[])}function UM(e,s=globalThis?.document){const r=nc(e);v.useEffect(()=>{const l=o=>{o.key==="Escape"&&r(o)};return s.addEventListener("keydown",l,{capture:!0}),()=>s.removeEventListener("keydown",l,{capture:!0})},[r,s])}var PM="DismissableLayer",hp="dismissableLayer.update",BM="dismissableLayer.pointerDownOutside",FM="dismissableLayer.focusOutside",W0,Qj=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Kj=v.forwardRef((e,s)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:l,onPointerDownOutside:o,onFocusOutside:u,onInteractOutside:d,onDismiss:f,...x}=e,h=v.useContext(Qj),[g,y]=v.useState(null),b=g?.ownerDocument??globalThis?.document,[,N]=v.useState({}),C=Xs(s,A=>y(A)),S=Array.from(h.layers),[E]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),w=S.indexOf(E),R=g?S.indexOf(g):-1,D=h.layersWithOutsidePointerEventsDisabled.size>0,Q=R>=w,ae=GM(A=>{const L=A.target,O=[...h.branches].some(X=>X.contains(L));!Q||O||(o?.(A),d?.(A),A.defaultPrevented||f?.())},b),k=VM(A=>{const L=A.target;[...h.branches].some(X=>X.contains(L))||(u?.(A),d?.(A),A.defaultPrevented||f?.())},b);return UM(A=>{R===h.layers.size-1&&(l?.(A),!A.defaultPrevented&&f&&(A.preventDefault(),f()))},b),v.useEffect(()=>{if(g)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(W0=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(g)),h.layers.add(g),e1(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=W0)}},[g,b,r,h]),v.useEffect(()=>()=>{g&&(h.layers.delete(g),h.layersWithOutsidePointerEventsDisabled.delete(g),e1())},[g,h]),v.useEffect(()=>{const A=()=>N({});return document.addEventListener(hp,A),()=>document.removeEventListener(hp,A)},[]),n.jsx(Ba.div,{...x,ref:C,style:{pointerEvents:D?Q?"auto":"none":void 0,...e.style},onFocusCapture:gs(e.onFocusCapture,k.onFocusCapture),onBlurCapture:gs(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:gs(e.onPointerDownCapture,ae.onPointerDownCapture)})});Kj.displayName=PM;var HM="DismissableLayerBranch",qM=v.forwardRef((e,s)=>{const r=v.useContext(Qj),l=v.useRef(null),o=Xs(s,l);return v.useEffect(()=>{const u=l.current;if(u)return r.branches.add(u),()=>{r.branches.delete(u)}},[r.branches]),n.jsx(Ba.div,{...e,ref:o})});qM.displayName=HM;function GM(e,s=globalThis?.document){const r=nc(e),l=v.useRef(!1),o=v.useRef(()=>{});return v.useEffect(()=>{const u=f=>{if(f.target&&!l.current){let x=function(){Xj(BM,r,h,{discrete:!0})};const h={originalEvent:f};f.pointerType==="touch"?(s.removeEventListener("click",o.current),o.current=x,s.addEventListener("click",o.current,{once:!0})):x()}else s.removeEventListener("click",o.current);l.current=!1},d=window.setTimeout(()=>{s.addEventListener("pointerdown",u)},0);return()=>{window.clearTimeout(d),s.removeEventListener("pointerdown",u),s.removeEventListener("click",o.current)}},[s,r]),{onPointerDownCapture:()=>l.current=!0}}function VM(e,s=globalThis?.document){const r=nc(e),l=v.useRef(!1);return v.useEffect(()=>{const o=u=>{u.target&&!l.current&&Xj(FM,r,{originalEvent:u},{discrete:!1})};return s.addEventListener("focusin",o),()=>s.removeEventListener("focusin",o)},[s,r]),{onFocusCapture:()=>l.current=!0,onBlurCapture:()=>l.current=!1}}function e1(){const e=new CustomEvent(hp);document.dispatchEvent(e)}function Xj(e,s,r,{discrete:l}){const o=r.originalEvent.target,u=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});s&&o.addEventListener(e,s,{once:!0}),l?zM(o,u):o.dispatchEvent(u)}var jh="focusScope.autoFocusOnMount",Sh="focusScope.autoFocusOnUnmount",t1={bubbles:!1,cancelable:!0},YM="FocusScope",Zj=v.forwardRef((e,s)=>{const{loop:r=!1,trapped:l=!1,onMountAutoFocus:o,onUnmountAutoFocus:u,...d}=e,[f,x]=v.useState(null),h=nc(o),g=nc(u),y=v.useRef(null),b=Xs(s,S=>x(S)),N=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(l){let S=function(D){if(N.paused||!f)return;const Q=D.target;f.contains(Q)?y.current=Q:wr(y.current,{select:!0})},E=function(D){if(N.paused||!f)return;const Q=D.relatedTarget;Q!==null&&(f.contains(Q)||wr(y.current,{select:!0}))},w=function(D){if(document.activeElement===document.body)for(const ae of D)ae.removedNodes.length>0&&wr(f)};document.addEventListener("focusin",S),document.addEventListener("focusout",E);const R=new MutationObserver(w);return f&&R.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",E),R.disconnect()}}},[l,f,N.paused]),v.useEffect(()=>{if(f){a1.add(N);const S=document.activeElement;if(!f.contains(S)){const w=new CustomEvent(jh,t1);f.addEventListener(jh,h),f.dispatchEvent(w),w.defaultPrevented||($M(JM(Jj(f)),{select:!0}),document.activeElement===S&&wr(f))}return()=>{f.removeEventListener(jh,h),setTimeout(()=>{const w=new CustomEvent(Sh,t1);f.addEventListener(Sh,g),f.dispatchEvent(w),w.defaultPrevented||wr(S??document.body,{select:!0}),f.removeEventListener(Sh,g),a1.remove(N)},0)}}},[f,h,g,N]);const C=v.useCallback(S=>{if(!r&&!l||N.paused)return;const E=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,w=document.activeElement;if(E&&w){const R=S.currentTarget,[D,Q]=QM(R);D&&Q?!S.shiftKey&&w===Q?(S.preventDefault(),r&&wr(D,{select:!0})):S.shiftKey&&w===D&&(S.preventDefault(),r&&wr(Q,{select:!0})):w===R&&S.preventDefault()}},[r,l,N.paused]);return n.jsx(Ba.div,{tabIndex:-1,...d,ref:b,onKeyDown:C})});Zj.displayName=YM;function $M(e,{select:s=!1}={}){const r=document.activeElement;for(const l of e)if(wr(l,{select:s}),document.activeElement!==r)return}function QM(e){const s=Jj(e),r=n1(s,e),l=n1(s.reverse(),e);return[r,l]}function Jj(e){const s=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:l=>{const o=l.tagName==="INPUT"&&l.type==="hidden";return l.disabled||l.hidden||o?NodeFilter.FILTER_SKIP:l.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)s.push(r.currentNode);return s}function n1(e,s){for(const r of e)if(!KM(r,{upTo:s}))return r}function KM(e,{upTo:s}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(s!==void 0&&e===s)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function XM(e){return e instanceof HTMLInputElement&&"select"in e}function wr(e,{select:s=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&XM(e)&&s&&e.select()}}var a1=ZM();function ZM(){let e=[];return{add(s){const r=e[0];s!==r&&r?.pause(),e=s1(e,s),e.unshift(s)},remove(s){e=s1(e,s),e[0]?.resume()}}}function s1(e,s){const r=[...e],l=r.indexOf(s);return l!==-1&&r.splice(l,1),r}function JM(e){return e.filter(s=>s.tagName!=="A")}var WM="Portal",Wj=v.forwardRef((e,s)=>{const{container:r,...l}=e,[o,u]=v.useState(!1);Ti(()=>u(!0),[]);const d=r||o&&globalThis?.document?.body;return d?dT.createPortal(n.jsx(Ba.div,{...l,ref:s}),d):null});Wj.displayName=WM;function e3(e,s){return v.useReducer((r,l)=>s[r][l]??r,e)}var mc=e=>{const{present:s,children:r}=e,l=t3(s),o=typeof r=="function"?r({present:l.isPresent}):v.Children.only(r),u=Xs(l.ref,n3(o));return typeof r=="function"||l.isPresent?v.cloneElement(o,{ref:u}):null};mc.displayName="Presence";function t3(e){const[s,r]=v.useState(),l=v.useRef(null),o=v.useRef(e),u=v.useRef("none"),d=e?"mounted":"unmounted",[f,x]=e3(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const h=Vu(l.current);u.current=f==="mounted"?h:"none"},[f]),Ti(()=>{const h=l.current,g=o.current;if(g!==e){const b=u.current,N=Vu(h);e?x("MOUNT"):N==="none"||h?.display==="none"?x("UNMOUNT"):x(g&&b!==N?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,x]),Ti(()=>{if(s){let h;const g=s.ownerDocument.defaultView??window,y=N=>{const S=Vu(l.current).includes(CSS.escape(N.animationName));if(N.target===s&&S&&(x("ANIMATION_END"),!o.current)){const E=s.style.animationFillMode;s.style.animationFillMode="forwards",h=g.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=E)})}},b=N=>{N.target===s&&(u.current=Vu(l.current))};return s.addEventListener("animationstart",b),s.addEventListener("animationcancel",y),s.addEventListener("animationend",y),()=>{g.clearTimeout(h),s.removeEventListener("animationstart",b),s.removeEventListener("animationcancel",y),s.removeEventListener("animationend",y)}}else x("ANIMATION_END")},[s,x]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:v.useCallback(h=>{l.current=h?getComputedStyle(h):null,r(h)},[])}}function Vu(e){return e?.animationName||"none"}function n3(e){let s=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=s&&"isReactWarning"in s&&s.isReactWarning;return r?e.ref:(s=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=s&&"isReactWarning"in s&&s.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Eh=0;function a3(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??r1()),document.body.insertAdjacentElement("beforeend",e[1]??r1()),Eh++,()=>{Eh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),Eh--}},[])}function r1(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var cs=function(){return cs=Object.assign||function(s){for(var r,l=1,o=arguments.length;l<o;l++){r=arguments[l];for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&(s[u]=r[u])}return s},cs.apply(this,arguments)};function eS(e,s){var r={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&s.indexOf(l)<0&&(r[l]=e[l]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,l=Object.getOwnPropertySymbols(e);o<l.length;o++)s.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(e,l[o])&&(r[l[o]]=e[l[o]]);return r}function s3(e,s,r){if(r||arguments.length===2)for(var l=0,o=s.length,u;l<o;l++)(u||!(l in s))&&(u||(u=Array.prototype.slice.call(s,0,l)),u[l]=s[l]);return e.concat(u||Array.prototype.slice.call(s))}var ld="right-scroll-bar-position",id="width-before-scroll-bar",r3="with-scroll-bars-hidden",l3="--removed-body-scroll-bar-size";function wh(e,s){return typeof e=="function"?e(s):e&&(e.current=s),e}function i3(e,s){var r=v.useState(function(){return{value:e,callback:s,facade:{get current(){return r.value},set current(l){var o=r.value;o!==l&&(r.value=l,r.callback(l,o))}}}})[0];return r.callback=s,r.facade}var o3=typeof window<"u"?v.useLayoutEffect:v.useEffect,l1=new WeakMap;function c3(e,s){var r=i3(null,function(l){return e.forEach(function(o){return wh(o,l)})});return o3(function(){var l=l1.get(r);if(l){var o=new Set(l),u=new Set(e),d=r.current;o.forEach(function(f){u.has(f)||wh(f,null)}),u.forEach(function(f){o.has(f)||wh(f,d)})}l1.set(r,e)},[e]),r}function u3(e){return e}function d3(e,s){s===void 0&&(s=u3);var r=[],l=!1,o={read:function(){if(l)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(u){var d=s(u,l);return r.push(d),function(){r=r.filter(function(f){return f!==d})}},assignSyncMedium:function(u){for(l=!0;r.length;){var d=r;r=[],d.forEach(u)}r={push:function(f){return u(f)},filter:function(){return r}}},assignMedium:function(u){l=!0;var d=[];if(r.length){var f=r;r=[],f.forEach(u),d=r}var x=function(){var g=d;d=[],g.forEach(u)},h=function(){return Promise.resolve().then(x)};h(),r={push:function(g){d.push(g),h()},filter:function(g){return d=d.filter(g),r}}}};return o}function f3(e){e===void 0&&(e={});var s=d3(null);return s.options=cs({async:!0,ssr:!1},e),s}var tS=function(e){var s=e.sideCar,r=eS(e,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var l=s.read();if(!l)throw new Error("Sidecar medium not found");return v.createElement(l,cs({},r))};tS.isSideCarExport=!0;function m3(e,s){return e.useMedium(s),tS}var nS=f3(),_h=function(){},Ud=v.forwardRef(function(e,s){var r=v.useRef(null),l=v.useState({onScrollCapture:_h,onWheelCapture:_h,onTouchMoveCapture:_h}),o=l[0],u=l[1],d=e.forwardProps,f=e.children,x=e.className,h=e.removeScrollBar,g=e.enabled,y=e.shards,b=e.sideCar,N=e.noRelative,C=e.noIsolation,S=e.inert,E=e.allowPinchZoom,w=e.as,R=w===void 0?"div":w,D=e.gapMode,Q=eS(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),ae=b,k=c3([r,s]),A=cs(cs({},Q),o);return v.createElement(v.Fragment,null,g&&v.createElement(ae,{sideCar:nS,removeScrollBar:h,shards:y,noRelative:N,noIsolation:C,inert:S,setCallbacks:u,allowPinchZoom:!!E,lockRef:r,gapMode:D}),d?v.cloneElement(v.Children.only(f),cs(cs({},A),{ref:k})):v.createElement(R,cs({},A,{className:x,ref:k}),f))});Ud.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ud.classNames={fullWidth:id,zeroRight:ld};var h3=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function p3(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var s=h3();return s&&e.setAttribute("nonce",s),e}function x3(e,s){e.styleSheet?e.styleSheet.cssText=s:e.appendChild(document.createTextNode(s))}function g3(e){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(e)}var y3=function(){var e=0,s=null;return{add:function(r){e==0&&(s=p3())&&(x3(s,r),g3(s)),e++},remove:function(){e--,!e&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},v3=function(){var e=y3();return function(s,r){v.useEffect(function(){return e.add(s),function(){e.remove()}},[s&&r])}},aS=function(){var e=v3(),s=function(r){var l=r.styles,o=r.dynamic;return e(l,o),null};return s},b3={left:0,top:0,right:0,gap:0},Ch=function(e){return parseInt(e||"",10)||0},N3=function(e){var s=window.getComputedStyle(document.body),r=s[e==="padding"?"paddingLeft":"marginLeft"],l=s[e==="padding"?"paddingTop":"marginTop"],o=s[e==="padding"?"paddingRight":"marginRight"];return[Ch(r),Ch(l),Ch(o)]},j3=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return b3;var s=N3(e),r=document.documentElement.clientWidth,l=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,l-r+s[2]-s[0])}},S3=aS(),yi="data-scroll-locked",E3=function(e,s,r,l){var o=e.left,u=e.top,d=e.right,f=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(r3,` {
   overflow: hidden `).concat(l,`;
   padding-right: `).concat(f,"px ").concat(l,`;
  }
  body[`).concat(yi,`] {
    overflow: hidden `).concat(l,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(l,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(u,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(l,`;
    `),r==="padding"&&"padding-right: ".concat(f,"px ").concat(l,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ld,` {
    right: `).concat(f,"px ").concat(l,`;
  }
  
  .`).concat(id,` {
    margin-right: `).concat(f,"px ").concat(l,`;
  }
  
  .`).concat(ld," .").concat(ld,` {
    right: 0 `).concat(l,`;
  }
  
  .`).concat(id," .").concat(id,` {
    margin-right: 0 `).concat(l,`;
  }
  
  body[`).concat(yi,`] {
    `).concat(l3,": ").concat(f,`px;
  }
`)},i1=function(){var e=parseInt(document.body.getAttribute(yi)||"0",10);return isFinite(e)?e:0},w3=function(){v.useEffect(function(){return document.body.setAttribute(yi,(i1()+1).toString()),function(){var e=i1()-1;e<=0?document.body.removeAttribute(yi):document.body.setAttribute(yi,e.toString())}},[])},_3=function(e){var s=e.noRelative,r=e.noImportant,l=e.gapMode,o=l===void 0?"margin":l;w3();var u=v.useMemo(function(){return j3(o)},[o]);return v.createElement(S3,{styles:E3(u,!s,o,r?"":"!important")})},pp=!1;if(typeof window<"u")try{var Yu=Object.defineProperty({},"passive",{get:function(){return pp=!0,!0}});window.addEventListener("test",Yu,Yu),window.removeEventListener("test",Yu,Yu)}catch{pp=!1}var ii=pp?{passive:!1}:!1,C3=function(e){return e.tagName==="TEXTAREA"},sS=function(e,s){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[s]!=="hidden"&&!(r.overflowY===r.overflowX&&!C3(e)&&r[s]==="visible")},T3=function(e){return sS(e,"overflowY")},k3=function(e){return sS(e,"overflowX")},o1=function(e,s){var r=s.ownerDocument,l=s;do{typeof ShadowRoot<"u"&&l instanceof ShadowRoot&&(l=l.host);var o=rS(e,l);if(o){var u=lS(e,l),d=u[1],f=u[2];if(d>f)return!0}l=l.parentNode}while(l&&l!==r.body);return!1},A3=function(e){var s=e.scrollTop,r=e.scrollHeight,l=e.clientHeight;return[s,r,l]},R3=function(e){var s=e.scrollLeft,r=e.scrollWidth,l=e.clientWidth;return[s,r,l]},rS=function(e,s){return e==="v"?T3(s):k3(s)},lS=function(e,s){return e==="v"?A3(s):R3(s)},O3=function(e,s){return e==="h"&&s==="rtl"?-1:1},M3=function(e,s,r,l,o){var u=O3(e,window.getComputedStyle(s).direction),d=u*l,f=r.target,x=s.contains(f),h=!1,g=d>0,y=0,b=0;do{if(!f)break;var N=lS(e,f),C=N[0],S=N[1],E=N[2],w=S-E-u*C;(C||w)&&rS(e,f)&&(y+=w,b+=C);var R=f.parentNode;f=R&&R.nodeType===Node.DOCUMENT_FRAGMENT_NODE?R.host:R}while(!x&&f!==document.body||x&&(s.contains(f)||s===f));return(g&&Math.abs(y)<1||!g&&Math.abs(b)<1)&&(h=!0),h},$u=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},c1=function(e){return[e.deltaX,e.deltaY]},u1=function(e){return e&&"current"in e?e.current:e},D3=function(e,s){return e[0]===s[0]&&e[1]===s[1]},L3=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},I3=0,oi=[];function z3(e){var s=v.useRef([]),r=v.useRef([0,0]),l=v.useRef(),o=v.useState(I3++)[0],u=v.useState(aS)[0],d=v.useRef(e);v.useEffect(function(){d.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var S=s3([e.lockRef.current],(e.shards||[]).map(u1),!0).filter(Boolean);return S.forEach(function(E){return E.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),S.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var f=v.useCallback(function(S,E){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!d.current.allowPinchZoom;var w=$u(S),R=r.current,D="deltaX"in S?S.deltaX:R[0]-w[0],Q="deltaY"in S?S.deltaY:R[1]-w[1],ae,k=S.target,A=Math.abs(D)>Math.abs(Q)?"h":"v";if("touches"in S&&A==="h"&&k.type==="range")return!1;var L=window.getSelection(),O=L&&L.anchorNode,X=O?O===k||O.contains(k):!1;if(X)return!1;var ee=o1(A,k);if(!ee)return!0;if(ee?ae=A:(ae=A==="v"?"h":"v",ee=o1(A,k)),!ee)return!1;if(!l.current&&"changedTouches"in S&&(D||Q)&&(l.current=ae),!ae)return!0;var Y=l.current||ae;return M3(Y,E,S,Y==="h"?D:Q)},[]),x=v.useCallback(function(S){var E=S;if(!(!oi.length||oi[oi.length-1]!==u)){var w="deltaY"in E?c1(E):$u(E),R=s.current.filter(function(ae){return ae.name===E.type&&(ae.target===E.target||E.target===ae.shadowParent)&&D3(ae.delta,w)})[0];if(R&&R.should){E.cancelable&&E.preventDefault();return}if(!R){var D=(d.current.shards||[]).map(u1).filter(Boolean).filter(function(ae){return ae.contains(E.target)}),Q=D.length>0?f(E,D[0]):!d.current.noIsolation;Q&&E.cancelable&&E.preventDefault()}}},[]),h=v.useCallback(function(S,E,w,R){var D={name:S,delta:E,target:w,should:R,shadowParent:U3(w)};s.current.push(D),setTimeout(function(){s.current=s.current.filter(function(Q){return Q!==D})},1)},[]),g=v.useCallback(function(S){r.current=$u(S),l.current=void 0},[]),y=v.useCallback(function(S){h(S.type,c1(S),S.target,f(S,e.lockRef.current))},[]),b=v.useCallback(function(S){h(S.type,$u(S),S.target,f(S,e.lockRef.current))},[]);v.useEffect(function(){return oi.push(u),e.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:b}),document.addEventListener("wheel",x,ii),document.addEventListener("touchmove",x,ii),document.addEventListener("touchstart",g,ii),function(){oi=oi.filter(function(S){return S!==u}),document.removeEventListener("wheel",x,ii),document.removeEventListener("touchmove",x,ii),document.removeEventListener("touchstart",g,ii)}},[]);var N=e.removeScrollBar,C=e.inert;return v.createElement(v.Fragment,null,C?v.createElement(u,{styles:L3(o)}):null,N?v.createElement(_3,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function U3(e){for(var s=null;e!==null;)e instanceof ShadowRoot&&(s=e.host,e=e.host),e=e.parentNode;return s}const P3=m3(nS,z3);var iS=v.forwardRef(function(e,s){return v.createElement(Ud,cs({},e,{ref:s,sideCar:P3}))});iS.classNames=Ud.classNames;var B3=function(e){if(typeof document>"u")return null;var s=Array.isArray(e)?e[0]:e;return s.ownerDocument.body},ci=new WeakMap,Qu=new WeakMap,Ku={},Th=0,oS=function(e){return e&&(e.host||oS(e.parentNode))},F3=function(e,s){return s.map(function(r){if(e.contains(r))return r;var l=oS(r);return l&&e.contains(l)?l:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},H3=function(e,s,r,l){var o=F3(s,Array.isArray(e)?e:[e]);Ku[r]||(Ku[r]=new WeakMap);var u=Ku[r],d=[],f=new Set,x=new Set(o),h=function(y){!y||f.has(y)||(f.add(y),h(y.parentNode))};o.forEach(h);var g=function(y){!y||x.has(y)||Array.prototype.forEach.call(y.children,function(b){if(f.has(b))g(b);else try{var N=b.getAttribute(l),C=N!==null&&N!=="false",S=(ci.get(b)||0)+1,E=(u.get(b)||0)+1;ci.set(b,S),u.set(b,E),d.push(b),S===1&&C&&Qu.set(b,!0),E===1&&b.setAttribute(r,"true"),C||b.setAttribute(l,"true")}catch(w){console.error("aria-hidden: cannot operate on ",b,w)}})};return g(s),f.clear(),Th++,function(){d.forEach(function(y){var b=ci.get(y)-1,N=u.get(y)-1;ci.set(y,b),u.set(y,N),b||(Qu.has(y)||y.removeAttribute(l),Qu.delete(y)),N||y.removeAttribute(r)}),Th--,Th||(ci=new WeakMap,ci=new WeakMap,Qu=new WeakMap,Ku={})}},q3=function(e,s,r){r===void 0&&(r="data-aria-hidden");var l=Array.from(Array.isArray(e)?e:[e]),o=B3(e);return o?(l.push.apply(l,Array.from(o.querySelectorAll("[aria-live], script"))),H3(l,o,r,"aria-hidden")):function(){return null}};function G3(e){const s=V3(e),r=v.forwardRef((l,o)=>{const{children:u,...d}=l,f=v.Children.toArray(u),x=f.find($3);if(x){const h=x.props.children,g=f.map(y=>y===x?v.Children.count(h)>1?v.Children.only(null):v.isValidElement(h)?h.props.children:null:y);return n.jsx(s,{...d,ref:o,children:v.isValidElement(h)?v.cloneElement(h,void 0,g):null})}return n.jsx(s,{...d,ref:o,children:u})});return r.displayName=`${e}.Slot`,r}function V3(e){const s=v.forwardRef((r,l)=>{const{children:o,...u}=r;if(v.isValidElement(o)){const d=K3(o),f=Q3(u,o.props);return o.type!==v.Fragment&&(f.ref=l?Id(l,d):d),v.cloneElement(o,f)}return v.Children.count(o)>1?v.Children.only(null):null});return s.displayName=`${e}.SlotClone`,s}var Y3=Symbol("radix.slottable");function $3(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Y3}function Q3(e,s){const r={...s};for(const l in s){const o=e[l],u=s[l];/^on[A-Z]/.test(l)?o&&u?r[l]=(...f)=>{const x=u(...f);return o(...f),x}:o&&(r[l]=o):l==="style"?r[l]={...o,...u}:l==="className"&&(r[l]=[o,u].filter(Boolean).join(" "))}return{...e,...r}}function K3(e){let s=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=s&&"isReactWarning"in s&&s.isReactWarning;return r?e.ref:(s=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=s&&"isReactWarning"in s&&s.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Pd="Dialog",[cS]=Yj(Pd),[X3,es]=cS(Pd),uS=e=>{const{__scopeDialog:s,children:r,open:l,defaultOpen:o,onOpenChange:u,modal:d=!0}=e,f=v.useRef(null),x=v.useRef(null),[h,g]=$j({prop:l,defaultProp:o??!1,onChange:u,caller:Pd});return n.jsx(X3,{scope:s,triggerRef:f,contentRef:x,contentId:Nh(),titleId:Nh(),descriptionId:Nh(),open:h,onOpenChange:g,onOpenToggle:v.useCallback(()=>g(y=>!y),[g]),modal:d,children:r})};uS.displayName=Pd;var dS="DialogTrigger",Z3=v.forwardRef((e,s)=>{const{__scopeDialog:r,...l}=e,o=es(dS,r),u=Xs(s,o.triggerRef);return n.jsx(Ba.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":cx(o.open),...l,ref:u,onClick:gs(e.onClick,o.onOpenToggle)})});Z3.displayName=dS;var ix="DialogPortal",[J3,fS]=cS(ix,{forceMount:void 0}),mS=e=>{const{__scopeDialog:s,forceMount:r,children:l,container:o}=e,u=es(ix,s);return n.jsx(J3,{scope:s,forceMount:r,children:v.Children.map(l,d=>n.jsx(mc,{present:r||u.open,children:n.jsx(Wj,{asChild:!0,container:o,children:d})}))})};mS.displayName=ix;var jd="DialogOverlay",hS=v.forwardRef((e,s)=>{const r=fS(jd,e.__scopeDialog),{forceMount:l=r.forceMount,...o}=e,u=es(jd,e.__scopeDialog);return u.modal?n.jsx(mc,{present:l||u.open,children:n.jsx(eD,{...o,ref:s})}):null});hS.displayName=jd;var W3=G3("DialogOverlay.RemoveScroll"),eD=v.forwardRef((e,s)=>{const{__scopeDialog:r,...l}=e,o=es(jd,r);return n.jsx(iS,{as:W3,allowPinchZoom:!0,shards:[o.contentRef],children:n.jsx(Ba.div,{"data-state":cx(o.open),...l,ref:s,style:{pointerEvents:"auto",...l.style}})})}),Nl="DialogContent",pS=v.forwardRef((e,s)=>{const r=fS(Nl,e.__scopeDialog),{forceMount:l=r.forceMount,...o}=e,u=es(Nl,e.__scopeDialog);return n.jsx(mc,{present:l||u.open,children:u.modal?n.jsx(tD,{...o,ref:s}):n.jsx(nD,{...o,ref:s})})});pS.displayName=Nl;var tD=v.forwardRef((e,s)=>{const r=es(Nl,e.__scopeDialog),l=v.useRef(null),o=Xs(s,r.contentRef,l);return v.useEffect(()=>{const u=l.current;if(u)return q3(u)},[]),n.jsx(xS,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:gs(e.onCloseAutoFocus,u=>{u.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:gs(e.onPointerDownOutside,u=>{const d=u.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0;(d.button===2||f)&&u.preventDefault()}),onFocusOutside:gs(e.onFocusOutside,u=>u.preventDefault())})}),nD=v.forwardRef((e,s)=>{const r=es(Nl,e.__scopeDialog),l=v.useRef(!1),o=v.useRef(!1);return n.jsx(xS,{...e,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:u=>{e.onCloseAutoFocus?.(u),u.defaultPrevented||(l.current||r.triggerRef.current?.focus(),u.preventDefault()),l.current=!1,o.current=!1},onInteractOutside:u=>{e.onInteractOutside?.(u),u.defaultPrevented||(l.current=!0,u.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const d=u.target;r.triggerRef.current?.contains(d)&&u.preventDefault(),u.detail.originalEvent.type==="focusin"&&o.current&&u.preventDefault()}})}),xS=v.forwardRef((e,s)=>{const{__scopeDialog:r,trapFocus:l,onOpenAutoFocus:o,onCloseAutoFocus:u,...d}=e,f=es(Nl,r),x=v.useRef(null),h=Xs(s,x);return a3(),n.jsxs(n.Fragment,{children:[n.jsx(Zj,{asChild:!0,loop:!0,trapped:l,onMountAutoFocus:o,onUnmountAutoFocus:u,children:n.jsx(Kj,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":cx(f.open),...d,ref:h,onDismiss:()=>f.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(aD,{titleId:f.titleId}),n.jsx(rD,{contentRef:x,descriptionId:f.descriptionId})]})]})}),ox="DialogTitle",gS=v.forwardRef((e,s)=>{const{__scopeDialog:r,...l}=e,o=es(ox,r);return n.jsx(Ba.h2,{id:o.titleId,...l,ref:s})});gS.displayName=ox;var yS="DialogDescription",vS=v.forwardRef((e,s)=>{const{__scopeDialog:r,...l}=e,o=es(yS,r);return n.jsx(Ba.p,{id:o.descriptionId,...l,ref:s})});vS.displayName=yS;var bS="DialogClose",NS=v.forwardRef((e,s)=>{const{__scopeDialog:r,...l}=e,o=es(bS,r);return n.jsx(Ba.button,{type:"button",...l,ref:s,onClick:gs(e.onClick,()=>o.onOpenChange(!1))})});NS.displayName=bS;function cx(e){return e?"open":"closed"}var jS="DialogTitleWarning",[sP,SS]=SM(jS,{contentName:Nl,titleName:ox,docsSlug:"dialog"}),aD=({titleId:e})=>{const s=SS(jS),r=`\`${s.contentName}\` requires a \`${s.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${s.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${s.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},sD="DialogDescriptionWarning",rD=({contentRef:e,descriptionId:s})=>{const l=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${SS(sD).contentName}}.`;return v.useEffect(()=>{const o=e.current?.getAttribute("aria-describedby");s&&o&&(document.getElementById(s)||console.warn(l))},[l,e,s]),null},ux=uS,dx=mS,fx=hS,mx=pS,hx=gS,Sd=vS,Ed=NS;function ha({open:e,onOpenChange:s,title:r,description:l,confirmLabel:o="Delete",cancelLabel:u="Cancel",onConfirm:d,isLoading:f=!1,variant:x="destructive",requireConfirmText:h,loadingLabel:g="Deleting..."}){const[y,b]=v.useState("");v.useEffect(()=>{e||b("")},[e]);const N=async()=>{await d()},C=f||h!==void 0&&y!==h,S=E=>{f||s(E)};return n.jsx(ux,{open:e,onOpenChange:S,children:n.jsxs(dx,{children:[n.jsx(fx,{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm data-[state=open]:animate-in data-[state=open]:fade-in-0 data-[state=closed]:animate-out data-[state=closed]:fade-out-0"}),n.jsx(mx,{className:"fixed left-[50%] top-[50%] z-50 translate-x-[-50%] translate-y-[-50%] w-full max-w-md rounded-lg border bg-background p-6 shadow-lg data-[state=open]:animate-in data-[state=open]:fade-in-0 data-[state=open]:zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95",children:n.jsxs("div",{className:"flex flex-col gap-4",children:[n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:he("rounded-full p-2",x==="destructive"?"bg-red-500/10":"bg-yellow-500/10"),children:n.jsx(bl,{className:he("h-5 w-5",x==="destructive"?"text-red-500":"text-yellow-500")})}),n.jsxs("div",{className:"flex-1",children:[n.jsx(hx,{className:"text-lg font-semibold",children:r}),n.jsx(Sd,{className:"mt-1 text-sm text-muted-foreground",children:l})]})]}),h&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"text-sm text-muted-foreground",children:["Type ",n.jsx("code",{className:"px-1.5 py-0.5 rounded bg-muted font-mono text-foreground",children:h})," to confirm:"]}),n.jsx("input",{type:"text",value:y,onChange:E=>b(E.target.value),placeholder:h,className:he("w-full px-3 py-2 rounded-md border bg-background text-sm","focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",y===h?"border-green-500 focus:ring-green-500":"border-input"),autoFocus:!0,disabled:f})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(Ed,{asChild:!0,children:n.jsx(fe,{variant:"outline",disabled:f,children:u})}),n.jsx(fe,{variant:x,onClick:N,disabled:C,children:f?n.jsxs(n.Fragment,{children:[n.jsx($e,{className:"mr-2 h-4 w-4 animate-spin"}),g]}):o})]})]})})]})})}function pl(){const[e,s]=v.useState(!1),[r,l]=v.useState(null);return{isOpen:e,setIsOpen:s,itemToDelete:r,openDialog:d=>{l(d),s(!0)},closeDialog:()=>{s(!1),l(null)}}}function lD(){const e=oc(),{offset:s,loadedItems:r,handleLoadMore:l,reset:o}=lx(Si.DEFAULT_LIMIT),[u,d]=v.useState(ZN),[f,x]=v.useState(zu.ALL),h=Si.DEFAULT_LIMIT,{data:g}=W4(),y=f===zu.ALL?void 0:f,{data:b,isLoading:N,isFetching:C}=sx(h,s,u,y),S=Gj(),{isOpen:E,setIsOpen:w,itemToDelete:R,openDialog:D,closeDialog:Q}=pl(),ae=v.useMemo(()=>{const G=Array.from(new Set(g?.agents??[])).sort();return[zu.ALL,...G]},[g]),k=G=>{d(G),o()},A=G=>{x(G),o()},L=async()=>{if(R)try{await S.mutateAsync(R),Q(),o()}catch(G){console.error("Failed to delete session:",G)}},O=(G,J)=>{G.preventDefault(),G.stopPropagation(),D(J)};if(N&&s===0)return n.jsx("div",{children:"Loading sessions..."});const X=b?.sessions||[],ee=s===0?X:[...r,...X],Y=X.length===h;return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(_i,{className:"w-4 h-4"}),n.jsx("span",{children:"Coding agent sessions"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("select",{value:f,onChange:G=>A(G.target.value),className:"text-sm bg-background border border-input rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-ring","aria-label":"Filter sessions by agent",children:ae.map(G=>n.jsx("option",{value:G,children:G===zu.ALL?"All Agents":G},G))}),n.jsx(lj,{className:"w-4 h-4 text-muted-foreground"}),n.jsx("select",{value:u,onChange:G=>k(G.target.value),className:"text-sm bg-background border border-input rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-ring",children:Ek.map(G=>n.jsx("option",{value:G.value,children:G.label},G.value))})]})]}),ee.map(G=>{const J=El(G);return n.jsx(Ze,{to:`/activity/sessions/${G.id}`,children:n.jsx(Te,{className:"hover:bg-accent/5 transition-colors cursor-pointer group",children:n.jsx(Me,{className:"py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:he("p-2 rounded-md",G.status==="active"?"bg-green-500/10 text-green-500":"bg-muted text-muted-foreground"),children:n.jsx(_i,{className:"w-4 h-4"})}),n.jsxs("div",{children:[n.jsxs(Ie,{className:"text-base font-medium flex items-center gap-2",children:[n.jsx("span",{className:"text-sm font-semibold text-primary/80",children:G.agent||aj}),n.jsx("span",{className:"text-muted-foreground font-normal",children:""}),n.jsx("span",{className:"font-normal truncate max-w-[600px]",children:J}),n.jsx("span",{className:he("text-xs px-2 py-0.5 rounded-full border flex-shrink-0",G.status==="active"?"border-green-500/50 text-green-500":"border-muted-foreground/30 text-muted-foreground"),children:G.status})]}),n.jsxs("div",{className:"text-xs text-muted-foreground mt-1 flex items-center gap-3",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Za,{className:"w-3 h-3"})," ",Ma(G.started_at)]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(vs,{className:"w-3 h-3"})," ",G.activity_count," activities"]}),G.parent_session_id&&n.jsxs("button",{onClick:ne=>{ne.preventDefault(),ne.stopPropagation(),e(`/activity/sessions/${G.parent_session_id}`)},className:"flex items-center gap-1 text-blue-500 hover:text-blue-400 hover:bg-blue-500/10 rounded px-1.5 py-0.5 -mx-1.5 -my-0.5 transition-colors",title:"Go to parent session",children:[n.jsx(XA,{className:"w-3 h-3"})," parent"]}),G.child_session_count>0&&n.jsxs("button",{onClick:ne=>{ne.preventDefault(),ne.stopPropagation(),e(`/activity/sessions/${G.id}`)},className:"flex items-center gap-1 text-violet-500 hover:text-violet-400 hover:bg-violet-500/10 rounded px-1.5 py-0.5 -mx-1.5 -my-0.5 transition-colors",title:"View child sessions",children:[n.jsx(_R,{className:"w-3 h-3"})," ",G.child_session_count," ",G.child_session_count===1?"child":"children"]})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:ne=>O(ne,G.id),className:"p-2 rounded-md text-muted-foreground hover:text-red-500 hover:bg-red-500/10 opacity-0 group-hover:opacity-100 transition-all",title:"Delete session","aria-label":"Delete session",children:n.jsx(za,{className:"w-4 h-4"})}),n.jsx(Dd,{className:"w-4 h-4 text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity"})]})]})})})},G.id)}),ee.length===0&&n.jsx("div",{className:"text-center py-12 text-muted-foreground border border-dashed rounded-lg",children:"No sessions found. Start using 'agent' to generate activity."}),Y&&ee.length>0&&n.jsx("button",{onClick:()=>l(X),disabled:C,className:"w-full py-3 text-sm text-muted-foreground hover:text-foreground border border-dashed rounded-lg hover:border-muted-foreground/50 transition-colors disabled:opacity-50",children:C?"Loading...":"Load more sessions"}),n.jsx(ha,{open:E,onOpenChange:w,title:ms.SESSION.title,description:ms.SESSION.description,onConfirm:L,isLoading:S.isPending})]})}const d1=new Set;function ES(e){const s=Ve();v.useEffect(()=>{if(e.length===0)return;const r=e.filter(u=>u.file_path&&!d1.has(u.id));if(r.length===0)return;for(const u of r)d1.add(u.id);let l=!1;return(async()=>{const u=await Promise.allSettled(r.map(f=>we(KN(f.id,!0),{method:"POST"})));if(l)return;u.some(f=>f.status==="fulfilled"&&f.value.success)&&(s.invalidateQueries({queryKey:["plans"]}),s.invalidateQueries({queryKey:["session"]}))})(),()=>{l=!0}},[e,s])}function iD(e,s){const r={};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const oD=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,cD=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,uD={};function f1(e,s){return(uD.jsx?cD:oD).test(e)}const dD=/[ \t\n\f\r]/g;function fD(e){return typeof e=="object"?e.type==="text"?m1(e.value):!1:m1(e)}function m1(e){return e.replace(dD,"")===""}class hc{constructor(s,r,l){this.normal=r,this.property=s,l&&(this.space=l)}}hc.prototype.normal={};hc.prototype.property={};hc.prototype.space=void 0;function wS(e,s){const r={},l={};for(const o of e)Object.assign(r,o.property),Object.assign(l,o.normal);return new hc(r,l,s)}function xp(e){return e.toLowerCase()}class Jn{constructor(s,r){this.attribute=r,this.property=s}}Jn.prototype.attribute="";Jn.prototype.booleanish=!1;Jn.prototype.boolean=!1;Jn.prototype.commaOrSpaceSeparated=!1;Jn.prototype.commaSeparated=!1;Jn.prototype.defined=!1;Jn.prototype.mustUseProperty=!1;Jn.prototype.number=!1;Jn.prototype.overloadedBoolean=!1;Jn.prototype.property="";Jn.prototype.spaceSeparated=!1;Jn.prototype.space=void 0;let mD=0;const at=wl(),ln=wl(),gp=wl(),be=wl(),Lt=wl(),vi=wl(),ua=wl();function wl(){return 2**++mD}const yp=Object.freeze(Object.defineProperty({__proto__:null,boolean:at,booleanish:ln,commaOrSpaceSeparated:ua,commaSeparated:vi,number:be,overloadedBoolean:gp,spaceSeparated:Lt},Symbol.toStringTag,{value:"Module"})),kh=Object.keys(yp);class px extends Jn{constructor(s,r,l,o){let u=-1;if(super(s,r),h1(this,"space",o),typeof l=="number")for(;++u<kh.length;){const d=kh[u];h1(this,kh[u],(l&yp[d])===yp[d])}}}px.prototype.defined=!0;function h1(e,s,r){r&&(e[s]=r)}function Li(e){const s={},r={};for(const[l,o]of Object.entries(e.properties)){const u=new px(l,e.transform(e.attributes||{},l),o,e.space);e.mustUseProperty&&e.mustUseProperty.includes(l)&&(u.mustUseProperty=!0),s[l]=u,r[xp(l)]=l,r[xp(u.attribute)]=l}return new hc(s,r,e.space)}const _S=Li({properties:{ariaActiveDescendant:null,ariaAtomic:ln,ariaAutoComplete:null,ariaBusy:ln,ariaChecked:ln,ariaColCount:be,ariaColIndex:be,ariaColSpan:be,ariaControls:Lt,ariaCurrent:null,ariaDescribedBy:Lt,ariaDetails:null,ariaDisabled:ln,ariaDropEffect:Lt,ariaErrorMessage:null,ariaExpanded:ln,ariaFlowTo:Lt,ariaGrabbed:ln,ariaHasPopup:null,ariaHidden:ln,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Lt,ariaLevel:be,ariaLive:null,ariaModal:ln,ariaMultiLine:ln,ariaMultiSelectable:ln,ariaOrientation:null,ariaOwns:Lt,ariaPlaceholder:null,ariaPosInSet:be,ariaPressed:ln,ariaReadOnly:ln,ariaRelevant:null,ariaRequired:ln,ariaRoleDescription:Lt,ariaRowCount:be,ariaRowIndex:be,ariaRowSpan:be,ariaSelected:ln,ariaSetSize:be,ariaSort:null,ariaValueMax:be,ariaValueMin:be,ariaValueNow:be,ariaValueText:null,role:null},transform(e,s){return s==="role"?s:"aria-"+s.slice(4).toLowerCase()}});function CS(e,s){return s in e?e[s]:s}function TS(e,s){return CS(e,s.toLowerCase())}const hD=Li({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:vi,acceptCharset:Lt,accessKey:Lt,action:null,allow:null,allowFullScreen:at,allowPaymentRequest:at,allowUserMedia:at,alt:null,as:null,async:at,autoCapitalize:null,autoComplete:Lt,autoFocus:at,autoPlay:at,blocking:Lt,capture:null,charSet:null,checked:at,cite:null,className:Lt,cols:be,colSpan:null,content:null,contentEditable:ln,controls:at,controlsList:Lt,coords:be|vi,crossOrigin:null,data:null,dateTime:null,decoding:null,default:at,defer:at,dir:null,dirName:null,disabled:at,download:gp,draggable:ln,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:at,formTarget:null,headers:Lt,height:be,hidden:gp,high:be,href:null,hrefLang:null,htmlFor:Lt,httpEquiv:Lt,id:null,imageSizes:null,imageSrcSet:null,inert:at,inputMode:null,integrity:null,is:null,isMap:at,itemId:null,itemProp:Lt,itemRef:Lt,itemScope:at,itemType:Lt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:at,low:be,manifest:null,max:null,maxLength:be,media:null,method:null,min:null,minLength:be,multiple:at,muted:at,name:null,nonce:null,noModule:at,noValidate:at,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:at,optimum:be,pattern:null,ping:Lt,placeholder:null,playsInline:at,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:at,referrerPolicy:null,rel:Lt,required:at,reversed:at,rows:be,rowSpan:be,sandbox:Lt,scope:null,scoped:at,seamless:at,selected:at,shadowRootClonable:at,shadowRootDelegatesFocus:at,shadowRootMode:null,shape:null,size:be,sizes:null,slot:null,span:be,spellCheck:ln,src:null,srcDoc:null,srcLang:null,srcSet:null,start:be,step:null,style:null,tabIndex:be,target:null,title:null,translate:null,type:null,typeMustMatch:at,useMap:null,value:ln,width:be,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Lt,axis:null,background:null,bgColor:null,border:be,borderColor:null,bottomMargin:be,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:at,declare:at,event:null,face:null,frame:null,frameBorder:null,hSpace:be,leftMargin:be,link:null,longDesc:null,lowSrc:null,marginHeight:be,marginWidth:be,noResize:at,noHref:at,noShade:at,noWrap:at,object:null,profile:null,prompt:null,rev:null,rightMargin:be,rules:null,scheme:null,scrolling:ln,standby:null,summary:null,text:null,topMargin:be,valueType:null,version:null,vAlign:null,vLink:null,vSpace:be,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:at,disableRemotePlayback:at,prefix:null,property:null,results:be,security:null,unselectable:null},space:"html",transform:TS}),pD=Li({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ua,accentHeight:be,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:be,amplitude:be,arabicForm:null,ascent:be,attributeName:null,attributeType:null,azimuth:be,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:be,by:null,calcMode:null,capHeight:be,className:Lt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:be,diffuseConstant:be,direction:null,display:null,dur:null,divisor:be,dominantBaseline:null,download:at,dx:null,dy:null,edgeMode:null,editable:null,elevation:be,enableBackground:null,end:null,event:null,exponent:be,externalResourcesRequired:null,fill:null,fillOpacity:be,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:vi,g2:vi,glyphName:vi,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:be,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:be,horizOriginX:be,horizOriginY:be,id:null,ideographic:be,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:be,k:be,k1:be,k2:be,k3:be,k4:be,kernelMatrix:ua,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:be,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:be,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:be,overlineThickness:be,paintOrder:null,panose1:null,path:null,pathLength:be,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Lt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:be,pointsAtY:be,pointsAtZ:be,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ua,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ua,rev:ua,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ua,requiredFeatures:ua,requiredFonts:ua,requiredFormats:ua,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:be,specularExponent:be,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:be,strikethroughThickness:be,string:null,stroke:null,strokeDashArray:ua,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:be,strokeOpacity:be,strokeWidth:null,style:null,surfaceScale:be,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ua,tabIndex:be,tableValues:null,target:null,targetX:be,targetY:be,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ua,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:be,underlineThickness:be,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:be,values:null,vAlphabetic:be,vMathematical:be,vectorEffect:null,vHanging:be,vIdeographic:be,version:null,vertAdvY:be,vertOriginX:be,vertOriginY:be,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:be,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:CS}),kS=Li({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,s){return"xlink:"+s.slice(5).toLowerCase()}}),AS=Li({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:TS}),RS=Li({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,s){return"xml:"+s.slice(3).toLowerCase()}}),xD={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},gD=/[A-Z]/g,p1=/-[a-z]/g,yD=/^data[-\w.:]+$/i;function vD(e,s){const r=xp(s);let l=s,o=Jn;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&yD.test(s)){if(s.charAt(4)==="-"){const u=s.slice(5).replace(p1,ND);l="data"+u.charAt(0).toUpperCase()+u.slice(1)}else{const u=s.slice(4);if(!p1.test(u)){let d=u.replace(gD,bD);d.charAt(0)!=="-"&&(d="-"+d),s="data"+d}}o=px}return new o(l,s)}function bD(e){return"-"+e.toLowerCase()}function ND(e){return e.charAt(1).toUpperCase()}const jD=wS([_S,hD,kS,AS,RS],"html"),xx=wS([_S,pD,kS,AS,RS],"svg");function SD(e){return e.join(" ").trim()}var ui={},Ah,x1;function ED(){if(x1)return Ah;x1=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,s=/\n/g,r=/^\s*/,l=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,u=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,d=/^[;\s]*/,f=/^\s+|\s+$/g,x=`
`,h="/",g="*",y="",b="comment",N="declaration";function C(E,w){if(typeof E!="string")throw new TypeError("First argument must be a string");if(!E)return[];w=w||{};var R=1,D=1;function Q(J){var ne=J.match(s);ne&&(R+=ne.length);var B=J.lastIndexOf(x);D=~B?J.length-B:D+J.length}function ae(){var J={line:R,column:D};return function(ne){return ne.position=new k(J),O(),ne}}function k(J){this.start=J,this.end={line:R,column:D},this.source=w.source}k.prototype.content=E;function A(J){var ne=new Error(w.source+":"+R+":"+D+": "+J);if(ne.reason=J,ne.filename=w.source,ne.line=R,ne.column=D,ne.source=E,!w.silent)throw ne}function L(J){var ne=J.exec(E);if(ne){var B=ne[0];return Q(B),E=E.slice(B.length),ne}}function O(){L(r)}function X(J){var ne;for(J=J||[];ne=ee();)ne!==!1&&J.push(ne);return J}function ee(){var J=ae();if(!(h!=E.charAt(0)||g!=E.charAt(1))){for(var ne=2;y!=E.charAt(ne)&&(g!=E.charAt(ne)||h!=E.charAt(ne+1));)++ne;if(ne+=2,y===E.charAt(ne-1))return A("End of comment missing");var B=E.slice(2,ne-2);return D+=2,Q(B),E=E.slice(ne),D+=2,J({type:b,comment:B})}}function Y(){var J=ae(),ne=L(l);if(ne){if(ee(),!L(o))return A("property missing ':'");var B=L(u),F=J({type:N,property:S(ne[0].replace(e,y)),value:B?S(B[0].replace(e,y)):y});return L(d),F}}function G(){var J=[];X(J);for(var ne;ne=Y();)ne!==!1&&(J.push(ne),X(J));return J}return O(),G()}function S(E){return E?E.replace(f,y):y}return Ah=C,Ah}var g1;function wD(){if(g1)return ui;g1=1;var e=ui&&ui.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(ui,"__esModule",{value:!0}),ui.default=r;const s=e(ED());function r(l,o){let u=null;if(!l||typeof l!="string")return u;const d=(0,s.default)(l),f=typeof o=="function";return d.forEach(x=>{if(x.type!=="declaration")return;const{property:h,value:g}=x;f?o(h,g,x):g&&(u=u||{},u[h]=g)}),u}return ui}var Do={},y1;function _D(){if(y1)return Do;y1=1,Object.defineProperty(Do,"__esModule",{value:!0}),Do.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,s=/-([a-z])/g,r=/^[^-]+$/,l=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,u=function(h){return!h||r.test(h)||e.test(h)},d=function(h,g){return g.toUpperCase()},f=function(h,g){return"".concat(g,"-")},x=function(h,g){return g===void 0&&(g={}),u(h)?h:(h=h.toLowerCase(),g.reactCompat?h=h.replace(o,f):h=h.replace(l,f),h.replace(s,d))};return Do.camelCase=x,Do}var Lo,v1;function CD(){if(v1)return Lo;v1=1;var e=Lo&&Lo.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},s=e(wD()),r=_D();function l(o,u){var d={};return!o||typeof o!="string"||(0,s.default)(o,function(f,x){f&&x&&(d[(0,r.camelCase)(f,u)]=x)}),d}return l.default=l,Lo=l,Lo}var TD=CD();const kD=sc(TD),OS=MS("end"),gx=MS("start");function MS(e){return s;function s(r){const l=r&&r.position&&r.position[e]||{};if(typeof l.line=="number"&&l.line>0&&typeof l.column=="number"&&l.column>0)return{line:l.line,column:l.column,offset:typeof l.offset=="number"&&l.offset>-1?l.offset:void 0}}}function AD(e){const s=gx(e),r=OS(e);if(s&&r)return{start:s,end:r}}function Vo(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?b1(e.position):"start"in e||"end"in e?b1(e):"line"in e||"column"in e?vp(e):""}function vp(e){return N1(e&&e.line)+":"+N1(e&&e.column)}function b1(e){return vp(e&&e.start)+"-"+vp(e&&e.end)}function N1(e){return e&&typeof e=="number"?e:1}class In extends Error{constructor(s,r,l){super(),typeof r=="string"&&(l=r,r=void 0);let o="",u={},d=!1;if(r&&("line"in r&&"column"in r?u={place:r}:"start"in r&&"end"in r?u={place:r}:"type"in r?u={ancestors:[r],place:r.position}:u={...r}),typeof s=="string"?o=s:!u.cause&&s&&(d=!0,o=s.message,u.cause=s),!u.ruleId&&!u.source&&typeof l=="string"){const x=l.indexOf(":");x===-1?u.ruleId=l:(u.source=l.slice(0,x),u.ruleId=l.slice(x+1))}if(!u.place&&u.ancestors&&u.ancestors){const x=u.ancestors[u.ancestors.length-1];x&&(u.place=x.position)}const f=u.place&&"start"in u.place?u.place.start:u.place;this.ancestors=u.ancestors||void 0,this.cause=u.cause||void 0,this.column=f?f.column:void 0,this.fatal=void 0,this.file="",this.message=o,this.line=f?f.line:void 0,this.name=Vo(u.place)||"1:1",this.place=u.place||void 0,this.reason=this.message,this.ruleId=u.ruleId||void 0,this.source=u.source||void 0,this.stack=d&&u.cause&&typeof u.cause.stack=="string"?u.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}In.prototype.file="";In.prototype.name="";In.prototype.reason="";In.prototype.message="";In.prototype.stack="";In.prototype.column=void 0;In.prototype.line=void 0;In.prototype.ancestors=void 0;In.prototype.cause=void 0;In.prototype.fatal=void 0;In.prototype.place=void 0;In.prototype.ruleId=void 0;In.prototype.source=void 0;const yx={}.hasOwnProperty,RD=new Map,OD=/[A-Z]/g,MD=new Set(["table","tbody","thead","tfoot","tr"]),DD=new Set(["td","th"]),DS="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function LD(e,s){if(!s||s.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=s.filePath||void 0;let l;if(s.development){if(typeof s.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");l=qD(r,s.jsxDEV)}else{if(typeof s.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof s.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");l=HD(r,s.jsx,s.jsxs)}const o={Fragment:s.Fragment,ancestors:[],components:s.components||{},create:l,elementAttributeNameCase:s.elementAttributeNameCase||"react",evaluater:s.createEvaluater?s.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:s.ignoreInvalidStyle||!1,passKeys:s.passKeys!==!1,passNode:s.passNode||!1,schema:s.space==="svg"?xx:jD,stylePropertyNameCase:s.stylePropertyNameCase||"dom",tableCellAlignToStyle:s.tableCellAlignToStyle!==!1},u=LS(o,e,void 0);return u&&typeof u!="string"?u:o.create(e,o.Fragment,{children:u||void 0},void 0)}function LS(e,s,r){if(s.type==="element")return ID(e,s,r);if(s.type==="mdxFlowExpression"||s.type==="mdxTextExpression")return zD(e,s);if(s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement")return PD(e,s,r);if(s.type==="mdxjsEsm")return UD(e,s);if(s.type==="root")return BD(e,s,r);if(s.type==="text")return FD(e,s)}function ID(e,s,r){const l=e.schema;let o=l;s.tagName.toLowerCase()==="svg"&&l.space==="html"&&(o=xx,e.schema=o),e.ancestors.push(s);const u=zS(e,s.tagName,!1),d=GD(e,s);let f=bx(e,s);return MD.has(s.tagName)&&(f=f.filter(function(x){return typeof x=="string"?!fD(x):!0})),IS(e,d,u,s),vx(d,f),e.ancestors.pop(),e.schema=l,e.create(s,u,d,r)}function zD(e,s){if(s.data&&s.data.estree&&e.evaluater){const l=s.data.estree.body[0];return l.type,e.evaluater.evaluateExpression(l.expression)}ac(e,s.position)}function UD(e,s){if(s.data&&s.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(s.data.estree);ac(e,s.position)}function PD(e,s,r){const l=e.schema;let o=l;s.name==="svg"&&l.space==="html"&&(o=xx,e.schema=o),e.ancestors.push(s);const u=s.name===null?e.Fragment:zS(e,s.name,!0),d=VD(e,s),f=bx(e,s);return IS(e,d,u,s),vx(d,f),e.ancestors.pop(),e.schema=l,e.create(s,u,d,r)}function BD(e,s,r){const l={};return vx(l,bx(e,s)),e.create(s,e.Fragment,l,r)}function FD(e,s){return s.value}function IS(e,s,r,l){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(s.node=l)}function vx(e,s){if(s.length>0){const r=s.length>1?s:s[0];r&&(e.children=r)}}function HD(e,s,r){return l;function l(o,u,d,f){const h=Array.isArray(d.children)?r:s;return f?h(u,d,f):h(u,d)}}function qD(e,s){return r;function r(l,o,u,d){const f=Array.isArray(u.children),x=gx(l);return s(o,u,d,f,{columnNumber:x?x.column-1:void 0,fileName:e,lineNumber:x?x.line:void 0},void 0)}}function GD(e,s){const r={};let l,o;for(o in s.properties)if(o!=="children"&&yx.call(s.properties,o)){const u=YD(e,o,s.properties[o]);if(u){const[d,f]=u;e.tableCellAlignToStyle&&d==="align"&&typeof f=="string"&&DD.has(s.tagName)?l=f:r[d]=f}}if(l){const u=r.style||(r.style={});u[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=l}return r}function VD(e,s){const r={};for(const l of s.attributes)if(l.type==="mdxJsxExpressionAttribute")if(l.data&&l.data.estree&&e.evaluater){const u=l.data.estree.body[0];u.type;const d=u.expression;d.type;const f=d.properties[0];f.type,Object.assign(r,e.evaluater.evaluateExpression(f.argument))}else ac(e,s.position);else{const o=l.name;let u;if(l.value&&typeof l.value=="object")if(l.value.data&&l.value.data.estree&&e.evaluater){const f=l.value.data.estree.body[0];f.type,u=e.evaluater.evaluateExpression(f.expression)}else ac(e,s.position);else u=l.value===null?!0:l.value;r[o]=u}return r}function bx(e,s){const r=[];let l=-1;const o=e.passKeys?new Map:RD;for(;++l<s.children.length;){const u=s.children[l];let d;if(e.passKeys){const x=u.type==="element"?u.tagName:u.type==="mdxJsxFlowElement"||u.type==="mdxJsxTextElement"?u.name:void 0;if(x){const h=o.get(x)||0;d=x+"-"+h,o.set(x,h+1)}}const f=LS(e,u,d);f!==void 0&&r.push(f)}return r}function YD(e,s,r){const l=vD(e.schema,s);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=l.commaSeparated?iD(r):SD(r)),l.property==="style"){let o=typeof r=="object"?r:$D(e,String(r));return e.stylePropertyNameCase==="css"&&(o=QD(o)),["style",o]}return[e.elementAttributeNameCase==="react"&&l.space?xD[l.property]||l.property:l.attribute,r]}}function $D(e,s){try{return kD(s,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const l=r,o=new In("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:l,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=e.filePath||void 0,o.url=DS+"#cannot-parse-style-attribute",o}}function zS(e,s,r){let l;if(!r)l={type:"Literal",value:s};else if(s.includes(".")){const o=s.split(".");let u=-1,d;for(;++u<o.length;){const f=f1(o[u])?{type:"Identifier",name:o[u]}:{type:"Literal",value:o[u]};d=d?{type:"MemberExpression",object:d,property:f,computed:!!(u&&f.type==="Literal"),optional:!1}:f}l=d}else l=f1(s)&&!/^[a-z]/.test(s)?{type:"Identifier",name:s}:{type:"Literal",value:s};if(l.type==="Literal"){const o=l.value;return yx.call(e.components,o)?e.components[o]:o}if(e.evaluater)return e.evaluater.evaluateExpression(l);ac(e)}function ac(e,s){const r=new In("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:s,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=DS+"#cannot-handle-mdx-estrees-without-createevaluater",r}function QD(e){const s={};let r;for(r in e)yx.call(e,r)&&(s[KD(r)]=e[r]);return s}function KD(e){let s=e.replace(OD,XD);return s.slice(0,3)==="ms-"&&(s="-"+s),s}function XD(e){return"-"+e.toLowerCase()}const Rh={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},ZD={};function JD(e,s){const r=ZD,l=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,o=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return US(e,l,o)}function US(e,s,r){if(WD(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(s&&"alt"in e&&e.alt)return e.alt;if("children"in e)return j1(e.children,s,r)}return Array.isArray(e)?j1(e,s,r):""}function j1(e,s,r){const l=[];let o=-1;for(;++o<e.length;)l[o]=US(e[o],s,r);return l.join("")}function WD(e){return!!(e&&typeof e=="object")}const S1=document.createElement("i");function Nx(e){const s="&"+e+";";S1.innerHTML=s;const r=S1.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===s?!1:r}function bs(e,s,r,l){const o=e.length;let u=0,d;if(s<0?s=-s>o?0:o+s:s=s>o?o:s,r=r>0?r:0,l.length<1e4)d=Array.from(l),d.unshift(s,r),e.splice(...d);else for(r&&e.splice(s,r);u<l.length;)d=l.slice(u,u+1e4),d.unshift(s,0),e.splice(...d),u+=1e4,s+=1e4}function Ra(e,s){return e.length>0?(bs(e,e.length,0,s),e):s}const E1={}.hasOwnProperty;function e5(e){const s={};let r=-1;for(;++r<e.length;)t5(s,e[r]);return s}function t5(e,s){let r;for(r in s){const o=(E1.call(e,r)?e[r]:void 0)||(e[r]={}),u=s[r];let d;if(u)for(d in u){E1.call(o,d)||(o[d]=[]);const f=u[d];n5(o[d],Array.isArray(f)?f:f?[f]:[])}}}function n5(e,s){let r=-1;const l=[];for(;++r<s.length;)(s[r].add==="after"?e:l).push(s[r]);bs(e,0,0,l)}function PS(e,s){const r=Number.parseInt(e,s);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":String.fromCodePoint(r)}function bi(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const us=zr(/[A-Za-z]/),ma=zr(/[\dA-Za-z]/),a5=zr(/[#-'*+\--9=?A-Z^-~]/);function bp(e){return e!==null&&(e<32||e===127)}const Np=zr(/\d/),s5=zr(/[\dA-Fa-f]/),r5=zr(/[!-/:-@[-`{-~]/);function Xe(e){return e!==null&&e<-2}function Zn(e){return e!==null&&(e<0||e===32)}function St(e){return e===-2||e===-1||e===32}const l5=zr(new RegExp("\\p{P}|\\p{S}","u")),i5=zr(/\s/);function zr(e){return s;function s(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function Ii(e){const s=[];let r=-1,l=0,o=0;for(;++r<e.length;){const u=e.charCodeAt(r);let d="";if(u===37&&ma(e.charCodeAt(r+1))&&ma(e.charCodeAt(r+2)))o=2;else if(u<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(u))||(d=String.fromCharCode(u));else if(u>55295&&u<57344){const f=e.charCodeAt(r+1);u<56320&&f>56319&&f<57344?(d=String.fromCharCode(u,f),o=1):d=""}else d=String.fromCharCode(u);d&&(s.push(e.slice(l,r),encodeURIComponent(d)),l=r+o+1,d=""),o&&(r+=o,o=0)}return s.join("")+e.slice(l)}function It(e,s,r,l){const o=l?l-1:Number.POSITIVE_INFINITY;let u=0;return d;function d(x){return St(x)?(e.enter(r),f(x)):s(x)}function f(x){return St(x)&&u++<o?(e.consume(x),f):(e.exit(r),s(x))}}const o5={tokenize:c5};function c5(e){const s=e.attempt(this.parser.constructs.contentInitial,l,o);let r;return s;function l(f){if(f===null){e.consume(f);return}return e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),It(e,s,"linePrefix")}function o(f){return e.enter("paragraph"),u(f)}function u(f){const x=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=x),r=x,d(f)}function d(f){if(f===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(f);return}return Xe(f)?(e.consume(f),e.exit("chunkText"),u):(e.consume(f),d)}}const u5={tokenize:d5},w1={tokenize:f5};function d5(e){const s=this,r=[];let l=0,o,u,d;return f;function f(D){if(l<r.length){const Q=r[l];return s.containerState=Q[1],e.attempt(Q[0].continuation,x,h)(D)}return h(D)}function x(D){if(l++,s.containerState._closeFlow){s.containerState._closeFlow=void 0,o&&R();const Q=s.events.length;let ae=Q,k;for(;ae--;)if(s.events[ae][0]==="exit"&&s.events[ae][1].type==="chunkFlow"){k=s.events[ae][1].end;break}w(l);let A=Q;for(;A<s.events.length;)s.events[A][1].end={...k},A++;return bs(s.events,ae+1,0,s.events.slice(Q)),s.events.length=A,h(D)}return f(D)}function h(D){if(l===r.length){if(!o)return b(D);if(o.currentConstruct&&o.currentConstruct.concrete)return C(D);s.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return s.containerState={},e.check(w1,g,y)(D)}function g(D){return o&&R(),w(l),b(D)}function y(D){return s.parser.lazy[s.now().line]=l!==r.length,d=s.now().offset,C(D)}function b(D){return s.containerState={},e.attempt(w1,N,C)(D)}function N(D){return l++,r.push([s.currentConstruct,s.containerState]),b(D)}function C(D){if(D===null){o&&R(),w(0),e.consume(D);return}return o=o||s.parser.flow(s.now()),e.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:u}),S(D)}function S(D){if(D===null){E(e.exit("chunkFlow"),!0),w(0),e.consume(D);return}return Xe(D)?(e.consume(D),E(e.exit("chunkFlow")),l=0,s.interrupt=void 0,f):(e.consume(D),S)}function E(D,Q){const ae=s.sliceStream(D);if(Q&&ae.push(null),D.previous=u,u&&(u.next=D),u=D,o.defineSkip(D.start),o.write(ae),s.parser.lazy[D.start.line]){let k=o.events.length;for(;k--;)if(o.events[k][1].start.offset<d&&(!o.events[k][1].end||o.events[k][1].end.offset>d))return;const A=s.events.length;let L=A,O,X;for(;L--;)if(s.events[L][0]==="exit"&&s.events[L][1].type==="chunkFlow"){if(O){X=s.events[L][1].end;break}O=!0}for(w(l),k=A;k<s.events.length;)s.events[k][1].end={...X},k++;bs(s.events,L+1,0,s.events.slice(A)),s.events.length=k}}function w(D){let Q=r.length;for(;Q-- >D;){const ae=r[Q];s.containerState=ae[1],ae[0].exit.call(s,e)}r.length=D}function R(){o.write([null]),u=void 0,o=void 0,s.containerState._closeFlow=void 0}}function f5(e,s,r){return It(e,e.attempt(this.parser.constructs.document,s,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function _1(e){if(e===null||Zn(e)||i5(e))return 1;if(l5(e))return 2}function jx(e,s,r){const l=[];let o=-1;for(;++o<e.length;){const u=e[o].resolveAll;u&&!l.includes(u)&&(s=u(s,r),l.push(u))}return s}const jp={name:"attention",resolveAll:m5,tokenize:h5};function m5(e,s){let r=-1,l,o,u,d,f,x,h,g;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(l=r;l--;)if(e[l][0]==="exit"&&e[l][1].type==="attentionSequence"&&e[l][1]._open&&s.sliceSerialize(e[l][1]).charCodeAt(0)===s.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[l][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[l][1].end.offset-e[l][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;x=e[l][1].end.offset-e[l][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const y={...e[l][1].end},b={...e[r][1].start};C1(y,-x),C1(b,x),d={type:x>1?"strongSequence":"emphasisSequence",start:y,end:{...e[l][1].end}},f={type:x>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:b},u={type:x>1?"strongText":"emphasisText",start:{...e[l][1].end},end:{...e[r][1].start}},o={type:x>1?"strong":"emphasis",start:{...d.start},end:{...f.end}},e[l][1].end={...d.start},e[r][1].start={...f.end},h=[],e[l][1].end.offset-e[l][1].start.offset&&(h=Ra(h,[["enter",e[l][1],s],["exit",e[l][1],s]])),h=Ra(h,[["enter",o,s],["enter",d,s],["exit",d,s],["enter",u,s]]),h=Ra(h,jx(s.parser.constructs.insideSpan.null,e.slice(l+1,r),s)),h=Ra(h,[["exit",u,s],["enter",f,s],["exit",f,s],["exit",o,s]]),e[r][1].end.offset-e[r][1].start.offset?(g=2,h=Ra(h,[["enter",e[r][1],s],["exit",e[r][1],s]])):g=0,bs(e,l-1,r-l+3,h),r=l+h.length-g-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function h5(e,s){const r=this.parser.constructs.attentionMarkers.null,l=this.previous,o=_1(l);let u;return d;function d(x){return u=x,e.enter("attentionSequence"),f(x)}function f(x){if(x===u)return e.consume(x),f;const h=e.exit("attentionSequence"),g=_1(x),y=!g||g===2&&o||r.includes(x),b=!o||o===2&&g||r.includes(l);return h._open=!!(u===42?y:y&&(o||!b)),h._close=!!(u===42?b:b&&(g||!y)),s(x)}}function C1(e,s){e.column+=s,e.offset+=s,e._bufferIndex+=s}const p5={name:"autolink",tokenize:x5};function x5(e,s,r){let l=0;return o;function o(N){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(N),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),u}function u(N){return us(N)?(e.consume(N),d):N===64?r(N):h(N)}function d(N){return N===43||N===45||N===46||ma(N)?(l=1,f(N)):h(N)}function f(N){return N===58?(e.consume(N),l=0,x):(N===43||N===45||N===46||ma(N))&&l++<32?(e.consume(N),f):(l=0,h(N))}function x(N){return N===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(N),e.exit("autolinkMarker"),e.exit("autolink"),s):N===null||N===32||N===60||bp(N)?r(N):(e.consume(N),x)}function h(N){return N===64?(e.consume(N),g):a5(N)?(e.consume(N),h):r(N)}function g(N){return ma(N)?y(N):r(N)}function y(N){return N===46?(e.consume(N),l=0,g):N===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(N),e.exit("autolinkMarker"),e.exit("autolink"),s):b(N)}function b(N){if((N===45||ma(N))&&l++<63){const C=N===45?b:y;return e.consume(N),C}return r(N)}}const Bd={partial:!0,tokenize:g5};function g5(e,s,r){return l;function l(u){return St(u)?It(e,o,"linePrefix")(u):o(u)}function o(u){return u===null||Xe(u)?s(u):r(u)}}const BS={continuation:{tokenize:v5},exit:b5,name:"blockQuote",tokenize:y5};function y5(e,s,r){const l=this;return o;function o(d){if(d===62){const f=l.containerState;return f.open||(e.enter("blockQuote",{_container:!0}),f.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(d),e.exit("blockQuoteMarker"),u}return r(d)}function u(d){return St(d)?(e.enter("blockQuotePrefixWhitespace"),e.consume(d),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),s):(e.exit("blockQuotePrefix"),s(d))}}function v5(e,s,r){const l=this;return o;function o(d){return St(d)?It(e,u,"linePrefix",l.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d):u(d)}function u(d){return e.attempt(BS,s,r)(d)}}function b5(e){e.exit("blockQuote")}const FS={name:"characterEscape",tokenize:N5};function N5(e,s,r){return l;function l(u){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(u),e.exit("escapeMarker"),o}function o(u){return r5(u)?(e.enter("characterEscapeValue"),e.consume(u),e.exit("characterEscapeValue"),e.exit("characterEscape"),s):r(u)}}const HS={name:"characterReference",tokenize:j5};function j5(e,s,r){const l=this;let o=0,u,d;return f;function f(y){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(y),e.exit("characterReferenceMarker"),x}function x(y){return y===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(y),e.exit("characterReferenceMarkerNumeric"),h):(e.enter("characterReferenceValue"),u=31,d=ma,g(y))}function h(y){return y===88||y===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(y),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),u=6,d=s5,g):(e.enter("characterReferenceValue"),u=7,d=Np,g(y))}function g(y){if(y===59&&o){const b=e.exit("characterReferenceValue");return d===ma&&!Nx(l.sliceSerialize(b))?r(y):(e.enter("characterReferenceMarker"),e.consume(y),e.exit("characterReferenceMarker"),e.exit("characterReference"),s)}return d(y)&&o++<u?(e.consume(y),g):r(y)}}const T1={partial:!0,tokenize:E5},k1={concrete:!0,name:"codeFenced",tokenize:S5};function S5(e,s,r){const l=this,o={partial:!0,tokenize:ae};let u=0,d=0,f;return x;function x(k){return h(k)}function h(k){const A=l.events[l.events.length-1];return u=A&&A[1].type==="linePrefix"?A[2].sliceSerialize(A[1],!0).length:0,f=k,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),g(k)}function g(k){return k===f?(d++,e.consume(k),g):d<3?r(k):(e.exit("codeFencedFenceSequence"),St(k)?It(e,y,"whitespace")(k):y(k))}function y(k){return k===null||Xe(k)?(e.exit("codeFencedFence"),l.interrupt?s(k):e.check(T1,S,Q)(k)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),b(k))}function b(k){return k===null||Xe(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),y(k)):St(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),It(e,N,"whitespace")(k)):k===96&&k===f?r(k):(e.consume(k),b)}function N(k){return k===null||Xe(k)?y(k):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),C(k))}function C(k){return k===null||Xe(k)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),y(k)):k===96&&k===f?r(k):(e.consume(k),C)}function S(k){return e.attempt(o,Q,E)(k)}function E(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),w}function w(k){return u>0&&St(k)?It(e,R,"linePrefix",u+1)(k):R(k)}function R(k){return k===null||Xe(k)?e.check(T1,S,Q)(k):(e.enter("codeFlowValue"),D(k))}function D(k){return k===null||Xe(k)?(e.exit("codeFlowValue"),R(k)):(e.consume(k),D)}function Q(k){return e.exit("codeFenced"),s(k)}function ae(k,A,L){let O=0;return X;function X(ne){return k.enter("lineEnding"),k.consume(ne),k.exit("lineEnding"),ee}function ee(ne){return k.enter("codeFencedFence"),St(ne)?It(k,Y,"linePrefix",l.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ne):Y(ne)}function Y(ne){return ne===f?(k.enter("codeFencedFenceSequence"),G(ne)):L(ne)}function G(ne){return ne===f?(O++,k.consume(ne),G):O>=d?(k.exit("codeFencedFenceSequence"),St(ne)?It(k,J,"whitespace")(ne):J(ne)):L(ne)}function J(ne){return ne===null||Xe(ne)?(k.exit("codeFencedFence"),A(ne)):L(ne)}}}function E5(e,s,r){const l=this;return o;function o(d){return d===null?r(d):(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),u)}function u(d){return l.parser.lazy[l.now().line]?r(d):s(d)}}const Oh={name:"codeIndented",tokenize:_5},w5={partial:!0,tokenize:C5};function _5(e,s,r){const l=this;return o;function o(h){return e.enter("codeIndented"),It(e,u,"linePrefix",5)(h)}function u(h){const g=l.events[l.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?d(h):r(h)}function d(h){return h===null?x(h):Xe(h)?e.attempt(w5,d,x)(h):(e.enter("codeFlowValue"),f(h))}function f(h){return h===null||Xe(h)?(e.exit("codeFlowValue"),d(h)):(e.consume(h),f)}function x(h){return e.exit("codeIndented"),s(h)}}function C5(e,s,r){const l=this;return o;function o(d){return l.parser.lazy[l.now().line]?r(d):Xe(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),o):It(e,u,"linePrefix",5)(d)}function u(d){const f=l.events[l.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?s(d):Xe(d)?o(d):r(d)}}const T5={name:"codeText",previous:A5,resolve:k5,tokenize:R5};function k5(e){let s=e.length-4,r=3,l,o;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[s][1].type==="lineEnding"||e[s][1].type==="space")){for(l=r;++l<s;)if(e[l][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[s][1].type="codeTextPadding",r+=2,s-=2;break}}for(l=r-1,s++;++l<=s;)o===void 0?l!==s&&e[l][1].type!=="lineEnding"&&(o=l):(l===s||e[l][1].type==="lineEnding")&&(e[o][1].type="codeTextData",l!==o+2&&(e[o][1].end=e[l-1][1].end,e.splice(o+2,l-o-2),s-=l-o-2,l=o+2),o=void 0);return e}function A5(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function R5(e,s,r){let l=0,o,u;return d;function d(y){return e.enter("codeText"),e.enter("codeTextSequence"),f(y)}function f(y){return y===96?(e.consume(y),l++,f):(e.exit("codeTextSequence"),x(y))}function x(y){return y===null?r(y):y===32?(e.enter("space"),e.consume(y),e.exit("space"),x):y===96?(u=e.enter("codeTextSequence"),o=0,g(y)):Xe(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),x):(e.enter("codeTextData"),h(y))}function h(y){return y===null||y===32||y===96||Xe(y)?(e.exit("codeTextData"),x(y)):(e.consume(y),h)}function g(y){return y===96?(e.consume(y),o++,g):o===l?(e.exit("codeTextSequence"),e.exit("codeText"),s(y)):(u.type="codeTextData",h(y))}}class O5{constructor(s){this.left=s?[...s]:[],this.right=[]}get(s){if(s<0||s>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+s+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return s<this.left.length?this.left[s]:this.right[this.right.length-s+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(s,r){const l=r??Number.POSITIVE_INFINITY;return l<this.left.length?this.left.slice(s,l):s>this.left.length?this.right.slice(this.right.length-l+this.left.length,this.right.length-s+this.left.length).reverse():this.left.slice(s).concat(this.right.slice(this.right.length-l+this.left.length).reverse())}splice(s,r,l){const o=r||0;this.setCursor(Math.trunc(s));const u=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return l&&Io(this.left,l),u.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(s){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(s)}pushMany(s){this.setCursor(Number.POSITIVE_INFINITY),Io(this.left,s)}unshift(s){this.setCursor(0),this.right.push(s)}unshiftMany(s){this.setCursor(0),Io(this.right,s.reverse())}setCursor(s){if(!(s===this.left.length||s>this.left.length&&this.right.length===0||s<0&&this.left.length===0))if(s<this.left.length){const r=this.left.splice(s,Number.POSITIVE_INFINITY);Io(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-s,Number.POSITIVE_INFINITY);Io(this.left,r.reverse())}}}function Io(e,s){let r=0;if(s.length<1e4)e.push(...s);else for(;r<s.length;)e.push(...s.slice(r,r+1e4)),r+=1e4}function qS(e){const s={};let r=-1,l,o,u,d,f,x,h;const g=new O5(e);for(;++r<g.length;){for(;r in s;)r=s[r];if(l=g.get(r),r&&l[1].type==="chunkFlow"&&g.get(r-1)[1].type==="listItemPrefix"&&(x=l[1]._tokenizer.events,u=0,u<x.length&&x[u][1].type==="lineEndingBlank"&&(u+=2),u<x.length&&x[u][1].type==="content"))for(;++u<x.length&&x[u][1].type!=="content";)x[u][1].type==="chunkText"&&(x[u][1]._isInFirstContentOfListItem=!0,u++);if(l[0]==="enter")l[1].contentType&&(Object.assign(s,M5(g,r)),r=s[r],h=!0);else if(l[1]._container){for(u=r,o=void 0;u--;)if(d=g.get(u),d[1].type==="lineEnding"||d[1].type==="lineEndingBlank")d[0]==="enter"&&(o&&(g.get(o)[1].type="lineEndingBlank"),d[1].type="lineEnding",o=u);else if(!(d[1].type==="linePrefix"||d[1].type==="listItemIndent"))break;o&&(l[1].end={...g.get(o)[1].start},f=g.slice(o,r),f.unshift(l),g.splice(o,r-o+1,f))}}return bs(e,0,Number.POSITIVE_INFINITY,g.slice(0)),!h}function M5(e,s){const r=e.get(s)[1],l=e.get(s)[2];let o=s-1;const u=[];let d=r._tokenizer;d||(d=l.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(d._contentTypeTextTrailing=!0));const f=d.events,x=[],h={};let g,y,b=-1,N=r,C=0,S=0;const E=[S];for(;N;){for(;e.get(++o)[1]!==N;);u.push(o),N._tokenizer||(g=l.sliceStream(N),N.next||g.push(null),y&&d.defineSkip(N.start),N._isInFirstContentOfListItem&&(d._gfmTasklistFirstContentOfListItem=!0),d.write(g),N._isInFirstContentOfListItem&&(d._gfmTasklistFirstContentOfListItem=void 0)),y=N,N=N.next}for(N=r;++b<f.length;)f[b][0]==="exit"&&f[b-1][0]==="enter"&&f[b][1].type===f[b-1][1].type&&f[b][1].start.line!==f[b][1].end.line&&(S=b+1,E.push(S),N._tokenizer=void 0,N.previous=void 0,N=N.next);for(d.events=[],N?(N._tokenizer=void 0,N.previous=void 0):E.pop(),b=E.length;b--;){const w=f.slice(E[b],E[b+1]),R=u.pop();x.push([R,R+w.length-1]),e.splice(R,2,w)}for(x.reverse(),b=-1;++b<x.length;)h[C+x[b][0]]=C+x[b][1],C+=x[b][1]-x[b][0]-1;return h}const D5={resolve:I5,tokenize:z5},L5={partial:!0,tokenize:U5};function I5(e){return qS(e),e}function z5(e,s){let r;return l;function l(f){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),o(f)}function o(f){return f===null?u(f):Xe(f)?e.check(L5,d,u)(f):(e.consume(f),o)}function u(f){return e.exit("chunkContent"),e.exit("content"),s(f)}function d(f){return e.consume(f),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,o}}function U5(e,s,r){const l=this;return o;function o(d){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),It(e,u,"linePrefix")}function u(d){if(d===null||Xe(d))return r(d);const f=l.events[l.events.length-1];return!l.parser.constructs.disable.null.includes("codeIndented")&&f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?s(d):e.interrupt(l.parser.constructs.flow,r,s)(d)}}function GS(e,s,r,l,o,u,d,f,x){const h=x||Number.POSITIVE_INFINITY;let g=0;return y;function y(w){return w===60?(e.enter(l),e.enter(o),e.enter(u),e.consume(w),e.exit(u),b):w===null||w===32||w===41||bp(w)?r(w):(e.enter(l),e.enter(d),e.enter(f),e.enter("chunkString",{contentType:"string"}),S(w))}function b(w){return w===62?(e.enter(u),e.consume(w),e.exit(u),e.exit(o),e.exit(l),s):(e.enter(f),e.enter("chunkString",{contentType:"string"}),N(w))}function N(w){return w===62?(e.exit("chunkString"),e.exit(f),b(w)):w===null||w===60||Xe(w)?r(w):(e.consume(w),w===92?C:N)}function C(w){return w===60||w===62||w===92?(e.consume(w),N):N(w)}function S(w){return!g&&(w===null||w===41||Zn(w))?(e.exit("chunkString"),e.exit(f),e.exit(d),e.exit(l),s(w)):g<h&&w===40?(e.consume(w),g++,S):w===41?(e.consume(w),g--,S):w===null||w===32||w===40||bp(w)?r(w):(e.consume(w),w===92?E:S)}function E(w){return w===40||w===41||w===92?(e.consume(w),S):S(w)}}function VS(e,s,r,l,o,u){const d=this;let f=0,x;return h;function h(N){return e.enter(l),e.enter(o),e.consume(N),e.exit(o),e.enter(u),g}function g(N){return f>999||N===null||N===91||N===93&&!x||N===94&&!f&&"_hiddenFootnoteSupport"in d.parser.constructs?r(N):N===93?(e.exit(u),e.enter(o),e.consume(N),e.exit(o),e.exit(l),s):Xe(N)?(e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),g):(e.enter("chunkString",{contentType:"string"}),y(N))}function y(N){return N===null||N===91||N===93||Xe(N)||f++>999?(e.exit("chunkString"),g(N)):(e.consume(N),x||(x=!St(N)),N===92?b:y)}function b(N){return N===91||N===92||N===93?(e.consume(N),f++,y):y(N)}}function YS(e,s,r,l,o,u){let d;return f;function f(b){return b===34||b===39||b===40?(e.enter(l),e.enter(o),e.consume(b),e.exit(o),d=b===40?41:b,x):r(b)}function x(b){return b===d?(e.enter(o),e.consume(b),e.exit(o),e.exit(l),s):(e.enter(u),h(b))}function h(b){return b===d?(e.exit(u),x(d)):b===null?r(b):Xe(b)?(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),It(e,h,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),g(b))}function g(b){return b===d||b===null||Xe(b)?(e.exit("chunkString"),h(b)):(e.consume(b),b===92?y:g)}function y(b){return b===d||b===92?(e.consume(b),g):g(b)}}function Yo(e,s){let r;return l;function l(o){return Xe(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),r=!0,l):St(o)?It(e,l,r?"linePrefix":"lineSuffix")(o):s(o)}}const P5={name:"definition",tokenize:F5},B5={partial:!0,tokenize:H5};function F5(e,s,r){const l=this;let o;return u;function u(N){return e.enter("definition"),d(N)}function d(N){return VS.call(l,e,f,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(N)}function f(N){return o=bi(l.sliceSerialize(l.events[l.events.length-1][1]).slice(1,-1)),N===58?(e.enter("definitionMarker"),e.consume(N),e.exit("definitionMarker"),x):r(N)}function x(N){return Zn(N)?Yo(e,h)(N):h(N)}function h(N){return GS(e,g,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(N)}function g(N){return e.attempt(B5,y,y)(N)}function y(N){return St(N)?It(e,b,"whitespace")(N):b(N)}function b(N){return N===null||Xe(N)?(e.exit("definition"),l.parser.defined.push(o),s(N)):r(N)}}function H5(e,s,r){return l;function l(f){return Zn(f)?Yo(e,o)(f):r(f)}function o(f){return YS(e,u,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(f)}function u(f){return St(f)?It(e,d,"whitespace")(f):d(f)}function d(f){return f===null||Xe(f)?s(f):r(f)}}const q5={name:"hardBreakEscape",tokenize:G5};function G5(e,s,r){return l;function l(u){return e.enter("hardBreakEscape"),e.consume(u),o}function o(u){return Xe(u)?(e.exit("hardBreakEscape"),s(u)):r(u)}}const V5={name:"headingAtx",resolve:Y5,tokenize:$5};function Y5(e,s){let r=e.length-2,l=3,o,u;return e[l][1].type==="whitespace"&&(l+=2),r-2>l&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(l===r-1||r-4>l&&e[r-2][1].type==="whitespace")&&(r-=l+1===r?2:4),r>l&&(o={type:"atxHeadingText",start:e[l][1].start,end:e[r][1].end},u={type:"chunkText",start:e[l][1].start,end:e[r][1].end,contentType:"text"},bs(e,l,r-l+1,[["enter",o,s],["enter",u,s],["exit",u,s],["exit",o,s]])),e}function $5(e,s,r){let l=0;return o;function o(g){return e.enter("atxHeading"),u(g)}function u(g){return e.enter("atxHeadingSequence"),d(g)}function d(g){return g===35&&l++<6?(e.consume(g),d):g===null||Zn(g)?(e.exit("atxHeadingSequence"),f(g)):r(g)}function f(g){return g===35?(e.enter("atxHeadingSequence"),x(g)):g===null||Xe(g)?(e.exit("atxHeading"),s(g)):St(g)?It(e,f,"whitespace")(g):(e.enter("atxHeadingText"),h(g))}function x(g){return g===35?(e.consume(g),x):(e.exit("atxHeadingSequence"),f(g))}function h(g){return g===null||g===35||Zn(g)?(e.exit("atxHeadingText"),f(g)):(e.consume(g),h)}}const Q5=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],A1=["pre","script","style","textarea"],K5={concrete:!0,name:"htmlFlow",resolveTo:J5,tokenize:W5},X5={partial:!0,tokenize:tL},Z5={partial:!0,tokenize:eL};function J5(e){let s=e.length;for(;s--&&!(e[s][0]==="enter"&&e[s][1].type==="htmlFlow"););return s>1&&e[s-2][1].type==="linePrefix"&&(e[s][1].start=e[s-2][1].start,e[s+1][1].start=e[s-2][1].start,e.splice(s-2,2)),e}function W5(e,s,r){const l=this;let o,u,d,f,x;return h;function h(T){return g(T)}function g(T){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(T),y}function y(T){return T===33?(e.consume(T),b):T===47?(e.consume(T),u=!0,S):T===63?(e.consume(T),o=3,l.interrupt?s:M):us(T)?(e.consume(T),d=String.fromCharCode(T),E):r(T)}function b(T){return T===45?(e.consume(T),o=2,N):T===91?(e.consume(T),o=5,f=0,C):us(T)?(e.consume(T),o=4,l.interrupt?s:M):r(T)}function N(T){return T===45?(e.consume(T),l.interrupt?s:M):r(T)}function C(T){const I="CDATA[";return T===I.charCodeAt(f++)?(e.consume(T),f===I.length?l.interrupt?s:Y:C):r(T)}function S(T){return us(T)?(e.consume(T),d=String.fromCharCode(T),E):r(T)}function E(T){if(T===null||T===47||T===62||Zn(T)){const I=T===47,Z=d.toLowerCase();return!I&&!u&&A1.includes(Z)?(o=1,l.interrupt?s(T):Y(T)):Q5.includes(d.toLowerCase())?(o=6,I?(e.consume(T),w):l.interrupt?s(T):Y(T)):(o=7,l.interrupt&&!l.parser.lazy[l.now().line]?r(T):u?R(T):D(T))}return T===45||ma(T)?(e.consume(T),d+=String.fromCharCode(T),E):r(T)}function w(T){return T===62?(e.consume(T),l.interrupt?s:Y):r(T)}function R(T){return St(T)?(e.consume(T),R):X(T)}function D(T){return T===47?(e.consume(T),X):T===58||T===95||us(T)?(e.consume(T),Q):St(T)?(e.consume(T),D):X(T)}function Q(T){return T===45||T===46||T===58||T===95||ma(T)?(e.consume(T),Q):ae(T)}function ae(T){return T===61?(e.consume(T),k):St(T)?(e.consume(T),ae):D(T)}function k(T){return T===null||T===60||T===61||T===62||T===96?r(T):T===34||T===39?(e.consume(T),x=T,A):St(T)?(e.consume(T),k):L(T)}function A(T){return T===x?(e.consume(T),x=null,O):T===null||Xe(T)?r(T):(e.consume(T),A)}function L(T){return T===null||T===34||T===39||T===47||T===60||T===61||T===62||T===96||Zn(T)?ae(T):(e.consume(T),L)}function O(T){return T===47||T===62||St(T)?D(T):r(T)}function X(T){return T===62?(e.consume(T),ee):r(T)}function ee(T){return T===null||Xe(T)?Y(T):St(T)?(e.consume(T),ee):r(T)}function Y(T){return T===45&&o===2?(e.consume(T),B):T===60&&o===1?(e.consume(T),F):T===62&&o===4?(e.consume(T),z):T===63&&o===3?(e.consume(T),M):T===93&&o===5?(e.consume(T),_e):Xe(T)&&(o===6||o===7)?(e.exit("htmlFlowData"),e.check(X5,le,G)(T)):T===null||Xe(T)?(e.exit("htmlFlowData"),G(T)):(e.consume(T),Y)}function G(T){return e.check(Z5,J,le)(T)}function J(T){return e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),ne}function ne(T){return T===null||Xe(T)?G(T):(e.enter("htmlFlowData"),Y(T))}function B(T){return T===45?(e.consume(T),M):Y(T)}function F(T){return T===47?(e.consume(T),d="",q):Y(T)}function q(T){if(T===62){const I=d.toLowerCase();return A1.includes(I)?(e.consume(T),z):Y(T)}return us(T)&&d.length<8?(e.consume(T),d+=String.fromCharCode(T),q):Y(T)}function _e(T){return T===93?(e.consume(T),M):Y(T)}function M(T){return T===62?(e.consume(T),z):T===45&&o===2?(e.consume(T),M):Y(T)}function z(T){return T===null||Xe(T)?(e.exit("htmlFlowData"),le(T)):(e.consume(T),z)}function le(T){return e.exit("htmlFlow"),s(T)}}function eL(e,s,r){const l=this;return o;function o(d){return Xe(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),u):r(d)}function u(d){return l.parser.lazy[l.now().line]?r(d):s(d)}}function tL(e,s,r){return l;function l(o){return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),e.attempt(Bd,s,r)}}const nL={name:"htmlText",tokenize:aL};function aL(e,s,r){const l=this;let o,u,d;return f;function f(M){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(M),x}function x(M){return M===33?(e.consume(M),h):M===47?(e.consume(M),ae):M===63?(e.consume(M),D):us(M)?(e.consume(M),L):r(M)}function h(M){return M===45?(e.consume(M),g):M===91?(e.consume(M),u=0,C):us(M)?(e.consume(M),R):r(M)}function g(M){return M===45?(e.consume(M),N):r(M)}function y(M){return M===null?r(M):M===45?(e.consume(M),b):Xe(M)?(d=y,F(M)):(e.consume(M),y)}function b(M){return M===45?(e.consume(M),N):y(M)}function N(M){return M===62?B(M):M===45?b(M):y(M)}function C(M){const z="CDATA[";return M===z.charCodeAt(u++)?(e.consume(M),u===z.length?S:C):r(M)}function S(M){return M===null?r(M):M===93?(e.consume(M),E):Xe(M)?(d=S,F(M)):(e.consume(M),S)}function E(M){return M===93?(e.consume(M),w):S(M)}function w(M){return M===62?B(M):M===93?(e.consume(M),w):S(M)}function R(M){return M===null||M===62?B(M):Xe(M)?(d=R,F(M)):(e.consume(M),R)}function D(M){return M===null?r(M):M===63?(e.consume(M),Q):Xe(M)?(d=D,F(M)):(e.consume(M),D)}function Q(M){return M===62?B(M):D(M)}function ae(M){return us(M)?(e.consume(M),k):r(M)}function k(M){return M===45||ma(M)?(e.consume(M),k):A(M)}function A(M){return Xe(M)?(d=A,F(M)):St(M)?(e.consume(M),A):B(M)}function L(M){return M===45||ma(M)?(e.consume(M),L):M===47||M===62||Zn(M)?O(M):r(M)}function O(M){return M===47?(e.consume(M),B):M===58||M===95||us(M)?(e.consume(M),X):Xe(M)?(d=O,F(M)):St(M)?(e.consume(M),O):B(M)}function X(M){return M===45||M===46||M===58||M===95||ma(M)?(e.consume(M),X):ee(M)}function ee(M){return M===61?(e.consume(M),Y):Xe(M)?(d=ee,F(M)):St(M)?(e.consume(M),ee):O(M)}function Y(M){return M===null||M===60||M===61||M===62||M===96?r(M):M===34||M===39?(e.consume(M),o=M,G):Xe(M)?(d=Y,F(M)):St(M)?(e.consume(M),Y):(e.consume(M),J)}function G(M){return M===o?(e.consume(M),o=void 0,ne):M===null?r(M):Xe(M)?(d=G,F(M)):(e.consume(M),G)}function J(M){return M===null||M===34||M===39||M===60||M===61||M===96?r(M):M===47||M===62||Zn(M)?O(M):(e.consume(M),J)}function ne(M){return M===47||M===62||Zn(M)?O(M):r(M)}function B(M){return M===62?(e.consume(M),e.exit("htmlTextData"),e.exit("htmlText"),s):r(M)}function F(M){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(M),e.exit("lineEnding"),q}function q(M){return St(M)?It(e,_e,"linePrefix",l.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(M):_e(M)}function _e(M){return e.enter("htmlTextData"),d(M)}}const Sx={name:"labelEnd",resolveAll:iL,resolveTo:oL,tokenize:cL},sL={tokenize:uL},rL={tokenize:dL},lL={tokenize:fL};function iL(e){let s=-1;const r=[];for(;++s<e.length;){const l=e[s][1];if(r.push(e[s]),l.type==="labelImage"||l.type==="labelLink"||l.type==="labelEnd"){const o=l.type==="labelImage"?4:2;l.type="data",s+=o}}return e.length!==r.length&&bs(e,0,e.length,r),e}function oL(e,s){let r=e.length,l=0,o,u,d,f;for(;r--;)if(o=e[r][1],u){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;e[r][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(d){if(e[r][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(u=r,o.type!=="labelLink")){l=2;break}}else o.type==="labelEnd"&&(d=r);const x={type:e[u][1].type==="labelLink"?"link":"image",start:{...e[u][1].start},end:{...e[e.length-1][1].end}},h={type:"label",start:{...e[u][1].start},end:{...e[d][1].end}},g={type:"labelText",start:{...e[u+l+2][1].end},end:{...e[d-2][1].start}};return f=[["enter",x,s],["enter",h,s]],f=Ra(f,e.slice(u+1,u+l+3)),f=Ra(f,[["enter",g,s]]),f=Ra(f,jx(s.parser.constructs.insideSpan.null,e.slice(u+l+4,d-3),s)),f=Ra(f,[["exit",g,s],e[d-2],e[d-1],["exit",h,s]]),f=Ra(f,e.slice(d+1)),f=Ra(f,[["exit",x,s]]),bs(e,u,e.length,f),e}function cL(e,s,r){const l=this;let o=l.events.length,u,d;for(;o--;)if((l.events[o][1].type==="labelImage"||l.events[o][1].type==="labelLink")&&!l.events[o][1]._balanced){u=l.events[o][1];break}return f;function f(b){return u?u._inactive?y(b):(d=l.parser.defined.includes(bi(l.sliceSerialize({start:u.end,end:l.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(b),e.exit("labelMarker"),e.exit("labelEnd"),x):r(b)}function x(b){return b===40?e.attempt(sL,g,d?g:y)(b):b===91?e.attempt(rL,g,d?h:y)(b):d?g(b):y(b)}function h(b){return e.attempt(lL,g,y)(b)}function g(b){return s(b)}function y(b){return u._balanced=!0,r(b)}}function uL(e,s,r){return l;function l(y){return e.enter("resource"),e.enter("resourceMarker"),e.consume(y),e.exit("resourceMarker"),o}function o(y){return Zn(y)?Yo(e,u)(y):u(y)}function u(y){return y===41?g(y):GS(e,d,f,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(y)}function d(y){return Zn(y)?Yo(e,x)(y):g(y)}function f(y){return r(y)}function x(y){return y===34||y===39||y===40?YS(e,h,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(y):g(y)}function h(y){return Zn(y)?Yo(e,g)(y):g(y)}function g(y){return y===41?(e.enter("resourceMarker"),e.consume(y),e.exit("resourceMarker"),e.exit("resource"),s):r(y)}}function dL(e,s,r){const l=this;return o;function o(f){return VS.call(l,e,u,d,"reference","referenceMarker","referenceString")(f)}function u(f){return l.parser.defined.includes(bi(l.sliceSerialize(l.events[l.events.length-1][1]).slice(1,-1)))?s(f):r(f)}function d(f){return r(f)}}function fL(e,s,r){return l;function l(u){return e.enter("reference"),e.enter("referenceMarker"),e.consume(u),e.exit("referenceMarker"),o}function o(u){return u===93?(e.enter("referenceMarker"),e.consume(u),e.exit("referenceMarker"),e.exit("reference"),s):r(u)}}const mL={name:"labelStartImage",resolveAll:Sx.resolveAll,tokenize:hL};function hL(e,s,r){const l=this;return o;function o(f){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(f),e.exit("labelImageMarker"),u}function u(f){return f===91?(e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelImage"),d):r(f)}function d(f){return f===94&&"_hiddenFootnoteSupport"in l.parser.constructs?r(f):s(f)}}const pL={name:"labelStartLink",resolveAll:Sx.resolveAll,tokenize:xL};function xL(e,s,r){const l=this;return o;function o(d){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelLink"),u}function u(d){return d===94&&"_hiddenFootnoteSupport"in l.parser.constructs?r(d):s(d)}}const Mh={name:"lineEnding",tokenize:gL};function gL(e,s){return r;function r(l){return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),It(e,s,"linePrefix")}}const od={name:"thematicBreak",tokenize:yL};function yL(e,s,r){let l=0,o;return u;function u(h){return e.enter("thematicBreak"),d(h)}function d(h){return o=h,f(h)}function f(h){return h===o?(e.enter("thematicBreakSequence"),x(h)):l>=3&&(h===null||Xe(h))?(e.exit("thematicBreak"),s(h)):r(h)}function x(h){return h===o?(e.consume(h),l++,x):(e.exit("thematicBreakSequence"),St(h)?It(e,f,"whitespace")(h):f(h))}}const Xn={continuation:{tokenize:jL},exit:EL,name:"list",tokenize:NL},vL={partial:!0,tokenize:wL},bL={partial:!0,tokenize:SL};function NL(e,s,r){const l=this,o=l.events[l.events.length-1];let u=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,d=0;return f;function f(N){const C=l.containerState.type||(N===42||N===43||N===45?"listUnordered":"listOrdered");if(C==="listUnordered"?!l.containerState.marker||N===l.containerState.marker:Np(N)){if(l.containerState.type||(l.containerState.type=C,e.enter(C,{_container:!0})),C==="listUnordered")return e.enter("listItemPrefix"),N===42||N===45?e.check(od,r,h)(N):h(N);if(!l.interrupt||N===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),x(N)}return r(N)}function x(N){return Np(N)&&++d<10?(e.consume(N),x):(!l.interrupt||d<2)&&(l.containerState.marker?N===l.containerState.marker:N===41||N===46)?(e.exit("listItemValue"),h(N)):r(N)}function h(N){return e.enter("listItemMarker"),e.consume(N),e.exit("listItemMarker"),l.containerState.marker=l.containerState.marker||N,e.check(Bd,l.interrupt?r:g,e.attempt(vL,b,y))}function g(N){return l.containerState.initialBlankLine=!0,u++,b(N)}function y(N){return St(N)?(e.enter("listItemPrefixWhitespace"),e.consume(N),e.exit("listItemPrefixWhitespace"),b):r(N)}function b(N){return l.containerState.size=u+l.sliceSerialize(e.exit("listItemPrefix"),!0).length,s(N)}}function jL(e,s,r){const l=this;return l.containerState._closeFlow=void 0,e.check(Bd,o,u);function o(f){return l.containerState.furtherBlankLines=l.containerState.furtherBlankLines||l.containerState.initialBlankLine,It(e,s,"listItemIndent",l.containerState.size+1)(f)}function u(f){return l.containerState.furtherBlankLines||!St(f)?(l.containerState.furtherBlankLines=void 0,l.containerState.initialBlankLine=void 0,d(f)):(l.containerState.furtherBlankLines=void 0,l.containerState.initialBlankLine=void 0,e.attempt(bL,s,d)(f))}function d(f){return l.containerState._closeFlow=!0,l.interrupt=void 0,It(e,e.attempt(Xn,s,r),"linePrefix",l.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(f)}}function SL(e,s,r){const l=this;return It(e,o,"listItemIndent",l.containerState.size+1);function o(u){const d=l.events[l.events.length-1];return d&&d[1].type==="listItemIndent"&&d[2].sliceSerialize(d[1],!0).length===l.containerState.size?s(u):r(u)}}function EL(e){e.exit(this.containerState.type)}function wL(e,s,r){const l=this;return It(e,o,"listItemPrefixWhitespace",l.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(u){const d=l.events[l.events.length-1];return!St(u)&&d&&d[1].type==="listItemPrefixWhitespace"?s(u):r(u)}}const R1={name:"setextUnderline",resolveTo:_L,tokenize:CL};function _L(e,s){let r=e.length,l,o,u;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){l=r;break}e[r][1].type==="paragraph"&&(o=r)}else e[r][1].type==="content"&&e.splice(r,1),!u&&e[r][1].type==="definition"&&(u=r);const d={type:"setextHeading",start:{...e[l][1].start},end:{...e[e.length-1][1].end}};return e[o][1].type="setextHeadingText",u?(e.splice(o,0,["enter",d,s]),e.splice(u+1,0,["exit",e[l][1],s]),e[l][1].end={...e[u][1].end}):e[l][1]=d,e.push(["exit",d,s]),e}function CL(e,s,r){const l=this;let o;return u;function u(h){let g=l.events.length,y;for(;g--;)if(l.events[g][1].type!=="lineEnding"&&l.events[g][1].type!=="linePrefix"&&l.events[g][1].type!=="content"){y=l.events[g][1].type==="paragraph";break}return!l.parser.lazy[l.now().line]&&(l.interrupt||y)?(e.enter("setextHeadingLine"),o=h,d(h)):r(h)}function d(h){return e.enter("setextHeadingLineSequence"),f(h)}function f(h){return h===o?(e.consume(h),f):(e.exit("setextHeadingLineSequence"),St(h)?It(e,x,"lineSuffix")(h):x(h))}function x(h){return h===null||Xe(h)?(e.exit("setextHeadingLine"),s(h)):r(h)}}const TL={tokenize:kL};function kL(e){const s=this,r=e.attempt(Bd,l,e.attempt(this.parser.constructs.flowInitial,o,It(e,e.attempt(this.parser.constructs.flow,o,e.attempt(D5,o)),"linePrefix")));return r;function l(u){if(u===null){e.consume(u);return}return e.enter("lineEndingBlank"),e.consume(u),e.exit("lineEndingBlank"),s.currentConstruct=void 0,r}function o(u){if(u===null){e.consume(u);return}return e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),s.currentConstruct=void 0,r}}const AL={resolveAll:QS()},RL=$S("string"),OL=$S("text");function $S(e){return{resolveAll:QS(e==="text"?ML:void 0),tokenize:s};function s(r){const l=this,o=this.parser.constructs[e],u=r.attempt(o,d,f);return d;function d(g){return h(g)?u(g):f(g)}function f(g){if(g===null){r.consume(g);return}return r.enter("data"),r.consume(g),x}function x(g){return h(g)?(r.exit("data"),u(g)):(r.consume(g),x)}function h(g){if(g===null)return!0;const y=o[g];let b=-1;if(y)for(;++b<y.length;){const N=y[b];if(!N.previous||N.previous.call(l,l.previous))return!0}return!1}}}function QS(e){return s;function s(r,l){let o=-1,u;for(;++o<=r.length;)u===void 0?r[o]&&r[o][1].type==="data"&&(u=o,o++):(!r[o]||r[o][1].type!=="data")&&(o!==u+2&&(r[u][1].end=r[o-1][1].end,r.splice(u+2,o-u-2),o=u+2),u=void 0);return e?e(r,l):r}}function ML(e,s){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const l=e[r-1][1],o=s.sliceStream(l);let u=o.length,d=-1,f=0,x;for(;u--;){const h=o[u];if(typeof h=="string"){for(d=h.length;h.charCodeAt(d-1)===32;)f++,d--;if(d)break;d=-1}else if(h===-2)x=!0,f++;else if(h!==-1){u++;break}}if(s._contentTypeTextTrailing&&r===e.length&&(f=0),f){const h={type:r===e.length||x||f<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:u?d:l.start._bufferIndex+d,_index:l.start._index+u,line:l.end.line,column:l.end.column-f,offset:l.end.offset-f},end:{...l.end}};l.end={...h.start},l.start.offset===l.end.offset?Object.assign(l,h):(e.splice(r,0,["enter",h,s],["exit",h,s]),r+=2)}r++}return e}const DL={42:Xn,43:Xn,45:Xn,48:Xn,49:Xn,50:Xn,51:Xn,52:Xn,53:Xn,54:Xn,55:Xn,56:Xn,57:Xn,62:BS},LL={91:P5},IL={[-2]:Oh,[-1]:Oh,32:Oh},zL={35:V5,42:od,45:[R1,od],60:K5,61:R1,95:od,96:k1,126:k1},UL={38:HS,92:FS},PL={[-5]:Mh,[-4]:Mh,[-3]:Mh,33:mL,38:HS,42:jp,60:[p5,nL],91:pL,92:[q5,FS],93:Sx,95:jp,96:T5},BL={null:[jp,AL]},FL={null:[42,95]},HL={null:[]},qL=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:FL,contentInitial:LL,disable:HL,document:DL,flow:zL,flowInitial:IL,insideSpan:BL,string:UL,text:PL},Symbol.toStringTag,{value:"Module"}));function GL(e,s,r){let l={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const o={},u=[];let d=[],f=[];const x={attempt:A(ae),check:A(k),consume:R,enter:D,exit:Q,interrupt:A(k,{interrupt:!0})},h={code:null,containerState:{},defineSkip:S,events:[],now:C,parser:e,previous:null,sliceSerialize:b,sliceStream:N,write:y};let g=s.tokenize.call(h,x);return s.resolveAll&&u.push(s),h;function y(ee){return d=Ra(d,ee),E(),d[d.length-1]!==null?[]:(L(s,0),h.events=jx(u,h.events,h),h.events)}function b(ee,Y){return YL(N(ee),Y)}function N(ee){return VL(d,ee)}function C(){const{_bufferIndex:ee,_index:Y,line:G,column:J,offset:ne}=l;return{_bufferIndex:ee,_index:Y,line:G,column:J,offset:ne}}function S(ee){o[ee.line]=ee.column,X()}function E(){let ee;for(;l._index<d.length;){const Y=d[l._index];if(typeof Y=="string")for(ee=l._index,l._bufferIndex<0&&(l._bufferIndex=0);l._index===ee&&l._bufferIndex<Y.length;)w(Y.charCodeAt(l._bufferIndex));else w(Y)}}function w(ee){g=g(ee)}function R(ee){Xe(ee)?(l.line++,l.column=1,l.offset+=ee===-3?2:1,X()):ee!==-1&&(l.column++,l.offset++),l._bufferIndex<0?l._index++:(l._bufferIndex++,l._bufferIndex===d[l._index].length&&(l._bufferIndex=-1,l._index++)),h.previous=ee}function D(ee,Y){const G=Y||{};return G.type=ee,G.start=C(),h.events.push(["enter",G,h]),f.push(G),G}function Q(ee){const Y=f.pop();return Y.end=C(),h.events.push(["exit",Y,h]),Y}function ae(ee,Y){L(ee,Y.from)}function k(ee,Y){Y.restore()}function A(ee,Y){return G;function G(J,ne,B){let F,q,_e,M;return Array.isArray(J)?le(J):"tokenize"in J?le([J]):z(J);function z(ie){return Ne;function Ne(Fe){const Qe=Fe!==null&&ie[Fe],Dt=Fe!==null&&ie.null,en=[...Array.isArray(Qe)?Qe:Qe?[Qe]:[],...Array.isArray(Dt)?Dt:Dt?[Dt]:[]];return le(en)(Fe)}}function le(ie){return F=ie,q=0,ie.length===0?B:T(ie[q])}function T(ie){return Ne;function Ne(Fe){return M=O(),_e=ie,ie.partial||(h.currentConstruct=ie),ie.name&&h.parser.constructs.disable.null.includes(ie.name)?Z():ie.tokenize.call(Y?Object.assign(Object.create(h),Y):h,x,I,Z)(Fe)}}function I(ie){return ee(_e,M),ne}function Z(ie){return M.restore(),++q<F.length?T(F[q]):B}}}function L(ee,Y){ee.resolveAll&&!u.includes(ee)&&u.push(ee),ee.resolve&&bs(h.events,Y,h.events.length-Y,ee.resolve(h.events.slice(Y),h)),ee.resolveTo&&(h.events=ee.resolveTo(h.events,h))}function O(){const ee=C(),Y=h.previous,G=h.currentConstruct,J=h.events.length,ne=Array.from(f);return{from:J,restore:B};function B(){l=ee,h.previous=Y,h.currentConstruct=G,h.events.length=J,f=ne,X()}}function X(){l.line in o&&l.column<2&&(l.column=o[l.line],l.offset+=o[l.line]-1)}}function VL(e,s){const r=s.start._index,l=s.start._bufferIndex,o=s.end._index,u=s.end._bufferIndex;let d;if(r===o)d=[e[r].slice(l,u)];else{if(d=e.slice(r,o),l>-1){const f=d[0];typeof f=="string"?d[0]=f.slice(l):d.shift()}u>0&&d.push(e[o].slice(0,u))}return d}function YL(e,s){let r=-1;const l=[];let o;for(;++r<e.length;){const u=e[r];let d;if(typeof u=="string")d=u;else switch(u){case-5:{d="\r";break}case-4:{d=`
`;break}case-3:{d=`\r
`;break}case-2:{d=s?" ":"	";break}case-1:{if(!s&&o)continue;d=" ";break}default:d=String.fromCharCode(u)}o=u===-2,l.push(d)}return l.join("")}function $L(e){const l={constructs:e5([qL,...(e||{}).extensions||[]]),content:o(o5),defined:[],document:o(u5),flow:o(TL),lazy:{},string:o(RL),text:o(OL)};return l;function o(u){return d;function d(f){return GL(l,u,f)}}}function QL(e){for(;!qS(e););return e}const O1=/[\0\t\n\r]/g;function KL(){let e=1,s="",r=!0,l;return o;function o(u,d,f){const x=[];let h,g,y,b,N;for(u=s+(typeof u=="string"?u.toString():new TextDecoder(d||void 0).decode(u)),y=0,s="",r&&(u.charCodeAt(0)===65279&&y++,r=void 0);y<u.length;){if(O1.lastIndex=y,h=O1.exec(u),b=h&&h.index!==void 0?h.index:u.length,N=u.charCodeAt(b),!h){s=u.slice(y);break}if(N===10&&y===b&&l)x.push(-3),l=void 0;else switch(l&&(x.push(-5),l=void 0),y<b&&(x.push(u.slice(y,b)),e+=b-y),N){case 0:{x.push(65533),e++;break}case 9:{for(g=Math.ceil(e/4)*4,x.push(-2);e++<g;)x.push(-1);break}case 10:{x.push(-4),e=1;break}default:l=!0,e=1}y=b+1}return f&&(l&&x.push(-5),s&&x.push(s),x.push(null)),x}}const XL=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function ZL(e){return e.replace(XL,JL)}function JL(e,s,r){if(s)return s;if(r.charCodeAt(0)===35){const o=r.charCodeAt(1),u=o===120||o===88;return PS(r.slice(u?2:1),u?16:10)}return Nx(r)||e}const KS={}.hasOwnProperty;function WL(e,s,r){return typeof s!="string"&&(r=s,s=void 0),eI(r)(QL($L(r).document().write(KL()(e,s,!0))))}function eI(e){const s={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:u(Wn),autolinkProtocol:O,autolinkEmail:O,atxHeading:u(ga),blockQuote:u(Dt),characterEscape:O,characterReference:O,codeFenced:u(en),codeFencedFenceInfo:d,codeFencedFenceMeta:d,codeIndented:u(en,d),codeText:u(gt,d),codeTextData:O,data:O,codeFlowValue:O,definition:u(Fn),definitionDestinationString:d,definitionLabelString:d,definitionTitleString:d,emphasis:u(tn),hardBreakEscape:u(Ke),hardBreakTrailing:u(Ke),htmlFlow:u(kn,d),htmlFlowData:O,htmlText:u(kn,d),htmlTextData:O,image:u(ya),label:d,link:u(Wn),listItem:u(xe),listItemValue:b,listOrdered:u(yn,y),listUnordered:u(yn),paragraph:u(Et),reference:T,referenceString:d,resourceDestinationString:d,resourceTitleString:d,setextHeading:u(ga),strong:u(Gt),thematicBreak:u(Pt)},exit:{atxHeading:x(),atxHeadingSequence:ae,autolink:x(),autolinkEmail:Qe,autolinkProtocol:Fe,blockQuote:x(),characterEscapeValue:X,characterReferenceMarkerHexadecimal:Z,characterReferenceMarkerNumeric:Z,characterReferenceValue:ie,characterReference:Ne,codeFenced:x(E),codeFencedFence:S,codeFencedFenceInfo:N,codeFencedFenceMeta:C,codeFlowValue:X,codeIndented:x(w),codeText:x(ne),codeTextData:X,data:X,definition:x(),definitionDestinationString:Q,definitionLabelString:R,definitionTitleString:D,emphasis:x(),hardBreakEscape:x(Y),hardBreakTrailing:x(Y),htmlFlow:x(G),htmlFlowData:X,htmlText:x(J),htmlTextData:X,image:x(F),label:_e,labelText:q,lineEnding:ee,link:x(B),listItem:x(),listOrdered:x(),listUnordered:x(),paragraph:x(),referenceString:I,resourceDestinationString:M,resourceTitleString:z,resource:le,setextHeading:x(L),setextHeadingLineSequence:A,setextHeadingText:k,strong:x(),thematicBreak:x()}};XS(s,(e||{}).mdastExtensions||[]);const r={};return l;function l(ce){let ve={type:"root",children:[]};const ze={stack:[ve],tokenStack:[],config:s,enter:f,exit:h,buffer:d,resume:g,data:r},V=[];let De=-1;for(;++De<ce.length;)if(ce[De][1].type==="listOrdered"||ce[De][1].type==="listUnordered")if(ce[De][0]==="enter")V.push(De);else{const Vt=V.pop();De=o(ce,Vt,De)}for(De=-1;++De<ce.length;){const Vt=s[ce[De][0]];KS.call(Vt,ce[De][1].type)&&Vt[ce[De][1].type].call(Object.assign({sliceSerialize:ce[De][2].sliceSerialize},ze),ce[De][1])}if(ze.tokenStack.length>0){const Vt=ze.tokenStack[ze.tokenStack.length-1];(Vt[1]||M1).call(ze,void 0,Vt[0])}for(ve.position={start:Er(ce.length>0?ce[0][1].start:{line:1,column:1,offset:0}),end:Er(ce.length>0?ce[ce.length-2][1].end:{line:1,column:1,offset:0})},De=-1;++De<s.transforms.length;)ve=s.transforms[De](ve)||ve;return ve}function o(ce,ve,ze){let V=ve-1,De=-1,Vt=!1,ea,vn,_t,bn;for(;++V<=ze;){const wt=ce[V];switch(wt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{wt[0]==="enter"?De++:De--,bn=void 0;break}case"lineEndingBlank":{wt[0]==="enter"&&(ea&&!bn&&!De&&!_t&&(_t=V),bn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:bn=void 0}if(!De&&wt[0]==="enter"&&wt[1].type==="listItemPrefix"||De===-1&&wt[0]==="exit"&&(wt[1].type==="listUnordered"||wt[1].type==="listOrdered")){if(ea){let Fa=V;for(vn=void 0;Fa--;){const ta=ce[Fa];if(ta[1].type==="lineEnding"||ta[1].type==="lineEndingBlank"){if(ta[0]==="exit")continue;vn&&(ce[vn][1].type="lineEndingBlank",Vt=!0),ta[1].type="lineEnding",vn=Fa}else if(!(ta[1].type==="linePrefix"||ta[1].type==="blockQuotePrefix"||ta[1].type==="blockQuotePrefixWhitespace"||ta[1].type==="blockQuoteMarker"||ta[1].type==="listItemIndent"))break}_t&&(!vn||_t<vn)&&(ea._spread=!0),ea.end=Object.assign({},vn?ce[vn][1].start:wt[1].end),ce.splice(vn||V,0,["exit",ea,wt[2]]),V++,ze++}if(wt[1].type==="listItemPrefix"){const Fa={type:"listItem",_spread:!1,start:Object.assign({},wt[1].start),end:void 0};ea=Fa,ce.splice(V,0,["enter",Fa,wt[2]]),V++,ze++,_t=void 0,bn=!0}}}return ce[ve][1]._spread=Vt,ze}function u(ce,ve){return ze;function ze(V){f.call(this,ce(V),V),ve&&ve.call(this,V)}}function d(){this.stack.push({type:"fragment",children:[]})}function f(ce,ve,ze){this.stack[this.stack.length-1].children.push(ce),this.stack.push(ce),this.tokenStack.push([ve,ze||void 0]),ce.position={start:Er(ve.start),end:void 0}}function x(ce){return ve;function ve(ze){ce&&ce.call(this,ze),h.call(this,ze)}}function h(ce,ve){const ze=this.stack.pop(),V=this.tokenStack.pop();if(V)V[0].type!==ce.type&&(ve?ve.call(this,ce,V[0]):(V[1]||M1).call(this,ce,V[0]));else throw new Error("Cannot close `"+ce.type+"` ("+Vo({start:ce.start,end:ce.end})+"): its not open");ze.position.end=Er(ce.end)}function g(){return JD(this.stack.pop())}function y(){this.data.expectingFirstListItemValue=!0}function b(ce){if(this.data.expectingFirstListItemValue){const ve=this.stack[this.stack.length-2];ve.start=Number.parseInt(this.sliceSerialize(ce),10),this.data.expectingFirstListItemValue=void 0}}function N(){const ce=this.resume(),ve=this.stack[this.stack.length-1];ve.lang=ce}function C(){const ce=this.resume(),ve=this.stack[this.stack.length-1];ve.meta=ce}function S(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function E(){const ce=this.resume(),ve=this.stack[this.stack.length-1];ve.value=ce.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function w(){const ce=this.resume(),ve=this.stack[this.stack.length-1];ve.value=ce.replace(/(\r?\n|\r)$/g,"")}function R(ce){const ve=this.resume(),ze=this.stack[this.stack.length-1];ze.label=ve,ze.identifier=bi(this.sliceSerialize(ce)).toLowerCase()}function D(){const ce=this.resume(),ve=this.stack[this.stack.length-1];ve.title=ce}function Q(){const ce=this.resume(),ve=this.stack[this.stack.length-1];ve.url=ce}function ae(ce){const ve=this.stack[this.stack.length-1];if(!ve.depth){const ze=this.sliceSerialize(ce).length;ve.depth=ze}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function A(ce){const ve=this.stack[this.stack.length-1];ve.depth=this.sliceSerialize(ce).codePointAt(0)===61?1:2}function L(){this.data.setextHeadingSlurpLineEnding=void 0}function O(ce){const ze=this.stack[this.stack.length-1].children;let V=ze[ze.length-1];(!V||V.type!=="text")&&(V=bt(),V.position={start:Er(ce.start),end:void 0},ze.push(V)),this.stack.push(V)}function X(ce){const ve=this.stack.pop();ve.value+=this.sliceSerialize(ce),ve.position.end=Er(ce.end)}function ee(ce){const ve=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ze=ve.children[ve.children.length-1];ze.position.end=Er(ce.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&s.canContainEols.includes(ve.type)&&(O.call(this,ce),X.call(this,ce))}function Y(){this.data.atHardBreak=!0}function G(){const ce=this.resume(),ve=this.stack[this.stack.length-1];ve.value=ce}function J(){const ce=this.resume(),ve=this.stack[this.stack.length-1];ve.value=ce}function ne(){const ce=this.resume(),ve=this.stack[this.stack.length-1];ve.value=ce}function B(){const ce=this.stack[this.stack.length-1];if(this.data.inReference){const ve=this.data.referenceType||"shortcut";ce.type+="Reference",ce.referenceType=ve,delete ce.url,delete ce.title}else delete ce.identifier,delete ce.label;this.data.referenceType=void 0}function F(){const ce=this.stack[this.stack.length-1];if(this.data.inReference){const ve=this.data.referenceType||"shortcut";ce.type+="Reference",ce.referenceType=ve,delete ce.url,delete ce.title}else delete ce.identifier,delete ce.label;this.data.referenceType=void 0}function q(ce){const ve=this.sliceSerialize(ce),ze=this.stack[this.stack.length-2];ze.label=ZL(ve),ze.identifier=bi(ve).toLowerCase()}function _e(){const ce=this.stack[this.stack.length-1],ve=this.resume(),ze=this.stack[this.stack.length-1];if(this.data.inReference=!0,ze.type==="link"){const V=ce.children;ze.children=V}else ze.alt=ve}function M(){const ce=this.resume(),ve=this.stack[this.stack.length-1];ve.url=ce}function z(){const ce=this.resume(),ve=this.stack[this.stack.length-1];ve.title=ce}function le(){this.data.inReference=void 0}function T(){this.data.referenceType="collapsed"}function I(ce){const ve=this.resume(),ze=this.stack[this.stack.length-1];ze.label=ve,ze.identifier=bi(this.sliceSerialize(ce)).toLowerCase(),this.data.referenceType="full"}function Z(ce){this.data.characterReferenceType=ce.type}function ie(ce){const ve=this.sliceSerialize(ce),ze=this.data.characterReferenceType;let V;ze?(V=PS(ve,ze==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):V=Nx(ve);const De=this.stack[this.stack.length-1];De.value+=V}function Ne(ce){const ve=this.stack.pop();ve.position.end=Er(ce.end)}function Fe(ce){X.call(this,ce);const ve=this.stack[this.stack.length-1];ve.url=this.sliceSerialize(ce)}function Qe(ce){X.call(this,ce);const ve=this.stack[this.stack.length-1];ve.url="mailto:"+this.sliceSerialize(ce)}function Dt(){return{type:"blockquote",children:[]}}function en(){return{type:"code",lang:null,meta:null,value:""}}function gt(){return{type:"inlineCode",value:""}}function Fn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function tn(){return{type:"emphasis",children:[]}}function ga(){return{type:"heading",depth:0,children:[]}}function Ke(){return{type:"break"}}function kn(){return{type:"html",value:""}}function ya(){return{type:"image",title:null,url:"",alt:null}}function Wn(){return{type:"link",title:null,url:"",children:[]}}function yn(ce){return{type:"list",ordered:ce.type==="listOrdered",start:null,spread:ce._spread,children:[]}}function xe(ce){return{type:"listItem",spread:ce._spread,checked:null,children:[]}}function Et(){return{type:"paragraph",children:[]}}function Gt(){return{type:"strong",children:[]}}function bt(){return{type:"text",value:""}}function Pt(){return{type:"thematicBreak"}}}function Er(e){return{line:e.line,column:e.column,offset:e.offset}}function XS(e,s){let r=-1;for(;++r<s.length;){const l=s[r];Array.isArray(l)?XS(e,l):tI(e,l)}}function tI(e,s){let r;for(r in s)if(KS.call(s,r))switch(r){case"canContainEols":{const l=s[r];l&&e[r].push(...l);break}case"transforms":{const l=s[r];l&&e[r].push(...l);break}case"enter":case"exit":{const l=s[r];l&&Object.assign(e[r],l);break}}}function M1(e,s){throw e?new Error("Cannot close `"+e.type+"` ("+Vo({start:e.start,end:e.end})+"): a different token (`"+s.type+"`, "+Vo({start:s.start,end:s.end})+") is open"):new Error("Cannot close document, a token (`"+s.type+"`, "+Vo({start:s.start,end:s.end})+") is still open")}function nI(e){const s=this;s.parser=r;function r(l){return WL(l,{...s.data("settings"),...e,extensions:s.data("micromarkExtensions")||[],mdastExtensions:s.data("fromMarkdownExtensions")||[]})}}function aI(e,s){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(s),!0)};return e.patch(s,r),e.applyData(s,r)}function sI(e,s){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(s,r),[e.applyData(s,r),{type:"text",value:`
`}]}function rI(e,s){const r=s.value?s.value+`
`:"",l={},o=s.lang?s.lang.split(/\s+/):[];o.length>0&&(l.className=["language-"+o[0]]);let u={type:"element",tagName:"code",properties:l,children:[{type:"text",value:r}]};return s.meta&&(u.data={meta:s.meta}),e.patch(s,u),u=e.applyData(s,u),u={type:"element",tagName:"pre",properties:{},children:[u]},e.patch(s,u),u}function lI(e,s){const r={type:"element",tagName:"del",properties:{},children:e.all(s)};return e.patch(s,r),e.applyData(s,r)}function iI(e,s){const r={type:"element",tagName:"em",properties:{},children:e.all(s)};return e.patch(s,r),e.applyData(s,r)}function oI(e,s){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",l=String(s.identifier).toUpperCase(),o=Ii(l.toLowerCase()),u=e.footnoteOrder.indexOf(l);let d,f=e.footnoteCounts.get(l);f===void 0?(f=0,e.footnoteOrder.push(l),d=e.footnoteOrder.length):d=u+1,f+=1,e.footnoteCounts.set(l,f);const x={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+o,id:r+"fnref-"+o+(f>1?"-"+f:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(d)}]};e.patch(s,x);const h={type:"element",tagName:"sup",properties:{},children:[x]};return e.patch(s,h),e.applyData(s,h)}function cI(e,s){const r={type:"element",tagName:"h"+s.depth,properties:{},children:e.all(s)};return e.patch(s,r),e.applyData(s,r)}function uI(e,s){if(e.options.allowDangerousHtml){const r={type:"raw",value:s.value};return e.patch(s,r),e.applyData(s,r)}}function ZS(e,s){const r=s.referenceType;let l="]";if(r==="collapsed"?l+="[]":r==="full"&&(l+="["+(s.label||s.identifier)+"]"),s.type==="imageReference")return[{type:"text",value:"!["+s.alt+l}];const o=e.all(s),u=o[0];u&&u.type==="text"?u.value="["+u.value:o.unshift({type:"text",value:"["});const d=o[o.length-1];return d&&d.type==="text"?d.value+=l:o.push({type:"text",value:l}),o}function dI(e,s){const r=String(s.identifier).toUpperCase(),l=e.definitionById.get(r);if(!l)return ZS(e,s);const o={src:Ii(l.url||""),alt:s.alt};l.title!==null&&l.title!==void 0&&(o.title=l.title);const u={type:"element",tagName:"img",properties:o,children:[]};return e.patch(s,u),e.applyData(s,u)}function fI(e,s){const r={src:Ii(s.url)};s.alt!==null&&s.alt!==void 0&&(r.alt=s.alt),s.title!==null&&s.title!==void 0&&(r.title=s.title);const l={type:"element",tagName:"img",properties:r,children:[]};return e.patch(s,l),e.applyData(s,l)}function mI(e,s){const r={type:"text",value:s.value.replace(/\r?\n|\r/g," ")};e.patch(s,r);const l={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(s,l),e.applyData(s,l)}function hI(e,s){const r=String(s.identifier).toUpperCase(),l=e.definitionById.get(r);if(!l)return ZS(e,s);const o={href:Ii(l.url||"")};l.title!==null&&l.title!==void 0&&(o.title=l.title);const u={type:"element",tagName:"a",properties:o,children:e.all(s)};return e.patch(s,u),e.applyData(s,u)}function pI(e,s){const r={href:Ii(s.url)};s.title!==null&&s.title!==void 0&&(r.title=s.title);const l={type:"element",tagName:"a",properties:r,children:e.all(s)};return e.patch(s,l),e.applyData(s,l)}function xI(e,s,r){const l=e.all(s),o=r?gI(r):JS(s),u={},d=[];if(typeof s.checked=="boolean"){const g=l[0];let y;g&&g.type==="element"&&g.tagName==="p"?y=g:(y={type:"element",tagName:"p",properties:{},children:[]},l.unshift(y)),y.children.length>0&&y.children.unshift({type:"text",value:" "}),y.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:s.checked,disabled:!0},children:[]}),u.className=["task-list-item"]}let f=-1;for(;++f<l.length;){const g=l[f];(o||f!==0||g.type!=="element"||g.tagName!=="p")&&d.push({type:"text",value:`
`}),g.type==="element"&&g.tagName==="p"&&!o?d.push(...g.children):d.push(g)}const x=l[l.length-1];x&&(o||x.type!=="element"||x.tagName!=="p")&&d.push({type:"text",value:`
`});const h={type:"element",tagName:"li",properties:u,children:d};return e.patch(s,h),e.applyData(s,h)}function gI(e){let s=!1;if(e.type==="list"){s=e.spread||!1;const r=e.children;let l=-1;for(;!s&&++l<r.length;)s=JS(r[l])}return s}function JS(e){const s=e.spread;return s??e.children.length>1}function yI(e,s){const r={},l=e.all(s);let o=-1;for(typeof s.start=="number"&&s.start!==1&&(r.start=s.start);++o<l.length;){const d=l[o];if(d.type==="element"&&d.tagName==="li"&&d.properties&&Array.isArray(d.properties.className)&&d.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const u={type:"element",tagName:s.ordered?"ol":"ul",properties:r,children:e.wrap(l,!0)};return e.patch(s,u),e.applyData(s,u)}function vI(e,s){const r={type:"element",tagName:"p",properties:{},children:e.all(s)};return e.patch(s,r),e.applyData(s,r)}function bI(e,s){const r={type:"root",children:e.wrap(e.all(s))};return e.patch(s,r),e.applyData(s,r)}function NI(e,s){const r={type:"element",tagName:"strong",properties:{},children:e.all(s)};return e.patch(s,r),e.applyData(s,r)}function jI(e,s){const r=e.all(s),l=r.shift(),o=[];if(l){const d={type:"element",tagName:"thead",properties:{},children:e.wrap([l],!0)};e.patch(s.children[0],d),o.push(d)}if(r.length>0){const d={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},f=gx(s.children[1]),x=OS(s.children[s.children.length-1]);f&&x&&(d.position={start:f,end:x}),o.push(d)}const u={type:"element",tagName:"table",properties:{},children:e.wrap(o,!0)};return e.patch(s,u),e.applyData(s,u)}function SI(e,s,r){const l=r?r.children:void 0,u=(l?l.indexOf(s):1)===0?"th":"td",d=r&&r.type==="table"?r.align:void 0,f=d?d.length:s.children.length;let x=-1;const h=[];for(;++x<f;){const y=s.children[x],b={},N=d?d[x]:void 0;N&&(b.align=N);let C={type:"element",tagName:u,properties:b,children:[]};y&&(C.children=e.all(y),e.patch(y,C),C=e.applyData(y,C)),h.push(C)}const g={type:"element",tagName:"tr",properties:{},children:e.wrap(h,!0)};return e.patch(s,g),e.applyData(s,g)}function EI(e,s){const r={type:"element",tagName:"td",properties:{},children:e.all(s)};return e.patch(s,r),e.applyData(s,r)}const D1=9,L1=32;function wI(e){const s=String(e),r=/\r?\n|\r/g;let l=r.exec(s),o=0;const u=[];for(;l;)u.push(I1(s.slice(o,l.index),o>0,!0),l[0]),o=l.index+l[0].length,l=r.exec(s);return u.push(I1(s.slice(o),o>0,!1)),u.join("")}function I1(e,s,r){let l=0,o=e.length;if(s){let u=e.codePointAt(l);for(;u===D1||u===L1;)l++,u=e.codePointAt(l)}if(r){let u=e.codePointAt(o-1);for(;u===D1||u===L1;)o--,u=e.codePointAt(o-1)}return o>l?e.slice(l,o):""}function _I(e,s){const r={type:"text",value:wI(String(s.value))};return e.patch(s,r),e.applyData(s,r)}function CI(e,s){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(s,r),e.applyData(s,r)}const TI={blockquote:aI,break:sI,code:rI,delete:lI,emphasis:iI,footnoteReference:oI,heading:cI,html:uI,imageReference:dI,image:fI,inlineCode:mI,linkReference:hI,link:pI,listItem:xI,list:yI,paragraph:vI,root:bI,strong:NI,table:jI,tableCell:EI,tableRow:SI,text:_I,thematicBreak:CI,toml:Xu,yaml:Xu,definition:Xu,footnoteDefinition:Xu};function Xu(){}const WS=-1,Fd=0,$o=1,wd=2,Ex=3,wx=4,_x=5,Cx=6,eE=7,tE=8,z1=typeof self=="object"?self:globalThis,kI=(e,s)=>{const r=(o,u)=>(e.set(u,o),o),l=o=>{if(e.has(o))return e.get(o);const[u,d]=s[o];switch(u){case Fd:case WS:return r(d,o);case $o:{const f=r([],o);for(const x of d)f.push(l(x));return f}case wd:{const f=r({},o);for(const[x,h]of d)f[l(x)]=l(h);return f}case Ex:return r(new Date(d),o);case wx:{const{source:f,flags:x}=d;return r(new RegExp(f,x),o)}case _x:{const f=r(new Map,o);for(const[x,h]of d)f.set(l(x),l(h));return f}case Cx:{const f=r(new Set,o);for(const x of d)f.add(l(x));return f}case eE:{const{name:f,message:x}=d;return r(new z1[f](x),o)}case tE:return r(BigInt(d),o);case"BigInt":return r(Object(BigInt(d)),o);case"ArrayBuffer":return r(new Uint8Array(d).buffer,d);case"DataView":{const{buffer:f}=new Uint8Array(d);return r(new DataView(f),d)}}return r(new z1[u](d),o)};return l},U1=e=>kI(new Map,e)(0),di="",{toString:AI}={},{keys:RI}=Object,zo=e=>{const s=typeof e;if(s!=="object"||!e)return[Fd,s];const r=AI.call(e).slice(8,-1);switch(r){case"Array":return[$o,di];case"Object":return[wd,di];case"Date":return[Ex,di];case"RegExp":return[wx,di];case"Map":return[_x,di];case"Set":return[Cx,di];case"DataView":return[$o,r]}return r.includes("Array")?[$o,r]:r.includes("Error")?[eE,r]:[wd,r]},Zu=([e,s])=>e===Fd&&(s==="function"||s==="symbol"),OI=(e,s,r,l)=>{const o=(d,f)=>{const x=l.push(d)-1;return r.set(f,x),x},u=d=>{if(r.has(d))return r.get(d);let[f,x]=zo(d);switch(f){case Fd:{let g=d;switch(x){case"bigint":f=tE,g=d.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+x);g=null;break;case"undefined":return o([WS],d)}return o([f,g],d)}case $o:{if(x){let b=d;return x==="DataView"?b=new Uint8Array(d.buffer):x==="ArrayBuffer"&&(b=new Uint8Array(d)),o([x,[...b]],d)}const g=[],y=o([f,g],d);for(const b of d)g.push(u(b));return y}case wd:{if(x)switch(x){case"BigInt":return o([x,d.toString()],d);case"Boolean":case"Number":case"String":return o([x,d.valueOf()],d)}if(s&&"toJSON"in d)return u(d.toJSON());const g=[],y=o([f,g],d);for(const b of RI(d))(e||!Zu(zo(d[b])))&&g.push([u(b),u(d[b])]);return y}case Ex:return o([f,d.toISOString()],d);case wx:{const{source:g,flags:y}=d;return o([f,{source:g,flags:y}],d)}case _x:{const g=[],y=o([f,g],d);for(const[b,N]of d)(e||!(Zu(zo(b))||Zu(zo(N))))&&g.push([u(b),u(N)]);return y}case Cx:{const g=[],y=o([f,g],d);for(const b of d)(e||!Zu(zo(b)))&&g.push(u(b));return y}}const{message:h}=d;return o([f,{name:x,message:h}],d)};return u},P1=(e,{json:s,lossy:r}={})=>{const l=[];return OI(!(s||r),!!s,new Map,l)(e),l},_d=typeof structuredClone=="function"?(e,s)=>s&&("json"in s||"lossy"in s)?U1(P1(e,s)):structuredClone(e):(e,s)=>U1(P1(e,s));function MI(e,s){const r=[{type:"text",value:""}];return s>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(s)}]}),r}function DI(e,s){return"Back to reference "+(e+1)+(s>1?"-"+s:"")}function LI(e){const s=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||MI,l=e.options.footnoteBackLabel||DI,o=e.options.footnoteLabel||"Footnotes",u=e.options.footnoteLabelTagName||"h2",d=e.options.footnoteLabelProperties||{className:["sr-only"]},f=[];let x=-1;for(;++x<e.footnoteOrder.length;){const h=e.footnoteById.get(e.footnoteOrder[x]);if(!h)continue;const g=e.all(h),y=String(h.identifier).toUpperCase(),b=Ii(y.toLowerCase());let N=0;const C=[],S=e.footnoteCounts.get(y);for(;S!==void 0&&++N<=S;){C.length>0&&C.push({type:"text",value:" "});let R=typeof r=="string"?r:r(x,N);typeof R=="string"&&(R={type:"text",value:R}),C.push({type:"element",tagName:"a",properties:{href:"#"+s+"fnref-"+b+(N>1?"-"+N:""),dataFootnoteBackref:"",ariaLabel:typeof l=="string"?l:l(x,N),className:["data-footnote-backref"]},children:Array.isArray(R)?R:[R]})}const E=g[g.length-1];if(E&&E.type==="element"&&E.tagName==="p"){const R=E.children[E.children.length-1];R&&R.type==="text"?R.value+=" ":E.children.push({type:"text",value:" "}),E.children.push(...C)}else g.push(...C);const w={type:"element",tagName:"li",properties:{id:s+"fn-"+b},children:e.wrap(g,!0)};e.patch(h,w),f.push(w)}if(f.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:u,properties:{..._d(d),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(f,!0)},{type:"text",value:`
`}]}}const nE=(function(e){if(e==null)return PI;if(typeof e=="function")return Hd(e);if(typeof e=="object")return Array.isArray(e)?II(e):zI(e);if(typeof e=="string")return UI(e);throw new Error("Expected function, string, or object as test")});function II(e){const s=[];let r=-1;for(;++r<e.length;)s[r]=nE(e[r]);return Hd(l);function l(...o){let u=-1;for(;++u<s.length;)if(s[u].apply(this,o))return!0;return!1}}function zI(e){const s=e;return Hd(r);function r(l){const o=l;let u;for(u in e)if(o[u]!==s[u])return!1;return!0}}function UI(e){return Hd(s);function s(r){return r&&r.type===e}}function Hd(e){return s;function s(r,l,o){return!!(BI(r)&&e.call(this,r,typeof l=="number"?l:void 0,o||void 0))}}function PI(){return!0}function BI(e){return e!==null&&typeof e=="object"&&"type"in e}const aE=[],FI=!0,B1=!1,HI="skip";function qI(e,s,r,l){let o;typeof s=="function"&&typeof r!="function"?(l=r,r=s):o=s;const u=nE(o),d=l?-1:1;f(e,void 0,[])();function f(x,h,g){const y=x&&typeof x=="object"?x:{};if(typeof y.type=="string"){const N=typeof y.tagName=="string"?y.tagName:typeof y.name=="string"?y.name:void 0;Object.defineProperty(b,"name",{value:"node ("+(x.type+(N?"<"+N+">":""))+")"})}return b;function b(){let N=aE,C,S,E;if((!s||u(x,h,g[g.length-1]||void 0))&&(N=GI(r(x,g)),N[0]===B1))return N;if("children"in x&&x.children){const w=x;if(w.children&&N[0]!==HI)for(S=(l?w.children.length:-1)+d,E=g.concat(w);S>-1&&S<w.children.length;){const R=w.children[S];if(C=f(R,S,E)(),C[0]===B1)return C;S=typeof C[1]=="number"?C[1]:S+d}}return N}}}function GI(e){return Array.isArray(e)?e:typeof e=="number"?[FI,e]:e==null?aE:[e]}function sE(e,s,r,l){let o,u,d;typeof s=="function"&&typeof r!="function"?(u=void 0,d=s,o=r):(u=s,d=r,o=l),qI(e,u,f,o);function f(x,h){const g=h[h.length-1],y=g?g.children.indexOf(x):void 0;return d(x,y,g)}}const Sp={}.hasOwnProperty,VI={};function YI(e,s){const r=s||VI,l=new Map,o=new Map,u=new Map,d={...TI,...r.handlers},f={all:h,applyData:QI,definitionById:l,footnoteById:o,footnoteCounts:u,footnoteOrder:[],handlers:d,one:x,options:r,patch:$I,wrap:XI};return sE(e,function(g){if(g.type==="definition"||g.type==="footnoteDefinition"){const y=g.type==="definition"?l:o,b=String(g.identifier).toUpperCase();y.has(b)||y.set(b,g)}}),f;function x(g,y){const b=g.type,N=f.handlers[b];if(Sp.call(f.handlers,b)&&N)return N(f,g,y);if(f.options.passThrough&&f.options.passThrough.includes(b)){if("children"in g){const{children:S,...E}=g,w=_d(E);return w.children=f.all(g),w}return _d(g)}return(f.options.unknownHandler||KI)(f,g,y)}function h(g){const y=[];if("children"in g){const b=g.children;let N=-1;for(;++N<b.length;){const C=f.one(b[N],g);if(C){if(N&&b[N-1].type==="break"&&(!Array.isArray(C)&&C.type==="text"&&(C.value=F1(C.value)),!Array.isArray(C)&&C.type==="element")){const S=C.children[0];S&&S.type==="text"&&(S.value=F1(S.value))}Array.isArray(C)?y.push(...C):y.push(C)}}}return y}}function $I(e,s){e.position&&(s.position=AD(e))}function QI(e,s){let r=s;if(e&&e.data){const l=e.data.hName,o=e.data.hChildren,u=e.data.hProperties;if(typeof l=="string")if(r.type==="element")r.tagName=l;else{const d="children"in r?r.children:[r];r={type:"element",tagName:l,properties:{},children:d}}r.type==="element"&&u&&Object.assign(r.properties,_d(u)),"children"in r&&r.children&&o!==null&&o!==void 0&&(r.children=o)}return r}function KI(e,s){const r=s.data||{},l="value"in s&&!(Sp.call(r,"hProperties")||Sp.call(r,"hChildren"))?{type:"text",value:s.value}:{type:"element",tagName:"div",properties:{},children:e.all(s)};return e.patch(s,l),e.applyData(s,l)}function XI(e,s){const r=[];let l=-1;for(s&&r.push({type:"text",value:`
`});++l<e.length;)l&&r.push({type:"text",value:`
`}),r.push(e[l]);return s&&e.length>0&&r.push({type:"text",value:`
`}),r}function F1(e){let s=0,r=e.charCodeAt(s);for(;r===9||r===32;)s++,r=e.charCodeAt(s);return e.slice(s)}function H1(e,s){const r=YI(e,s),l=r.one(e,void 0),o=LI(r),u=Array.isArray(l)?{type:"root",children:l}:l||{type:"root",children:[]};return o&&u.children.push({type:"text",value:`
`},o),u}function ZI(e,s){return e&&"run"in e?async function(r,l){const o=H1(r,{file:l,...s});await e.run(o,l)}:function(r,l){return H1(r,{file:l,...e||s})}}function q1(e){if(e)throw e}var Dh,G1;function JI(){if(G1)return Dh;G1=1;var e=Object.prototype.hasOwnProperty,s=Object.prototype.toString,r=Object.defineProperty,l=Object.getOwnPropertyDescriptor,o=function(h){return typeof Array.isArray=="function"?Array.isArray(h):s.call(h)==="[object Array]"},u=function(h){if(!h||s.call(h)!=="[object Object]")return!1;var g=e.call(h,"constructor"),y=h.constructor&&h.constructor.prototype&&e.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!g&&!y)return!1;var b;for(b in h);return typeof b>"u"||e.call(h,b)},d=function(h,g){r&&g.name==="__proto__"?r(h,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):h[g.name]=g.newValue},f=function(h,g){if(g==="__proto__")if(e.call(h,g)){if(l)return l(h,g).value}else return;return h[g]};return Dh=function x(){var h,g,y,b,N,C,S=arguments[0],E=1,w=arguments.length,R=!1;for(typeof S=="boolean"&&(R=S,S=arguments[1]||{},E=2),(S==null||typeof S!="object"&&typeof S!="function")&&(S={});E<w;++E)if(h=arguments[E],h!=null)for(g in h)y=f(S,g),b=f(h,g),S!==b&&(R&&b&&(u(b)||(N=o(b)))?(N?(N=!1,C=y&&o(y)?y:[]):C=y&&u(y)?y:{},d(S,{name:g,newValue:x(R,C,b)})):typeof b<"u"&&d(S,{name:g,newValue:b}));return S},Dh}var WI=JI();const Lh=sc(WI);function Ep(e){if(typeof e!="object"||e===null)return!1;const s=Object.getPrototypeOf(e);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function ez(){const e=[],s={run:r,use:l};return s;function r(...o){let u=-1;const d=o.pop();if(typeof d!="function")throw new TypeError("Expected function as last argument, not "+d);f(null,...o);function f(x,...h){const g=e[++u];let y=-1;if(x){d(x);return}for(;++y<o.length;)(h[y]===null||h[y]===void 0)&&(h[y]=o[y]);o=h,g?tz(g,f)(...h):d(null,...h)}}function l(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return e.push(o),s}}function tz(e,s){let r;return l;function l(...d){const f=e.length>d.length;let x;f&&d.push(o);try{x=e.apply(this,d)}catch(h){const g=h;if(f&&r)throw g;return o(g)}f||(x&&x.then&&typeof x.then=="function"?x.then(u,o):x instanceof Error?o(x):u(x))}function o(d,...f){r||(r=!0,s(d,...f))}function u(d){o(null,d)}}const is={basename:nz,dirname:az,extname:sz,join:rz,sep:"/"};function nz(e,s){if(s!==void 0&&typeof s!="string")throw new TypeError('"ext" argument must be a string');pc(e);let r=0,l=-1,o=e.length,u;if(s===void 0||s.length===0||s.length>e.length){for(;o--;)if(e.codePointAt(o)===47){if(u){r=o+1;break}}else l<0&&(u=!0,l=o+1);return l<0?"":e.slice(r,l)}if(s===e)return"";let d=-1,f=s.length-1;for(;o--;)if(e.codePointAt(o)===47){if(u){r=o+1;break}}else d<0&&(u=!0,d=o+1),f>-1&&(e.codePointAt(o)===s.codePointAt(f--)?f<0&&(l=o):(f=-1,l=d));return r===l?l=d:l<0&&(l=e.length),e.slice(r,l)}function az(e){if(pc(e),e.length===0)return".";let s=-1,r=e.length,l;for(;--r;)if(e.codePointAt(r)===47){if(l){s=r;break}}else l||(l=!0);return s<0?e.codePointAt(0)===47?"/":".":s===1&&e.codePointAt(0)===47?"//":e.slice(0,s)}function sz(e){pc(e);let s=e.length,r=-1,l=0,o=-1,u=0,d;for(;s--;){const f=e.codePointAt(s);if(f===47){if(d){l=s+1;break}continue}r<0&&(d=!0,r=s+1),f===46?o<0?o=s:u!==1&&(u=1):o>-1&&(u=-1)}return o<0||r<0||u===0||u===1&&o===r-1&&o===l+1?"":e.slice(o,r)}function rz(...e){let s=-1,r;for(;++s<e.length;)pc(e[s]),e[s]&&(r=r===void 0?e[s]:r+"/"+e[s]);return r===void 0?".":lz(r)}function lz(e){pc(e);const s=e.codePointAt(0)===47;let r=iz(e,!s);return r.length===0&&!s&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),s?"/"+r:r}function iz(e,s){let r="",l=0,o=-1,u=0,d=-1,f,x;for(;++d<=e.length;){if(d<e.length)f=e.codePointAt(d);else{if(f===47)break;f=47}if(f===47){if(!(o===d-1||u===1))if(o!==d-1&&u===2){if(r.length<2||l!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(x=r.lastIndexOf("/"),x!==r.length-1){x<0?(r="",l=0):(r=r.slice(0,x),l=r.length-1-r.lastIndexOf("/")),o=d,u=0;continue}}else if(r.length>0){r="",l=0,o=d,u=0;continue}}s&&(r=r.length>0?r+"/..":"..",l=2)}else r.length>0?r+="/"+e.slice(o+1,d):r=e.slice(o+1,d),l=d-o-1;o=d,u=0}else f===46&&u>-1?u++:u=-1}return r}function pc(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const oz={cwd:cz};function cz(){return"/"}function wp(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function uz(e){if(typeof e=="string")e=new URL(e);else if(!wp(e)){const s=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw s.code="ERR_INVALID_ARG_TYPE",s}if(e.protocol!=="file:"){const s=new TypeError("The URL must be of scheme file");throw s.code="ERR_INVALID_URL_SCHEME",s}return dz(e)}function dz(e){if(e.hostname!==""){const l=new TypeError('File URL host must be "localhost" or empty on darwin');throw l.code="ERR_INVALID_FILE_URL_HOST",l}const s=e.pathname;let r=-1;for(;++r<s.length;)if(s.codePointAt(r)===37&&s.codePointAt(r+1)===50){const l=s.codePointAt(r+2);if(l===70||l===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(s)}const Ih=["history","path","basename","stem","extname","dirname"];class rE{constructor(s){let r;s?wp(s)?r={path:s}:typeof s=="string"||fz(s)?r={value:s}:r=s:r={},this.cwd="cwd"in r?"":oz.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let l=-1;for(;++l<Ih.length;){const u=Ih[l];u in r&&r[u]!==void 0&&r[u]!==null&&(this[u]=u==="history"?[...r[u]]:r[u])}let o;for(o in r)Ih.includes(o)||(this[o]=r[o])}get basename(){return typeof this.path=="string"?is.basename(this.path):void 0}set basename(s){Uh(s,"basename"),zh(s,"basename"),this.path=is.join(this.dirname||"",s)}get dirname(){return typeof this.path=="string"?is.dirname(this.path):void 0}set dirname(s){V1(this.basename,"dirname"),this.path=is.join(s||"",this.basename)}get extname(){return typeof this.path=="string"?is.extname(this.path):void 0}set extname(s){if(zh(s,"extname"),V1(this.dirname,"extname"),s){if(s.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(s.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=is.join(this.dirname,this.stem+(s||""))}get path(){return this.history[this.history.length-1]}set path(s){wp(s)&&(s=uz(s)),Uh(s,"path"),this.path!==s&&this.history.push(s)}get stem(){return typeof this.path=="string"?is.basename(this.path,this.extname):void 0}set stem(s){Uh(s,"stem"),zh(s,"stem"),this.path=is.join(this.dirname||"",s+(this.extname||""))}fail(s,r,l){const o=this.message(s,r,l);throw o.fatal=!0,o}info(s,r,l){const o=this.message(s,r,l);return o.fatal=void 0,o}message(s,r,l){const o=new In(s,r,l);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(s){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(s||void 0).decode(this.value)}}function zh(e,s){if(e&&e.includes(is.sep))throw new Error("`"+s+"` cannot be a path: did not expect `"+is.sep+"`")}function Uh(e,s){if(!e)throw new Error("`"+s+"` cannot be empty")}function V1(e,s){if(!e)throw new Error("Setting `"+s+"` requires `path` to be set too")}function fz(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const mz=(function(e){const l=this.constructor.prototype,o=l[e],u=function(){return o.apply(u,arguments)};return Object.setPrototypeOf(u,l),u}),hz={}.hasOwnProperty;class Tx extends mz{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=ez()}copy(){const s=new Tx;let r=-1;for(;++r<this.attachers.length;){const l=this.attachers[r];s.use(...l)}return s.data(Lh(!0,{},this.namespace)),s}data(s,r){return typeof s=="string"?arguments.length===2?(Fh("data",this.frozen),this.namespace[s]=r,this):hz.call(this.namespace,s)&&this.namespace[s]||void 0:s?(Fh("data",this.frozen),this.namespace=s,this):this.namespace}freeze(){if(this.frozen)return this;const s=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...l]=this.attachers[this.freezeIndex];if(l[0]===!1)continue;l[0]===!0&&(l[0]=void 0);const o=r.call(s,...l);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(s){this.freeze();const r=Ju(s),l=this.parser||this.Parser;return Ph("parse",l),l(String(r),r)}process(s,r){const l=this;return this.freeze(),Ph("process",this.parser||this.Parser),Bh("process",this.compiler||this.Compiler),r?o(void 0,r):new Promise(o);function o(u,d){const f=Ju(s),x=l.parse(f);l.run(x,f,function(g,y,b){if(g||!y||!b)return h(g);const N=y,C=l.stringify(N,b);gz(C)?b.value=C:b.result=C,h(g,b)});function h(g,y){g||!y?d(g):u?u(y):r(void 0,y)}}}processSync(s){let r=!1,l;return this.freeze(),Ph("processSync",this.parser||this.Parser),Bh("processSync",this.compiler||this.Compiler),this.process(s,o),$1("processSync","process",r),l;function o(u,d){r=!0,q1(u),l=d}}run(s,r,l){Y1(s),this.freeze();const o=this.transformers;return!l&&typeof r=="function"&&(l=r,r=void 0),l?u(void 0,l):new Promise(u);function u(d,f){const x=Ju(r);o.run(s,x,h);function h(g,y,b){const N=y||s;g?f(g):d?d(N):l(void 0,N,b)}}}runSync(s,r){let l=!1,o;return this.run(s,r,u),$1("runSync","run",l),o;function u(d,f){q1(d),o=f,l=!0}}stringify(s,r){this.freeze();const l=Ju(r),o=this.compiler||this.Compiler;return Bh("stringify",o),Y1(s),o(s,l)}use(s,...r){const l=this.attachers,o=this.namespace;if(Fh("use",this.frozen),s!=null)if(typeof s=="function")x(s,r);else if(typeof s=="object")Array.isArray(s)?f(s):d(s);else throw new TypeError("Expected usable value, not `"+s+"`");return this;function u(h){if(typeof h=="function")x(h,[]);else if(typeof h=="object")if(Array.isArray(h)){const[g,...y]=h;x(g,y)}else d(h);else throw new TypeError("Expected usable value, not `"+h+"`")}function d(h){if(!("plugins"in h)&&!("settings"in h))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");f(h.plugins),h.settings&&(o.settings=Lh(!0,o.settings,h.settings))}function f(h){let g=-1;if(h!=null)if(Array.isArray(h))for(;++g<h.length;){const y=h[g];u(y)}else throw new TypeError("Expected a list of plugins, not `"+h+"`")}function x(h,g){let y=-1,b=-1;for(;++y<l.length;)if(l[y][0]===h){b=y;break}if(b===-1)l.push([h,...g]);else if(g.length>0){let[N,...C]=g;const S=l[b][1];Ep(S)&&Ep(N)&&(N=Lh(!0,S,N)),l[b]=[h,N,...C]}}}}const pz=new Tx().freeze();function Ph(e,s){if(typeof s!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Bh(e,s){if(typeof s!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Fh(e,s){if(s)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Y1(e){if(!Ep(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function $1(e,s,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+s+"` instead")}function Ju(e){return xz(e)?e:new rE(e)}function xz(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function gz(e){return typeof e=="string"||yz(e)}function yz(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const vz="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Q1=[],K1={allowDangerousHtml:!0},bz=/^(https?|ircs?|mailto|xmpp)$/i,Nz=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function jz(e){const s=Sz(e),r=Ez(e);return wz(s.runSync(s.parse(r),r),e)}function Sz(e){const s=e.rehypePlugins||Q1,r=e.remarkPlugins||Q1,l=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...K1}:K1;return pz().use(nI).use(r).use(ZI,l).use(s)}function Ez(e){const s=e.children||"",r=new rE;return typeof s=="string"&&(r.value=s),r}function wz(e,s){const r=s.allowedElements,l=s.allowElement,o=s.components,u=s.disallowedElements,d=s.skipHtml,f=s.unwrapDisallowed,x=s.urlTransform||_z;for(const g of Nz)Object.hasOwn(s,g.from)&&(""+g.from+(g.to?"use `"+g.to+"` instead":"remove it")+vz+g.id,void 0);return sE(e,h),LD(e,{Fragment:n.Fragment,components:o,ignoreInvalidStyle:!0,jsx:n.jsx,jsxs:n.jsxs,passKeys:!0,passNode:!0});function h(g,y,b){if(g.type==="raw"&&b&&typeof y=="number")return d?b.children.splice(y,1):b.children[y]={type:"text",value:g.value},y;if(g.type==="element"){let N;for(N in Rh)if(Object.hasOwn(Rh,N)&&Object.hasOwn(g.properties,N)){const C=g.properties[N],S=Rh[N];(S===null||S.includes(g.tagName))&&(g.properties[N]=x(String(C||""),N,g))}}if(g.type==="element"){let N=r?!r.includes(g.tagName):u?u.includes(g.tagName):!1;if(!N&&l&&typeof y=="number"&&(N=!l(g,y,b)),N&&b&&typeof y=="number")return f&&g.children?b.children.splice(y,1,...g.children):b.children.splice(y,1),y}}}function _z(e){const s=e.indexOf(":"),r=e.indexOf("?"),l=e.indexOf("#"),o=e.indexOf("/");return s===-1||o!==-1&&s>o||r!==-1&&s>r||l!==-1&&s>l||bz.test(e.slice(0,s))?e:""}function ki({content:e,className:s}){return n.jsx("div",{className:he("prose prose-sm dark:prose-invert max-w-none","prose-headings:font-semibold prose-headings:text-foreground","prose-p:text-muted-foreground prose-p:leading-relaxed","prose-ul:text-muted-foreground prose-ol:text-muted-foreground","prose-li:marker:text-muted-foreground","prose-a:text-blue-500 prose-a:no-underline hover:prose-a:underline","prose-code:text-foreground prose-code:bg-muted prose-code:px-1 prose-code:py-0.5 prose-code:rounded prose-code:text-xs","prose-pre:bg-muted prose-pre:text-foreground","prose-strong:text-foreground prose-strong:font-semibold",s),children:n.jsx(jz,{children:e})})}function xc({open:e,onOpenChange:s,title:r,subtitle:l,content:o,icon:u,renderMarkdown:d=!1}){const[f,x]=v.useState(!1),h=v.useRef(void 0);v.useEffect(()=>()=>clearTimeout(h.current),[]);const g=async()=>{await navigator.clipboard.writeText(o),x(!0),clearTimeout(h.current),h.current=setTimeout(()=>x(!1),2e3)};return n.jsx(ux,{open:e,onOpenChange:s,children:n.jsxs(dx,{children:[n.jsx(fx,{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm data-[state=open]:animate-in data-[state=open]:fade-in-0 data-[state=closed]:animate-out data-[state=closed]:fade-out-0"}),n.jsxs(mx,{className:"fixed left-[50%] top-[50%] z-50 translate-x-[-50%] translate-y-[-50%] w-full max-w-4xl max-h-[85vh] rounded-lg border bg-background shadow-lg data-[state=open]:animate-in data-[state=open]:fade-in-0 data-[state=open]:zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 flex flex-col mx-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[u||n.jsx(Pn,{className:"h-5 w-5 text-amber-500"}),n.jsxs("div",{children:[n.jsx(hx,{className:"text-lg font-semibold",children:r}),l&&n.jsx(Sd,{className:"text-sm text-muted-foreground",children:l})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(fe,{variant:"outline",size:"sm",onClick:g,className:"h-8 gap-2",children:f?n.jsxs(n.Fragment,{children:[n.jsx(pa,{className:"h-4 w-4"}),"Copied"]}):n.jsxs(n.Fragment,{children:[n.jsx(Sl,{className:"h-4 w-4"}),"Copy"]})}),n.jsx(Ed,{asChild:!0,children:n.jsx(fe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0","aria-label":"Close",children:n.jsx(Cn,{className:"h-4 w-4"})})})]})]}),!l&&n.jsxs(Sd,{className:"sr-only",children:["View content for ",r]}),n.jsx("div",{className:"flex-1 overflow-auto p-4",children:d?n.jsx("div",{className:"bg-muted/30 p-4 rounded-lg",children:n.jsx(ki,{content:o||"No content available"})}):n.jsx("pre",{className:"whitespace-pre-wrap font-mono text-sm bg-muted/30 p-4 rounded-lg",children:o||"No content available"})})]})]})})}function gc(){const[e,s]=v.useState(!1),[r,l]=v.useState(null);return{isOpen:e,setIsOpen:s,dialogContent:r,openDialog:(d,f,x,h)=>{l({title:d,content:f,subtitle:x,renderMarkdown:h}),s(!0)},closeDialog:()=>{s(!1),l(null)}}}const Hh=20,X1={title:"Delete Plan",description:"This will remove this plan from the search index. The original plan file (if any) will not be deleted. This action cannot be undone."};function Cz(){const{offset:e,loadedItems:s,handleLoadMore:r,reset:l}=lx(Hh),[o,u]=v.useState(JN),{data:d,isLoading:f,isFetching:x,refetch:h}=Bj({limit:Hh,offset:e,sort:o});ES(d?.plans??[]);const g=G=>{u(G),l()},y=Vj(),{isOpen:b,setIsOpen:N,itemToDelete:C,openDialog:S,closeDialog:E}=pl(),{isOpen:w,setIsOpen:R,dialogContent:D,openDialog:Q}=gc(),ae=async()=>{if(C)try{await y.mutateAsync(`plan-${C}`),E(),l(),h()}catch(G){console.error("Failed to delete plan:",G)}},k=(G,J)=>{G.preventDefault(),G.stopPropagation(),S(J)},A=async G=>{try{const B=(await we(`/api/activity/sessions/${G.session_id}`)).prompt_batches?.find(F=>String(F.id)===String(G.id))?.plan_content||G.preview;Q(G.title,B,G.file_path||void 0,!0)}catch{Q(G.title,G.preview,G.file_path||void 0,!0)}},[L,O]=v.useState(null),X=async(G,J)=>{if(G.preventDefault(),G.stopPropagation(),!J.file_path){console.warn("Cannot refresh plan without file path");return}O(J.id);try{await we(KN(J.id),{method:"POST"}),l(),h()}catch(ne){console.error("Failed to refresh plan:",ne)}finally{O(null)}};if(f&&e===0)return n.jsx("div",{children:"Loading plans..."});const ee=e===0?d?.plans||[]:[...s,...d?.plans||[]],Y=d?.plans&&d.plans.length===Hh;return ee.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center border-2 border-dashed rounded-lg border-muted-foreground/25 bg-muted/5",children:[n.jsx(Pn,{className:"w-10 h-10 text-muted-foreground mb-4 opacity-50"}),n.jsx("h3",{className:"text-lg font-medium",children:"No plans found"}),n.jsx("p",{className:"text-sm text-muted-foreground max-w-sm mt-2 mb-4",children:"Plans are created when using plan mode in Claude Code. They capture the design and implementation approach before coding begins."}),n.jsx(Ze,{to:"/activity/sessions",className:"text-sm font-medium text-primary hover:underline underline-offset-4",children:"View Sessions "})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(Pn,{className:"w-4 h-4"}),n.jsx("span",{children:"Design documents from plan mode sessions"}),n.jsxs("span",{className:"text-xs",children:["(",d?.total||ee.length," plans)"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(lj,{className:"w-4 h-4 text-muted-foreground"}),n.jsx("select",{value:o,onChange:G=>g(G.target.value),className:"text-sm bg-background border border-input rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-ring",children:wk.map(G=>n.jsx("option",{value:G.value,children:G.label},G.value))})]})]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:ee.map(G=>n.jsxs(Te,{className:"overflow-hidden group relative",children:[n.jsx(Me,{className:"py-3 bg-muted/30",children:n.jsxs(Ie,{className:"text-sm font-medium flex items-center justify-between",children:[n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(Pn,{className:"w-4 h-4 text-amber-500"}),n.jsx("span",{className:"truncate max-w-[200px]",title:G.title,children:G.title}),G.plan_embedded?n.jsx("span",{className:"flex items-center gap-1 text-xs text-green-600",title:"Indexed in search",children:n.jsx(Ln,{className:"w-3 h-3"})}):n.jsx("span",{className:"flex items-center gap-1 text-xs text-muted-foreground",title:"Not indexed",children:n.jsx(Yp,{className:"w-3 h-3"})})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-xs text-muted-foreground",children:Ma(G.created_at)}),n.jsx("button",{onClick:J=>k(J,G.id),className:"p-1 rounded text-muted-foreground hover:text-red-500 hover:bg-red-500/10 opacity-0 group-hover:opacity-100 transition-all",title:"Delete plan from index","aria-label":"Delete plan from index",children:n.jsx(za,{className:"w-3 h-3"})})]})]})}),n.jsxs(ke,{className:"p-4 text-sm space-y-3",children:[G.preview&&n.jsx("div",{className:"text-muted-foreground line-clamp-6 overflow-hidden",children:n.jsx(ki,{content:G.preview,className:"prose-headings:text-sm prose-headings:mt-0 prose-p:my-1 prose-ul:my-1 prose-li:my-0"})}),n.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-border/50",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(Ze,{to:`/activity/sessions/${G.session_id}`,className:"flex items-center gap-1 text-xs text-primary hover:underline",children:[n.jsx(dj,{className:"w-3 h-3"}),"View Session"]}),G.file_path&&n.jsx("span",{className:"text-xs text-muted-foreground font-mono truncate max-w-[150px]",title:G.file_path,children:G.file_path.split("/").pop()})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[G.file_path&&n.jsxs("button",{onClick:J=>X(J,G),disabled:L===G.id,className:"flex items-center gap-1 text-xs text-muted-foreground hover:text-primary disabled:opacity-50",title:"Re-read plan content from disk",children:[n.jsx(Ja,{className:`w-3 h-3 ${L===G.id?"animate-spin":""}`}),"Refresh"]}),n.jsxs("button",{onClick:()=>A(G),className:"flex items-center gap-1 text-xs text-primary hover:underline",children:[n.jsx(vl,{className:"w-3 h-3"}),"View Full Plan"]})]})]})]})]},G.id))}),Y&&n.jsx("button",{onClick:()=>r(d?.plans||[]),disabled:x,className:"w-full py-3 text-sm text-muted-foreground hover:text-foreground border border-dashed rounded-lg hover:border-muted-foreground/50 transition-colors disabled:opacity-50",children:x?"Loading...":"Load more plans"}),n.jsx(ha,{open:b,onOpenChange:N,title:X1.title,description:X1.description,onConfirm:ae,isLoading:y.isPending}),D&&n.jsx(xc,{open:w,onOpenChange:R,title:D.title,subtitle:D.subtitle,content:D.content,icon:n.jsx(Pn,{className:"h-5 w-5 text-amber-500"}),renderMarkdown:D.renderMarkdown})]})}function Tz(e={}){const{limit:s=50,offset:r=0,memoryType:l="all",tag:o="",startDate:u="",endDate:d="",includeArchived:f=!1,status:x="active",includeResolved:h=!1}=e;return Tn({queryKey:["memories",s,r,l,o,u,d,f,x,h],queryFn:({signal:g})=>{const y=new URLSearchParams({limit:String(s),offset:String(r)});return l&&l!=="all"&&y.set("memory_type",l),o&&y.set("tag",o),u&&y.set("start_date",u),d&&y.set("end_date",d),f&&y.set("include_archived","true"),x&&x!=="all"&&y.set("status",x),h&&y.set("include_resolved","true"),we(`${ye.MEMORIES}?${y.toString()}`,{signal:g})}})}function kz(){return Tn({queryKey:["memory-tags"],queryFn:({signal:e})=>we(ye.MEMORIES_TAGS,{signal:e}),staleTime:6e4})}function Az(){const e=Ve();return Be({mutationFn:s=>cn(ik(s),{}),onSuccess:()=>{e.invalidateQueries({queryKey:["memories"]})}})}function Rz(){const e=Ve();return Be({mutationFn:s=>cn(ok(s),{}),onSuccess:()=>{e.invalidateQueries({queryKey:["memories"]})}})}function Oz(){const e=Ve();return Be({mutationFn:s=>cn(ye.MEMORIES_BULK,s),onSuccess:()=>{e.invalidateQueries({queryKey:["memories"]}),e.invalidateQueries({queryKey:["memory-tags"]})}})}function Mz(){const e=Ve();return Be({mutationFn:s=>we(ck(s),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"resolved"})}),onSuccess:()=>{e.invalidateQueries({queryKey:["memories"]})}})}const qh=20;function Dz(){const{offset:e,loadedItems:s,handleLoadMore:r,reset:l}=lx(qh),[o,u]=v.useState("all"),[d,f]=v.useState(""),[x,h]=v.useState("all"),[g,y]=v.useState(!1),[b,N]=v.useState("active"),[C,S]=v.useState(new Set),[E,w]=v.useState(""),[R,D]=v.useState(null),Q=iA(x),{data:ae,isLoading:k,isFetching:A}=Tz({limit:qh,offset:e,memoryType:o,tag:d,startDate:Q,includeArchived:g,status:b,includeResolved:b==="all"}),{data:L}=kz(),O=Vj(),X=Az(),ee=Rz(),Y=Oz(),G=Mz(),{isOpen:J,setIsOpen:ne,itemToDelete:B,openDialog:F,closeDialog:q}=pl(),[_e,M]=v.useState(!1),{isOpen:z,setIsOpen:le,dialogContent:T,openDialog:I}=gc(),Z=V=>V.length>hh,ie=V=>V.length<=hh?V:V.slice(0,hh)+"...",Ne=V=>hi[V]||V.replace(/_/g," "),Fe=V=>{u(V),l()},Qe=V=>{f(V),l()},Dt=V=>{h(V),l()},en=()=>{y(V=>!V),l()},gt=V=>{N(V),l()},Fn=async(V,De)=>{V.preventDefault(),V.stopPropagation(),await X.mutateAsync(De),l()},tn=async(V,De)=>{V.preventDefault(),V.stopPropagation(),await ee.mutateAsync(De),l()},ga=async(V,De)=>{V.preventDefault(),V.stopPropagation(),await G.mutateAsync(De),l()},Ke=()=>{u("all"),f(""),h("all"),y(!1),N("active"),l()},kn=o!=="all"||d!==""||x!=="all"||g||b!=="active",ya=async()=>{if(B)try{await O.mutateAsync(B),q(),l()}catch(V){console.error("Failed to delete memory:",V)}},Wn=(V,De)=>{V.preventDefault(),V.stopPropagation(),F(De)};if(k&&e===0)return n.jsx("div",{children:"Loading memories..."});const yn=e===0?ae?.memories||[]:[...s,...ae?.memories||[]],xe=ae?.memories&&ae.memories.length===qh,Et=V=>{S(De=>{const Vt=new Set(De);return Vt.has(V)?Vt.delete(V):Vt.add(V),Vt})},Gt=()=>{const V=yn.map(De=>De.id);S(new Set(V))},bt=()=>{S(new Set)},Pt=async(V,De)=>{if(C.size!==0)try{await Y.mutateAsync({memory_ids:Array.from(C),action:V,tag:De}),S(new Set),w(""),D(null),l()}catch(Vt){console.error("Bulk operation failed:",Vt)}},ce=async()=>{await Pt(ri.DELETE),M(!1)},ve=V=>Lk[V]||"bg-gray-500/10 text-gray-600",ze=V=>tj[V]||"bg-gray-500/10 text-gray-500";return yn.length===0?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(pd,{className:"w-4 h-4 text-muted-foreground"}),n.jsx("select",{className:"bg-background border border-input rounded-md px-3 py-1.5 text-sm font-medium",value:o,onChange:V=>Fe(V.target.value),title:"Filter by memory type",children:N0.map(V=>n.jsx("option",{value:V.value,children:V.label},V.value))}),n.jsx("select",{className:"bg-background border border-input rounded-md px-3 py-1.5 text-sm font-medium",value:b,onChange:V=>gt(V.target.value),title:"Filter by status",children:j0.map(V=>n.jsx("option",{value:V.value,children:V.label},V.value))}),n.jsx(U0,{className:"w-4 h-4 text-muted-foreground ml-2"}),n.jsxs("select",{className:"bg-background border border-input rounded-md px-3 py-1.5 text-sm font-medium",value:d,onChange:V=>Qe(V.target.value),title:"Filter by tag",children:[n.jsx("option",{value:"",children:"All Tags"}),L?.tags.map(V=>n.jsx("option",{value:V,children:V},V))]}),n.jsx(Za,{className:"w-4 h-4 text-muted-foreground ml-2"}),n.jsx("select",{className:"bg-background border border-input rounded-md px-3 py-1.5 text-sm font-medium",value:x,onChange:V=>Dt(V.target.value),title:"Filter by date range",children:A0.map(V=>n.jsx("option",{value:V.value,children:V.label},V.value))}),n.jsxs("label",{className:"flex items-center gap-1.5 ml-2 text-sm cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:g,onChange:en,className:"rounded border-input"}),n.jsx(Fu,{className:"w-3.5 h-3.5 text-muted-foreground"}),n.jsx("span",{className:"text-muted-foreground",children:"Archived"})]}),kn&&n.jsx("button",{onClick:Ke,className:"text-xs text-muted-foreground hover:text-foreground",children:"Clear all"})]}),n.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center border-2 border-dashed rounded-lg border-muted-foreground/25 bg-muted/5",children:[n.jsx(gh,{className:"w-10 h-10 text-muted-foreground mb-4 opacity-50"}),n.jsx("h3",{className:"text-lg font-medium",children:kn?"No matching memories":"No memories found"}),n.jsx("p",{className:"text-sm text-muted-foreground max-w-sm mt-2 mb-4",children:kn?"No memories match your current filters. Try adjusting or clearing filters.":"The agent hasn't stored any memories yet. Memories are created when the agent discovers new information about the codebase."}),kn?n.jsx("button",{onClick:Ke,className:"text-sm font-medium text-primary hover:underline underline-offset-4",children:"Clear filters "}):n.jsx(Ze,{to:"/config",className:"text-sm font-medium text-primary hover:underline underline-offset-4",children:"Check Configuration "})]})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(pd,{className:"w-4 h-4 text-muted-foreground"}),n.jsx("select",{className:"bg-background border border-input rounded-md px-3 py-1.5 text-sm font-medium",value:o,onChange:V=>Fe(V.target.value),title:"Filter by memory type",children:N0.map(V=>n.jsx("option",{value:V.value,children:V.label},V.value))}),n.jsx("select",{className:"bg-background border border-input rounded-md px-3 py-1.5 text-sm font-medium",value:b,onChange:V=>gt(V.target.value),title:"Filter by status",children:j0.map(V=>n.jsx("option",{value:V.value,children:V.label},V.value))}),n.jsx(U0,{className:"w-4 h-4 text-muted-foreground ml-2"}),n.jsxs("select",{className:"bg-background border border-input rounded-md px-3 py-1.5 text-sm font-medium",value:d,onChange:V=>Qe(V.target.value),title:"Filter by tag",children:[n.jsx("option",{value:"",children:"All Tags"}),L?.tags.map(V=>n.jsx("option",{value:V,children:V},V))]}),n.jsx(Za,{className:"w-4 h-4 text-muted-foreground ml-2"}),n.jsx("select",{className:"bg-background border border-input rounded-md px-3 py-1.5 text-sm font-medium",value:x,onChange:V=>Dt(V.target.value),title:"Filter by date range",children:A0.map(V=>n.jsx("option",{value:V.value,children:V.label},V.value))}),n.jsxs("label",{className:"flex items-center gap-1.5 ml-2 text-sm cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:g,onChange:en,className:"rounded border-input"}),n.jsx(Fu,{className:"w-3.5 h-3.5 text-muted-foreground"}),n.jsx("span",{className:"text-muted-foreground",children:"Archived"})]}),kn&&n.jsx("button",{onClick:Ke,className:"text-xs text-muted-foreground hover:text-foreground",children:"Clear all"})]}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[ae?.total||yn.length," memories"]})]}),C.size>0&&n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:bt,className:"p-1 rounded hover:bg-background",title:"Clear selection","aria-label":"Clear selection",children:n.jsx(Cn,{className:"w-4 h-4"})}),n.jsxs("span",{className:"text-sm font-medium",children:[C.size," selected"]})]}),n.jsx("div",{className:"h-4 w-px bg-border"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:()=>Pt(ri.ARCHIVE),disabled:Y.isPending,className:"flex items-center gap-1 px-2 py-1 text-xs rounded bg-amber-500/10 text-amber-600 hover:bg-amber-500/20",children:[n.jsx(Fu,{className:"w-3 h-3"}),"Archive"]}),n.jsxs("button",{onClick:()=>Pt(ri.UNARCHIVE),disabled:Y.isPending,className:"flex items-center gap-1 px-2 py-1 text-xs rounded bg-primary/10 text-primary hover:bg-primary/20",children:[n.jsx(M0,{className:"w-3 h-3"}),"Unarchive"]}),n.jsxs("button",{onClick:()=>Pt(ri.RESOLVE),disabled:Y.isPending,className:"flex items-center gap-1 px-2 py-1 text-xs rounded bg-green-500/10 text-green-600 hover:bg-green-500/20",children:[n.jsx(Ln,{className:"w-3 h-3"}),"Resolve"]}),n.jsx("div",{className:"relative",children:R==="add"?n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("input",{type:"text",value:E,onChange:V=>w(V.target.value),placeholder:"Tag name...",className:"w-24 px-2 py-1 text-xs rounded border bg-background",autoFocus:!0,onKeyDown:V=>{V.key==="Enter"&&E.trim()?Pt(ri.ADD_TAG,E.trim()):V.key==="Escape"&&(D(null),w(""))}}),n.jsx("button",{onClick:()=>{D(null),w("")},className:"p-1 rounded hover:bg-muted",children:n.jsx(Cn,{className:"w-3 h-3"})})]}):n.jsxs("button",{onClick:()=>D("add"),disabled:Y.isPending,className:"flex items-center gap-1 px-2 py-1 text-xs rounded bg-green-500/10 text-green-600 hover:bg-green-500/20",children:[n.jsx(Ks,{className:"w-3 h-3"}),"Add Tag"]})}),n.jsx("div",{className:"relative",children:R==="remove"?n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsxs("select",{value:E,onChange:V=>{V.target.value&&Pt(ri.REMOVE_TAG,V.target.value)},className:"w-24 px-2 py-1 text-xs rounded border bg-background",autoFocus:!0,children:[n.jsx("option",{value:"",children:"Select tag..."}),L?.tags.map(V=>n.jsx("option",{value:V,children:V},V))]}),n.jsx("button",{onClick:()=>{D(null),w("")},className:"p-1 rounded hover:bg-muted",children:n.jsx(Cn,{className:"w-3 h-3"})})]}):n.jsxs("button",{onClick:()=>D("remove"),disabled:Y.isPending,className:"flex items-center gap-1 px-2 py-1 text-xs rounded bg-orange-500/10 text-orange-600 hover:bg-orange-500/20",children:[n.jsx($R,{className:"w-3 h-3"}),"Remove Tag"]})}),n.jsxs("button",{onClick:()=>M(!0),disabled:Y.isPending,className:"flex items-center gap-1 px-2 py-1 text-xs rounded bg-red-500/10 text-red-600 hover:bg-red-500/20",children:[n.jsx(za,{className:"w-3 h-3"}),"Delete"]})]}),n.jsx("div",{className:"ml-auto",children:n.jsxs("button",{onClick:Gt,className:"text-xs text-muted-foreground hover:text-foreground",children:["Select all (",yn.length,")"]})})]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:yn.map(V=>n.jsxs(Te,{className:`overflow-hidden group relative ${V.archived||V.status&&V.status!=="active"?"opacity-60":""} ${C.has(V.id)?"ring-2 ring-primary":""}`,children:[n.jsx(Me,{className:"py-3 bg-muted/30",children:n.jsxs(Ie,{className:"text-sm font-medium flex items-center justify-between",children:[n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>Et(V.id),className:"p-0.5 rounded hover:bg-muted",title:C.has(V.id)?"Deselect":"Select","aria-label":C.has(V.id)?"Deselect":"Select",children:C.has(V.id)?n.jsx(RO,{className:"w-4 h-4 text-primary"}):n.jsx(Wp,{className:"w-4 h-4 text-muted-foreground"})}),n.jsx(gh,{className:"w-4 h-4 text-primary"}),n.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${ve(V.memory_type)}`,children:V.memory_type.replace(/_/g," ")}),V.archived&&n.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-muted text-muted-foreground",children:"archived"}),V.status&&V.status!=="active"&&n.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${ze(V.status)}`,children:V.status}),V.embedded?n.jsx("span",{className:"flex items-center gap-1 text-xs text-green-600",title:"Indexed in search",children:n.jsx(Ln,{className:"w-3 h-3"})}):n.jsx("span",{className:"flex items-center gap-1 text-xs text-muted-foreground",title:"Not yet indexed",children:n.jsx(Yp,{className:"w-3 h-3"})})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-xs text-muted-foreground",children:Ma(V.created_at)}),!V.archived&&V.status==="active"&&n.jsx("button",{onClick:De=>ga(De,V.id),className:"p-1 rounded text-muted-foreground hover:text-green-500 hover:bg-green-500/10 opacity-0 group-hover:opacity-100 transition-all",title:"Mark as resolved","aria-label":"Mark as resolved",disabled:G.isPending,children:n.jsx(Ln,{className:"w-3 h-3"})}),V.archived?n.jsx("button",{onClick:De=>tn(De,V.id),className:"p-1 rounded text-muted-foreground hover:text-primary hover:bg-primary/10 opacity-0 group-hover:opacity-100 transition-all",title:"Unarchive memory","aria-label":"Unarchive memory",disabled:ee.isPending,children:n.jsx(M0,{className:"w-3 h-3"})}):n.jsx("button",{onClick:De=>Fn(De,V.id),className:"p-1 rounded text-muted-foreground hover:text-amber-500 hover:bg-amber-500/10 opacity-0 group-hover:opacity-100 transition-all",title:"Archive memory","aria-label":"Archive memory",disabled:X.isPending,children:n.jsx(Fu,{className:"w-3 h-3"})}),n.jsx("button",{onClick:De=>Wn(De,V.id),className:"p-1 rounded text-muted-foreground hover:text-red-500 hover:bg-red-500/10 opacity-0 group-hover:opacity-100 transition-all",title:"Delete memory","aria-label":"Delete memory",children:n.jsx(za,{className:"w-3 h-3"})})]})]})}),n.jsxs(ke,{className:"p-4 text-sm",children:[n.jsx("div",{className:"whitespace-pre-wrap",children:ie(V.observation)}),Z(V.observation)&&n.jsxs("button",{onClick:()=>I(`${Ne(V.memory_type)} Memory`,V.observation,V.context||void 0,!1),className:"mt-2 flex items-center gap-1 text-xs text-primary hover:underline",children:[n.jsx(vl,{className:"w-3 h-3"}),"View Full Memory"]}),V.tags.length>0&&n.jsx("div",{className:"mt-2 flex gap-1 flex-wrap",children:V.tags.map(De=>n.jsxs("button",{onClick:()=>Qe(De),className:`text-xs px-2 py-0.5 rounded-full font-mono transition-colors ${d===De?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground hover:bg-secondary/80"}`,title:`Filter by #${De}`,children:["#",De]},De))})]})]},V.id))}),xe&&n.jsx("button",{onClick:()=>r(ae?.memories||[]),disabled:A,className:"w-full py-3 text-sm text-muted-foreground hover:text-foreground border border-dashed rounded-lg hover:border-muted-foreground/50 transition-colors disabled:opacity-50",children:A?"Loading...":"Load more memories"}),n.jsx(ha,{open:J,onOpenChange:ne,title:ms.MEMORY.title,description:ms.MEMORY.description,onConfirm:ya,isLoading:O.isPending}),n.jsx(ha,{open:_e,onOpenChange:M,title:`Delete ${C.size} Memories`,description:`This will permanently delete ${C.size} selected memories. This action cannot be undone.`,onConfirm:ce,isLoading:Y.isPending}),T&&n.jsx(xc,{open:z,onOpenChange:le,title:T.title,subtitle:T.subtitle,content:T.content,icon:n.jsx(gh,{className:"h-5 w-5 text-primary"}),renderMarkdown:T.renderMarkdown})]})}function Lz(e){return Tn({queryKey:["session_lineage",e],queryFn:({signal:s})=>we(dk(e),{signal:s}),enabled:!!e})}function Iz(){const e=Ve();return Be({mutationFn:({sessionId:s,parentSessionId:r,reason:l})=>cn(Hp(s),{parent_session_id:r,reason:l||"manual"}),onSuccess:(s,{sessionId:r})=>{e.invalidateQueries({queryKey:["session",r]}),e.invalidateQueries({queryKey:["session_lineage",r]}),e.invalidateQueries({queryKey:["sessions"]})}})}function zz(){const e=Ve();return Be({mutationFn:s=>Ir(Hp(s)),onSuccess:(s,r)=>{e.invalidateQueries({queryKey:["session",r]}),e.invalidateQueries({queryKey:["session_lineage",r]}),e.invalidateQueries({queryKey:["sessions"]})}})}function Uz(){const e=Ve();return Be({mutationFn:s=>cn(mk(s),{}),onSuccess:(s,r)=>{e.invalidateQueries({queryKey:["session",r]}),e.invalidateQueries({queryKey:["memories"]})}})}function Pz(){const e=Ve();return Be({mutationFn:s=>cn(fk(s),{}),onSuccess:(s,r)=>{e.invalidateQueries({queryKey:["session",r]}),e.invalidateQueries({queryKey:["sessions"]}),e.invalidateQueries({queryKey:["memories"]})}})}function Bz(e){return Tn({queryKey:["suggested_parent",e],queryFn:({signal:s})=>we(pk(e),{signal:s}),enabled:!!e,staleTime:3e4,refetchOnWindowFocus:!1})}function Fz(){const e=Ve();return Be({mutationFn:s=>cn(xk(s),{}),onSuccess:(s,r)=>{e.invalidateQueries({queryKey:["suggested_parent",r]})}})}function Hz(){const e=Ve();return Be({mutationFn:({sessionId:s,parentSessionId:r})=>cn(Hp(s),{parent_session_id:r,reason:"suggestion"}),onSuccess:(s,{sessionId:r})=>{e.invalidateQueries({queryKey:["session",r]}),e.invalidateQueries({queryKey:["session_lineage",r]}),e.invalidateQueries({queryKey:["suggested_parent",r]}),e.invalidateQueries({queryKey:["sessions"]})}})}function kx(e){return Tn({queryKey:["session_related",e],queryFn:({signal:s})=>we(gk(e),{signal:s}),enabled:!!e})}function qz(e){return Tn({queryKey:["suggested_related",e],queryFn:({signal:s})=>we(bk(e),{signal:s}),enabled:!!e,staleTime:3e4,refetchOnWindowFocus:!1})}function lE(){const e=Ve();return Be({mutationFn:({sessionId:s,relatedSessionId:r,similarityScore:l})=>cn(yk(s),{related_session_id:r,similarity_score:l}),onSuccess:(s,{sessionId:r,relatedSessionId:l})=>{e.invalidateQueries({queryKey:["session_related",r]}),e.invalidateQueries({queryKey:["session_related",l]}),e.invalidateQueries({queryKey:["suggested_related",r]})}})}function Gz(){const e=Ve();return Be({mutationFn:({sessionId:s,relatedSessionId:r})=>Ir(vk(s,r)),onSuccess:(s,{sessionId:r,relatedSessionId:l})=>{e.invalidateQueries({queryKey:["session_related",r]}),e.invalidateQueries({queryKey:["session_related",l]})}})}function Vz(){const e=Ve();return Be({mutationFn:({sessionId:s,title:r})=>Dj(hk(s),{title:r}),onSuccess:(s,{sessionId:r})=>{e.invalidateQueries({queryKey:["session",r]}),e.invalidateQueries({queryKey:["sessions"]})}})}function Yz({batchId:e}){const{data:s,isLoading:r,error:l}=Tn({queryKey:["batch_activities",e],queryFn:({signal:R})=>we(`/api/activity/prompt-batches/${e}/activities?limit=50`,{signal:R})}),o=NM(),{isOpen:u,setIsOpen:d,itemToDelete:f,openDialog:x,closeDialog:h}=pl(),{isOpen:g,setIsOpen:y,dialogContent:b,openDialog:N}=gc(),C=R=>{const D=[];return R.tool_input&&D.push(`Input:
${JSON.stringify(R.tool_input,null,2)}`),R.tool_output_summary&&D.push(`Output:
${R.tool_output_summary}`),R.error_message&&D.push(`Error:
${R.error_message}`),D.join(`

`)},S=R=>(R.tool_input?JSON.stringify(R.tool_input):"").length>mh,E=async()=>{if(f)try{await o.mutateAsync({activityId:f,batchId:e}),h()}catch(R){console.error("Failed to delete activity:",R)}};if(r)return n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground py-2",children:[n.jsx($e,{className:"animate-spin w-3 h-3"})," Loading activities..."]});if(l)return n.jsxs("div",{className:"flex items-center gap-2 text-sm text-destructive py-2",children:[n.jsx(jt,{className:"w-3 h-3"})," Failed to load activities"]});const w=s?.activities||[];return w.length===0?n.jsx("div",{className:"text-sm text-muted-foreground italic py-2",children:"No activities recorded in this batch."}):n.jsxs("div",{className:"space-y-2 mt-4 border-l-2 pl-4 border-muted",children:[w.map(R=>n.jsxs("div",{className:"text-sm grid grid-cols-[auto_1fr] gap-3 py-2 border-b last:border-0 border-dashed border-muted-foreground/30 group",children:[n.jsx("div",{className:he("mt-0.5",R.success?"text-green-500":"text-red-500"),children:R.success?n.jsx(Ln,{className:"w-4 h-4"}):n.jsx(Vp,{className:"w-4 h-4"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"font-mono font-medium flex items-center gap-2",children:[n.jsx(Ci,{className:"w-3 h-3 text-muted-foreground"}),R.tool_name,R.file_path&&n.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1 bg-muted px-1.5 rounded",children:[n.jsx(ec,{className:"w-3 h-3"}),R.file_path.split("/").pop()]}),n.jsxs("span",{className:"ml-auto flex items-center gap-2",children:[n.jsx("span",{className:"text-xs text-muted-foreground",children:Ma(R.created_at).split(", ")[1]}),n.jsx("button",{onClick:()=>x(parseInt(R.id)),className:"p-1 rounded text-muted-foreground hover:text-red-500 hover:bg-red-500/10 opacity-0 group-hover:opacity-100 transition-all",title:"Delete activity",children:n.jsx(za,{className:"w-3 h-3"})})]})]}),n.jsxs("div",{className:"bg-muted/50 rounded p-2 font-mono text-xs overflow-x-auto text-muted-foreground/80",children:[R.tool_input&&n.jsxs("div",{className:"mb-1",children:[n.jsx("span",{className:"font-semibold text-foreground/80",children:"Input:"})," ",JSON.stringify(R.tool_input).slice(0,mh),JSON.stringify(R.tool_input).length>mh?"...":""]}),R.tool_output_summary&&n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold text-foreground/80",children:"Output:"})," ",R.tool_output_summary]}),R.error_message&&n.jsxs("div",{className:"text-red-500 mt-1",children:["Error: ",R.error_message]}),S(R)&&n.jsxs("button",{onClick:()=>N(`${R.tool_name} Activity`,C(R),R.file_path||void 0),className:"mt-2 flex items-center gap-1 text-primary hover:underline",children:[n.jsx(vl,{className:"w-3 h-3"}),"View Full Activity"]})]})]})]},R.id)),n.jsx(ha,{open:u,onOpenChange:d,title:ms.ACTIVITY.title,description:ms.ACTIVITY.description,onConfirm:E,isLoading:o.isPending}),b&&n.jsx(xc,{open:g,onOpenChange:y,title:b.title,subtitle:b.subtitle,content:b.content,icon:n.jsx(Ci,{className:"h-5 w-5 text-blue-500"})})]})}function iE({open:e,onOpenChange:s,title:r,description:l,excludeSessionId:o,onSelect:u,isLoading:d=!1,showReasonSelector:f=!0}){const[x,h]=v.useState(""),[g,y]=v.useState(null),[b,N]=v.useState("manual"),[C,S]=v.useState(!1),{data:E,isLoading:w}=sx(Si.MAX_LIMIT_MEDIUM,0),D=(E?.sessions??[]).filter(k=>{if(o&&k.id===o)return!1;if(x){const A=x.toLowerCase();return(k.title||k.first_prompt_preview||k.id).toLowerCase().includes(A)||k.id.toLowerCase().includes(A)}return!0}),Q=async()=>{if(!(!g||C)){S(!0);try{await u(g,f?b:void 0),y(null),h("")}finally{S(!1)}}},ae=k=>{d||C||(k||(y(null),h("")),s(k))};return n.jsx(ux,{open:e,onOpenChange:ae,children:n.jsxs(dx,{children:[n.jsx(fx,{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm data-[state=open]:animate-in data-[state=open]:fade-in-0 data-[state=closed]:animate-out data-[state=closed]:fade-out-0"}),n.jsxs(mx,{className:"fixed left-[50%] top-[50%] z-50 translate-x-[-50%] translate-y-[-50%] w-full max-w-lg rounded-lg border bg-background shadow-lg data-[state=open]:animate-in data-[state=open]:fade-in-0 data-[state=open]:zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 max-h-[80vh] flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-full p-2 bg-blue-500/10",children:n.jsx(xd,{className:"h-5 w-5 text-blue-500"})}),n.jsxs("div",{children:[n.jsx(hx,{className:"text-lg font-semibold",children:r}),n.jsx(Sd,{className:"text-sm text-muted-foreground",children:l})]})]}),n.jsx(Ed,{asChild:!0,children:n.jsx("button",{className:"p-1 rounded hover:bg-muted",disabled:d,"aria-label":"Close",children:n.jsx(Cn,{className:"h-5 w-5 text-muted-foreground"})})})]}),n.jsx("div",{className:"p-4 border-b",children:n.jsxs("div",{className:"relative",children:[n.jsx(Zp,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx("input",{type:"text",placeholder:"Search sessions...",value:x,onChange:k=>h(k.target.value),className:"w-full pl-9 pr-4 py-2 text-sm border rounded-md bg-background focus:outline-none focus:ring-2 focus:ring-ring","aria-label":"Search sessions"})]})}),n.jsx("div",{className:"flex-1 overflow-y-auto p-2 min-h-[200px] max-h-[300px]",children:w?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx($e,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):D.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:x?"No sessions match your search":"No other sessions available"}):n.jsx("div",{className:"space-y-1",children:D.map(k=>n.jsx($z,{session:k,isSelected:g===k.id,onClick:()=>y(k.id)},k.id))})}),f&&g&&n.jsxs("div",{className:"p-4 border-t bg-muted/30",children:[n.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Link reason"}),n.jsx("div",{className:"flex gap-2",children:Sk.map(k=>n.jsx("button",{onClick:()=>N(k.value),className:he("px-3 py-1.5 text-sm rounded-md border transition-colors",b===k.value?"bg-primary text-primary-foreground border-primary":"bg-background hover:bg-muted"),children:k.label},k.value))})]}),n.jsxs("div",{className:"flex justify-end gap-3 p-4 border-t",children:[n.jsx(Ed,{asChild:!0,children:n.jsx(fe,{variant:"outline",disabled:d,children:"Cancel"})}),n.jsx(fe,{onClick:Q,disabled:d||C||!g,children:d||C?n.jsxs(n.Fragment,{children:[n.jsx($e,{className:"mr-2 h-4 w-4 animate-spin"}),"Linking..."]}):n.jsxs(n.Fragment,{children:[n.jsx(xd,{className:"mr-2 h-4 w-4"}),"Link Session"]})})]})]})]})})}function $z({session:e,isSelected:s,onClick:r}){const l=El(e);return n.jsx("button",{onClick:r,className:he("w-full text-left p-3 rounded-md border transition-colors",s?"border-primary bg-primary/5":"border-transparent hover:bg-muted"),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-medium text-sm truncate",children:l}),n.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-muted-foreground",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Za,{className:"w-3 h-3"}),Ma(e.started_at)]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(vs,{className:"w-3 h-3"}),e.activity_count," activities"]}),n.jsx("span",{className:he("px-1.5 py-0.5 rounded text-xs",e.status==="active"?"bg-green-500/10 text-green-600":"bg-muted text-muted-foreground"),children:e.status})]})]}),s&&n.jsx("div",{className:"ml-2 w-4 h-4 rounded-full bg-primary flex items-center justify-center",children:n.jsx("div",{className:"w-2 h-2 rounded-full bg-primary-foreground"})})]})})}function oE(){const[e,s]=v.useState(!1);return{isOpen:e,setIsOpen:s,openDialog:()=>s(!0),closeDialog:()=>s(!1)}}function Qz({sessionId:e,className:s}){const{data:r,isLoading:l,error:o}=Lz(e),{data:u}=kx(e);if(l)return n.jsx("div",{className:he("flex items-center justify-center py-4",s),children:n.jsx($e,{className:"h-5 w-5 animate-spin text-muted-foreground"})});if(o)return n.jsx("div",{className:he("text-sm text-muted-foreground py-4",s),children:"Failed to load lineage"});if(!r)return null;const d=r.ancestors.length>0,f=r.children.length>0,x=u&&u.related.length>0;return!(d||f)&&!x?n.jsxs("div",{className:he("space-y-4",s),children:[n.jsx(J1,{sessionId:e,hasParent:!1}),n.jsx(W1,{sessionId:e}),n.jsxs("div",{className:"text-sm text-muted-foreground py-4 text-center",children:[n.jsx($p,{className:"h-5 w-5 mx-auto mb-2 opacity-50"}),"No linked sessions"]})]}):n.jsxs("div",{className:he("space-y-4",s),children:[!d&&n.jsx(J1,{sessionId:e,hasParent:!1}),d&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-muted-foreground uppercase tracking-wide",children:[n.jsx(ij,{className:"h-3 w-3"}),"Parent Sessions (",r.ancestors.length,")"]}),n.jsx("div",{className:"space-y-1",children:r.ancestors.map((g,y)=>n.jsx(Z1,{session:g,direction:"ancestor",depth:y},g.id))})]}),d&&(f||x)&&n.jsx("div",{className:"border-t my-3"}),f&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-muted-foreground uppercase tracking-wide",children:[n.jsx(rj,{className:"h-3 w-3"}),"Child Sessions (",r.children.length,")"]}),n.jsx("div",{className:"space-y-1",children:r.children.map(g=>n.jsx(Z1,{session:g,direction:"child"},g.id))})]}),(d||f)&&n.jsx("div",{className:"border-t my-3"}),n.jsx(W1,{sessionId:e})]})}function Z1({session:e,direction:s,depth:r=0}){const l=El(e),o=e.parent_session_reason,u=o?XN[o]:null,d=o?jk[o]:null;return n.jsx(Ze,{to:`/activity/sessions/${e.id}`,className:he("block p-3 rounded-md border bg-card hover:bg-accent/5 transition-colors group",s==="ancestor"&&r>0&&"ml-4 border-l-2 border-l-blue-500/30"),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"font-medium text-sm truncate",children:l}),o&&u&&d&&n.jsx("span",{className:he("px-2 py-0.5 text-xs rounded-full",d),children:u})]}),n.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-muted-foreground",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Za,{className:"w-3 h-3"}),Ma(e.started_at)]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(vs,{className:"w-3 h-3"}),e.prompt_batch_count," prompts"]}),n.jsx("span",{className:he("px-1.5 py-0.5 rounded text-xs",e.status==="active"?"bg-green-500/10 text-green-600":"bg-muted text-muted-foreground"),children:e.status})]})]}),n.jsx(Mr,{className:"h-4 w-4 text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity"})]})})}function Kz({parentSessionId:e,parentSessionReason:s,childCount:r}){if(!e&&r===0)return null;const l=s,o=l?XN[l]:"Linked";return n.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e&&n.jsxs(Ze,{to:`/activity/sessions/${e}`,className:"flex items-center gap-1 px-2 py-1 rounded bg-blue-500/10 text-blue-600 hover:bg-blue-500/20 transition-colors",title:`Parent: ${e}`,children:[n.jsx(ij,{className:"w-3 h-3"}),o]}),r>0&&n.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 rounded bg-purple-500/10 text-purple-600",children:[n.jsx(rj,{className:"w-3 h-3"}),r," child",r!==1?"ren":""]})]})}function J1({sessionId:e,hasParent:s,onPickDifferent:r,className:l}){const[o,u]=v.useState(!1),{data:d,isLoading:f,error:x}=Bz(s?void 0:e),h=Fz(),g=Hz();if(s||f||x||!d||!d.has_suggestion||d.dismissed)return null;const y=d.suggested_parent;if(!y)return null;const b=d.confidence,N=b?WN[b]:null,C=b?ej[b]:null,S=El(y),E=()=>{g.mutate({sessionId:e,parentSessionId:y.id,confidenceScore:d.confidence_score??void 0})},w=()=>{h.mutate(e)},R=g.isPending||h.isPending;return o?n.jsxs("div",{className:he("space-y-2",l),children:[n.jsxs("button",{onClick:()=>u(!1),className:"flex items-center gap-2 text-xs font-medium text-muted-foreground uppercase tracking-wide hover:text-foreground transition-colors w-full text-left",children:[n.jsx(Or,{className:"h-3 w-3"}),n.jsx(ip,{className:"h-3 w-3 text-amber-500"}),"Suggested Parent Session"]}),n.jsxs("div",{className:"p-4 rounded-md border bg-amber-500/5 border-amber-500/20",children:[n.jsx("div",{className:"flex items-start gap-3",children:n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Ze,{to:`/activity/sessions/${y.id}`,className:"text-sm font-medium text-foreground hover:underline truncate",children:S}),b&&N&&C&&n.jsx("span",{className:he("px-2 py-0.5 text-xs rounded-full",C),children:N})]}),d.reason&&n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:d.reason}),n.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-muted-foreground",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Za,{className:"w-3 h-3"}),Ma(y.started_at)]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(vs,{className:"w-3 h-3"}),y.prompt_batch_count," prompts"]})]})]})}),n.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[n.jsxs(fe,{size:"sm",variant:"default",onClick:E,disabled:R,className:"h-7 text-xs",children:[g.isPending?n.jsx($e,{className:"h-3 w-3 animate-spin mr-1"}):n.jsx(pa,{className:"h-3 w-3 mr-1"}),"Accept"]}),n.jsxs(fe,{size:"sm",variant:"outline",onClick:w,disabled:R,className:"h-7 text-xs",children:[h.isPending?n.jsx($e,{className:"h-3 w-3 animate-spin mr-1"}):n.jsx(Cn,{className:"h-3 w-3 mr-1"}),"Dismiss"]}),r&&n.jsxs(fe,{size:"sm",variant:"ghost",onClick:r,disabled:R,className:"h-7 text-xs",children:[n.jsx(FR,{className:"h-3 w-3 mr-1"}),"Pick Different"]})]})]})]}):n.jsx("div",{className:he("space-y-2",l),children:n.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 text-xs font-medium text-muted-foreground uppercase tracking-wide hover:text-foreground transition-colors w-full text-left",children:[n.jsx(Mr,{className:"h-3 w-3"}),n.jsx(ip,{className:"h-3 w-3 text-amber-500"}),"Suggested Parent Session",b&&N&&C&&n.jsx("span",{className:he("px-2 py-0.5 text-xs rounded-full normal-case",C),children:N})]})})}function W1({sessionId:e,className:s}){const{data:r,isLoading:l}=kx(e),{data:o,isLoading:u}=qz(e),d=lE(),f=oE(),x=r&&r.related.length>0,h=o&&o.suggestions.length>0,g=new Set([e]);if(r)for(const b of r.related)g.add(b.id);const y=async b=>{await d.mutateAsync({sessionId:e,relatedSessionId:b}),f.closeDialog()};return l?n.jsx("div",{className:he("py-2",s),children:n.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[n.jsx($e,{className:"h-3 w-3 animate-spin"}),"Loading related sessions..."]})}):n.jsxs("div",{className:he("space-y-3",s),children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-muted-foreground uppercase tracking-wide",children:[n.jsx(xd,{className:"h-3 w-3"}),"Related Sessions ",x&&`(${r.related.length})`]}),n.jsxs(fe,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:()=>f.openDialog(),children:[n.jsx(Ks,{className:"w-3 h-3 mr-1"}),"Link Related"]})]}),x?n.jsx("div",{className:"space-y-1",children:r.related.map(b=>n.jsx(Xz,{sessionId:e,related:b},b.relationship_id))}):n.jsx("div",{className:"text-xs text-muted-foreground py-2",children:"No related sessions yet"})]}),(u||h)&&n.jsx(Zz,{sessionId:e,suggestions:o?.suggestions||[],isLoading:u}),n.jsx(iE,{open:f.isOpen,onOpenChange:f.setIsOpen,title:"Link Related Session",description:"Select a session to link as related to this session",excludeSessionId:e,onSelect:y,isLoading:d.isPending,showReasonSelector:!1})]})}function Xz({sessionId:e,related:s}){const r=Gz(),l=El(s),o=s.created_by,u=Ck[o],d=Tk[o],f=()=>{r.mutate({sessionId:e,relatedSessionId:s.id})};return n.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-md border bg-card group",children:[n.jsxs(Ze,{to:`/activity/sessions/${s.id}`,className:"flex-1 min-w-0 hover:underline",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"font-medium text-sm truncate",children:l}),u&&d&&n.jsx("span",{className:he("px-2 py-0.5 text-xs rounded-full whitespace-nowrap",d),children:u}),s.similarity_score!==null&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:[Math.round(s.similarity_score*100),"% similar"]})]}),n.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-muted-foreground",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Za,{className:"w-3 h-3"}),Ma(s.started_at)]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(vs,{className:"w-3 h-3"}),s.prompt_batch_count," prompts"]})]})]}),n.jsx(fe,{size:"sm",variant:"ghost",onClick:f,disabled:r.isPending,className:"h-7 w-7 p-0 opacity-0 group-hover:opacity-100 transition-opacity",title:"Remove relationship",children:r.isPending?n.jsx($e,{className:"h-3 w-3 animate-spin"}):n.jsx(za,{className:"h-3 w-3 text-muted-foreground hover:text-destructive"})})]})}function Zz({sessionId:e,suggestions:s,isLoading:r}){const[l,o]=v.useState(!1),u=lE();return r||s.length===0?null:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("button",{onClick:()=>o(!l),className:"flex items-center gap-2 text-xs font-medium text-muted-foreground uppercase tracking-wide hover:text-foreground transition-colors w-full text-left",children:[l?n.jsx(Or,{className:"h-3 w-3"}):n.jsx(Mr,{className:"h-3 w-3"}),n.jsx(ip,{className:"h-3 w-3 text-amber-500"}),"Suggested Related (",s.length,")"]}),l&&n.jsx("div",{className:"space-y-1",children:s.map(d=>n.jsx(Jz,{sessionId:e,suggestion:d,onAdd:()=>{u.mutate({sessionId:e,relatedSessionId:d.id,similarityScore:d.confidence_score})},isAdding:u.isPending},d.id))})]})}function Jz({suggestion:e,onAdd:s,isAdding:r}){const l=El(e),o=e.confidence,u=WN[o],d=ej[o];return n.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-md border bg-amber-500/5 border-amber-500/20",children:[n.jsxs(Ze,{to:`/activity/sessions/${e.id}`,className:"flex-1 min-w-0 hover:underline",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"font-medium text-sm truncate",children:l}),u&&d&&n.jsx("span",{className:he("px-2 py-0.5 text-xs rounded-full whitespace-nowrap",d),children:u})]}),n.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-muted-foreground",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Za,{className:"w-3 h-3"}),Ma(e.started_at)]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(vs,{className:"w-3 h-3"}),e.prompt_batch_count," prompts"]})]}),e.reason&&n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:e.reason})]}),n.jsxs(fe,{size:"sm",variant:"outline",onClick:s,disabled:r,className:"h-7 text-xs",children:[r?n.jsx($e,{className:"h-3 w-3 animate-spin mr-1"}):n.jsx(pa,{className:"h-3 w-3 mr-1"}),"Link"]})]})}const Wz=3e4;function cE(){return Pa({queryKey:["tunnel-status"],queryFn:({signal:e})=>we(ye.TUNNEL_STATUS,{signal:e}),refetchInterval:Wz,pollCategory:"standard"})}function e6(){const e=Ve();return Be({mutationFn:()=>we(ye.TUNNEL_START,{method:"POST"}),onSuccess:()=>{e.invalidateQueries({queryKey:["tunnel-status"]}),e.invalidateQueries({queryKey:["status"]})}})}function t6(){const e=Ve();return Be({mutationFn:()=>we(ye.TUNNEL_STOP,{method:"POST"}),onSuccess:()=>{e.invalidateQueries({queryKey:["tunnel-status"]}),e.invalidateQueries({queryKey:["status"]})}})}const Wu={user:{badge:"bg-blue-500/20 text-blue-500 border-blue-500/30",label:"User",icon:hj},agent_notification:{badge:"bg-purple-500/20 text-purple-500 border-purple-500/30",label:"Agent",icon:yl,muted:!0},plan:{badge:"bg-amber-500/20 text-amber-500 border-amber-500/30",label:"Plan",icon:Pn},system:{badge:"bg-gray-500/20 text-gray-500 border-gray-500/30",label:"System",icon:Oi,muted:!0}},Gh=500;function n6(e,s){return e?e.length<=s?{text:e,truncated:!1}:{text:e.slice(0,s)+"...",truncated:!0}:{text:"No prompt text provided",truncated:!1}}function a6(){const{id:e}=rC(),s=oc(),{data:r,isLoading:l}=J4(e),[o,u]=v.useState({}),[d,f]=v.useState(!0),x=Gj(),h=bM(),g=jM(),y=Iz(),b=zz(),N=Uz(),C=Pz(),S=Vz(),{data:E}=kx(e),[w,R]=v.useState(null),[D,Q]=v.useState(null),[ae,k]=v.useState(null),[A,L]=v.useState(!1),[O,X]=v.useState(!1),[ee,Y]=v.useState(!1),[G,J]=v.useState(""),{data:ne}=cE(),B=pl(),F=pl(),q=gc(),_e=oE(),M=pl(),z=xe=>{u(Et=>({...Et,[xe]:!Et[xe]}))},le=async()=>{if(e)try{await x.mutateAsync(e),B.closeDialog(),s("/activity/sessions")}catch(xe){console.error("Failed to delete session:",xe)}},T=async()=>{if(!(!F.itemToDelete||!e))try{await h.mutateAsync({batchId:F.itemToDelete,sessionId:e}),F.closeDialog()}catch(xe){console.error("Failed to delete batch:",xe)}},I=async xe=>{if(e){R(xe);try{await g.mutateAsync({batchId:parseInt(xe),sessionId:e})}catch(Et){console.error("Failed to promote batch:",Et)}finally{R(null)}}},Z=xe=>{const Et=xe.plan_file_path?.split("/").pop()||`Plan #${xe.prompt_number}`,Gt=xe.plan_content||"Plan content not available. The plan may have been created before content storage was enabled.";q.openDialog(Et,Gt,xe.plan_file_path||void 0,!0)},ie=xe=>{const Et=Wu[xe.source_type]||Wu.user;q.openDialog(`Prompt #${xe.prompt_number}`,xe.user_prompt||"No prompt text provided",`${Et.label} prompt`)},Ne=xe=>{q.openDialog(`Response #${xe.prompt_number}`,xe.response_summary||"No response available","Agent response",!0)},Fe=async(xe,Et)=>{if(e)try{await y.mutateAsync({sessionId:e,parentSessionId:xe,reason:Et??"manual"}),_e.closeDialog()}catch(Gt){console.error("Failed to link session:",Gt)}},Qe=async()=>{if(e)try{await b.mutateAsync(e),M.closeDialog()}catch(xe){console.error("Failed to unlink session:",xe)}},Dt=async()=>{if(e){Q(null);try{const xe=await N.mutateAsync(e);xe.success?Q({type:"success",text:xe.message}):Q({type:"error",text:xe.message}),setTimeout(()=>Q(null),5e3)}catch(xe){Q({type:"error",text:xe instanceof Error?xe.message:"Failed to regenerate summary"}),setTimeout(()=>Q(null),5e3)}}},en=async()=>{if(!ne?.active||!ne.public_url||!e)return;const xe=`${ne.public_url}/activity/sessions/${e}`;try{await navigator.clipboard.writeText(xe),X(!0),setTimeout(()=>X(!1),2e3)}catch(Et){console.error("Failed to copy share URL:",Et)}},gt=async()=>{if(Ke.resume_command)try{await navigator.clipboard.writeText(Ke.resume_command),L(!0),setTimeout(()=>L(!1),2e3)}catch(xe){console.error("Failed to copy resume command:",xe)}},tn=(r?.prompt_batches??[]).filter(xe=>xe.source_type==="plan"),ga=v.useMemo(()=>tn.map(xe=>({id:parseInt(xe.id),file_path:xe.plan_file_path})),[tn]);if(ES(ga),l)return n.jsx("div",{children:"Loading session details..."});if(!r)return n.jsx("div",{children:"Session not found"});const{session:Ke,prompt_batches:kn}=r,ya=El(Ke),Wn=d?kn:kn.filter(xe=>xe.source_type!=="system"),yn=kn.filter(xe=>xe.source_type==="system").length;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[n.jsx(Ze,{to:"/activity/sessions",className:"p-2 hover:bg-accent rounded-full flex-shrink-0","aria-label":"Back to sessions",children:n.jsx(bA,{className:"w-5 h-5"})}),ee?n.jsx("input",{type:"text",value:G,onChange:xe=>J(xe.target.value),onKeyDown:xe=>{xe.key==="Enter"&&G.trim()?S.mutate({sessionId:Ke.id,title:G.trim()},{onSuccess:()=>Y(!1)}):xe.key==="Escape"&&Y(!1)},onBlur:()=>{G.trim()&&G.trim()!==ya?S.mutate({sessionId:Ke.id,title:G.trim()},{onSuccess:()=>Y(!1)}):Y(!1)},className:"text-2xl font-bold tracking-tight bg-transparent border-b-2 border-primary outline-none w-full",autoFocus:!0,maxLength:200}):n.jsxs("h1",{className:"text-2xl font-bold tracking-tight group/title cursor-pointer flex items-center gap-2",onClick:()=>{J(Ke.title||ya),Y(!0)},title:"Click to edit title",children:[ya,n.jsx(Kp,{className:"w-4 h-4 text-muted-foreground opacity-0 group-hover/title:opacity-100 transition-opacity"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[ne?.active&&ne.public_url&&n.jsx(fe,{variant:"outline",size:"sm",onClick:en,children:O?n.jsxs(n.Fragment,{children:[n.jsx(pa,{className:"w-4 h-4 mr-2 text-green-500"}),"Copied!"]}):n.jsxs(n.Fragment,{children:[n.jsx(fc,{className:"w-4 h-4 mr-2"}),"Share"]})}),Ke.status==="active"&&n.jsx(fe,{variant:"outline",size:"sm",onClick:()=>e&&C.mutate(e),disabled:C.isPending,children:C.isPending?n.jsxs(n.Fragment,{children:[n.jsx($e,{className:"w-4 h-4 mr-2 animate-spin"}),"Completing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ln,{className:"w-4 h-4 mr-2"}),"Complete Session"]})}),n.jsxs(fe,{variant:"outline",size:"sm",className:"text-red-500 hover:text-red-600 hover:bg-red-500/10 border-red-500/30",onClick:()=>B.openDialog(Ke.id),children:[n.jsx(za,{className:"w-4 h-4 mr-2"}),"Delete Session"]})]})]}),Ke.resume_command&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("code",{className:"flex-1 px-3 py-2 text-sm bg-muted/50 rounded-md font-mono text-muted-foreground border",children:Ke.resume_command}),n.jsx(fe,{variant:"outline",size:"sm",className:"h-9 px-3",onClick:gt,title:"Copy resume command","aria-label":"Copy resume command",children:A?n.jsx(pa,{className:"w-4 h-4 text-green-500"}):n.jsx(Sl,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs(Te,{children:[n.jsx(Me,{className:"pb-2",children:n.jsx(Ie,{className:"text-sm font-medium",children:"Status"})}),n.jsx(ke,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:he("w-2 h-2 rounded-full",Ke.status==="active"?"bg-green-500":"bg-muted-foreground")}),n.jsx("span",{className:"capitalize font-medium",children:Ke.status})]})})]}),n.jsxs(Te,{children:[n.jsx(Me,{className:"pb-2",children:n.jsx(Ie,{className:"text-sm font-medium",children:"Started"})}),n.jsx(ke,{className:"text-sm",children:Ma(Ke.started_at)})]}),n.jsxs(Te,{children:[n.jsx(Me,{className:"pb-2",children:n.jsx(Ie,{className:"text-sm font-medium",children:"Prompts"})}),n.jsx(ke,{className:"text-2xl font-bold",children:Ke.prompt_batch_count})]}),n.jsxs(Te,{children:[n.jsx(Me,{className:"pb-2",children:n.jsx(Ie,{className:"text-sm font-medium",children:"Activities"})}),n.jsx(ke,{className:"text-2xl font-bold",children:Ke.activity_count})]})]}),(()=>{const xe=!!(Ke.parent_session_id||Ke.child_session_count>0),Et=E&&E.related.length>0,Gt=xe||Et,bt=!xe,Pt=xe||(ae!==null?ae:Et);return n.jsxs(Te,{children:[n.jsxs(Me,{className:he("pb-3",!Pt&&"pb-3"),children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("button",{className:"flex items-center gap-2 text-lg font-semibold hover:text-foreground/80 transition-colors",onClick:()=>bt&&k(!Pt),disabled:!bt,children:[n.jsx($p,{className:"w-5 h-5 text-blue-500"}),"Session Lineage",bt&&(Pt?n.jsx(Or,{className:"w-4 h-4 text-muted-foreground"}):n.jsx(Mr,{className:"w-4 h-4 text-muted-foreground"})),!Gt&&!Pt&&n.jsx("span",{className:"text-xs font-normal text-muted-foreground ml-2",children:"No linked sessions"})]}),n.jsx("div",{className:"flex items-center gap-2",children:Ke.parent_session_id?n.jsxs(fe,{variant:"outline",size:"sm",className:"h-8 text-xs",onClick:()=>M.openDialog(Ke.id),children:[n.jsx(FO,{className:"w-3 h-3 mr-1"}),"Unlink"]}):n.jsxs(fe,{variant:"outline",size:"sm",className:"h-8 text-xs",onClick:()=>_e.openDialog(),children:[n.jsx(xd,{className:"w-3 h-3 mr-1"}),"Link to Parent"]})})]}),xe&&n.jsx("div",{className:"mt-2",children:n.jsx(Kz,{parentSessionId:Ke.parent_session_id,parentSessionReason:Ke.parent_session_reason,childCount:Ke.child_session_count})})]}),Pt&&n.jsx(ke,{children:n.jsx(Qz,{sessionId:Ke.id})})]})})(),n.jsxs(Te,{children:[n.jsx(Me,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ie,{className:"flex items-center gap-2 text-lg",children:[n.jsx(mR,{className:"w-5 h-5 text-green-500"}),"Session Summary",Ke.summary&&(Ke.summary_embedded?n.jsx("span",{className:"flex items-center text-xs text-green-600",title:"Indexed in search",children:n.jsx(Ln,{className:"w-3.5 h-3.5"})}):n.jsx("span",{className:"flex items-center text-xs text-muted-foreground",title:"Not yet indexed",children:n.jsx(Yp,{className:"w-3.5 h-3.5"})}))]}),n.jsx(fe,{variant:"outline",size:"sm",className:"h-8 text-xs",onClick:Dt,disabled:N.isPending,children:N.isPending?n.jsxs(n.Fragment,{children:[n.jsx($e,{className:"w-3 h-3 mr-1 animate-spin"}),"Generating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ja,{className:"w-3 h-3 mr-1"}),"Regenerate Summary"]})})]})}),n.jsxs(ke,{children:[D&&n.jsx("div",{className:he("mb-3 p-3 rounded-md text-sm",D.type==="success"?"bg-green-500/10 text-green-600":"bg-red-500/10 text-red-600"),children:D.text}),Ke.summary?n.jsx("div",{className:"p-4 rounded-lg bg-muted/30 text-sm",children:n.jsx(ki,{content:Ke.summary})}):n.jsx("div",{className:"text-sm text-muted-foreground text-center py-4",children:'No summary generated yet. Click "Regenerate Summary" to create one.'})]})]}),tn.length>0&&n.jsxs(Te,{children:[n.jsx(Me,{className:"pb-3",children:n.jsxs(Ie,{className:"flex items-center gap-2 text-lg",children:[n.jsx(Pn,{className:"w-5 h-5 text-amber-500"}),"Plans (",tn.length,")"]})}),n.jsx(ke,{className:"space-y-3",children:tn.map(xe=>{const Et=xe.plan_file_path?.split("/").pop()||`Plan #${xe.prompt_number}`,Gt=!!xe.plan_content;return n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-amber-500/5 border-amber-500/20",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Pn,{className:"w-4 h-4 text-amber-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",children:Et}),xe.plan_file_path&&n.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-md",title:xe.plan_file_path,children:xe.plan_file_path})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-xs text-muted-foreground",children:Ma(xe.started_at)}),n.jsxs(fe,{variant:"outline",size:"sm",className:"h-7 text-xs border-amber-500/30 text-amber-600 hover:bg-amber-500/10",onClick:()=>Z(xe),title:Gt?"View plan content":"Plan content not available",children:[n.jsx(Pn,{className:"w-3 h-3 mr-1"}),"View Plan"]})]})]},xe.id)})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-xl font-semibold",children:"Timeline"}),yn>0&&n.jsxs(fe,{variant:"outline",size:"sm",className:"h-8 gap-2 text-xs",onClick:()=>f(!d),title:"System prompts are auto-generated during context compaction or continuation",children:[d?n.jsx(dc,{className:"w-3 h-3"}):n.jsx(uj,{className:"w-3 h-3"}),d?"Hide":"Show"," system prompts (",yn,")"]})]}),n.jsx("div",{className:"relative border-l ml-4 space-y-8 pl-8 pb-8",children:Wn.map(xe=>{const Et=xe.source_type||"user",Gt=Wu[Et]||Wu.user,bt=Gt.icon,{text:Pt,truncated:ce}=n6(xe.user_prompt,Gh);return n.jsxs("div",{className:he("relative",Gt.muted&&"opacity-70"),children:[n.jsx("span",{className:he("absolute -left-[41px] bg-background p-1 border rounded-full",Gt.badge),children:n.jsx(bt,{className:"w-4 h-4"})}),n.jsxs("div",{className:"mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsxs("p",{className:"font-medium text-sm text-muted-foreground",children:["Prompt #",xe.prompt_number]}),n.jsx("span",{className:he("px-2 py-0.5 text-xs rounded-full border flex items-center gap-1",Gt.badge),children:Gt.label}),xe.classification&&n.jsx("span",{className:"px-2 py-0.5 text-xs rounded-full bg-muted text-muted-foreground",children:xe.classification})]}),n.jsxs("div",{className:he("p-4 rounded-lg border text-sm whitespace-pre-wrap",Gt.muted?"bg-muted/20":"bg-muted/30"),children:[Pt,ce&&n.jsxs(fe,{variant:"link",size:"sm",className:"h-auto p-0 ml-1 text-xs text-blue-500 hover:text-blue-600",onClick:()=>ie(xe),children:[n.jsx(vl,{className:"w-3 h-3 mr-1"}),"View full prompt"]})]})]}),xe.response_summary&&(()=>{const ve=xe.response_summary.length>Gh;return n.jsxs("div",{className:he("p-4 rounded-lg border text-sm mt-2","bg-green-500/5 border-green-500/20"),children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("div",{className:"font-semibold text-green-600 text-xs",children:"Agent Response"}),ve&&n.jsxs(fe,{variant:"ghost",size:"sm",className:"h-auto p-0 text-xs text-green-500 hover:text-green-600",onClick:()=>Ne(xe),children:[n.jsx(vl,{className:"w-3 h-3 mr-1"}),"View full response"]})]}),n.jsx(ki,{content:ve?`${xe.response_summary.slice(0,Gh)}...`:xe.response_summary,className:"text-foreground"})]})})(),n.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-4 mt-2 flex-wrap",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Qs,{className:"w-3 h-3"})," ",Ma(xe.started_at)]}),n.jsxs(fe,{variant:"ghost",size:"sm",className:"h-6 gap-1 text-xs",onClick:()=>z(xe.id),children:[o[xe.id]?n.jsx(Or,{className:"w-3 h-3"}):n.jsx(Mr,{className:"w-3 h-3"}),n.jsx(_i,{className:"w-3 h-3"})," ",xe.activity_count>0?`${xe.activity_count} activities`:"View activities"]}),(Et==="agent_notification"||Et==="system")&&n.jsxs(fe,{variant:"ghost",size:"sm",className:"h-6 gap-1 text-xs text-purple-500 hover:text-purple-600 hover:bg-purple-500/10",onClick:()=>I(xe.id),disabled:w===xe.id,title:"Extract memories from this batch. System prompts after compaction or continuation often contain valuable context that's skipped by default.",children:[w===xe.id?n.jsx($e,{className:"w-3 h-3 animate-spin"}):n.jsx(yj,{className:"w-3 h-3"}),w===xe.id?"Promoting...":"Promote"]}),Et==="plan"&&(xe.plan_content||xe.plan_file_path)&&n.jsxs(fe,{variant:"ghost",size:"sm",className:"h-6 gap-1 text-xs text-amber-500 hover:text-amber-600 hover:bg-amber-500/10",title:"View plan content",onClick:()=>Z(xe),children:[n.jsx(Pn,{className:"w-3 h-3"}),"View Plan"]}),n.jsx("button",{onClick:()=>F.openDialog(parseInt(xe.id)),className:"p-1 rounded text-muted-foreground hover:text-red-500 hover:bg-red-500/10 transition-colors",title:"Delete batch","aria-label":"Delete batch",children:n.jsx(za,{className:"w-3 h-3"})})]}),o[xe.id]&&n.jsx(Yz,{batchId:xe.id})]},xe.id)})})]}),n.jsx(ha,{open:B.isOpen,onOpenChange:B.setIsOpen,title:ms.SESSION.title,description:ms.SESSION.description,onConfirm:le,isLoading:x.isPending}),n.jsx(ha,{open:F.isOpen,onOpenChange:F.setIsOpen,title:ms.BATCH.title,description:ms.BATCH.description,onConfirm:T,isLoading:h.isPending}),n.jsx(xc,{open:q.isOpen,onOpenChange:q.setIsOpen,title:q.dialogContent?.title||"",subtitle:q.dialogContent?.subtitle,content:q.dialogContent?.content||"",renderMarkdown:q.dialogContent?.renderMarkdown}),n.jsx(ha,{open:M.isOpen,onOpenChange:M.setIsOpen,title:"Unlink Session",description:"This will remove the link to the parent session. The sessions will no longer be connected in the lineage. This action can be reversed by re-linking.",confirmLabel:"Unlink",onConfirm:Qe,isLoading:b.isPending,variant:"default"}),n.jsx(iE,{open:_e.isOpen,onOpenChange:_e.setIsOpen,title:"Link to Parent Session",description:"Select a session to link as the parent of this session",excludeSessionId:Ke.id,onSelect:Fe,isLoading:y.isPending})]})}function Uo({origin:e}){return e?n.jsx("span",{className:he("text-xs px-2 py-0.5 rounded-full",Yk[e]),children:$k[e]}):null}function s6(){const{data:e,isLoading:s}=zd(),r=rx(),[l,o]=v.useState(null),[u,d]=v.useState(!1),[f,x]=v.useState(null),[h,g]=v.useState([]),[y,b]=v.useState(!1),[N,C]=v.useState(!1),[S,E]=v.useState(null),[w,R]=v.useState([]),[D,Q]=v.useState(!1),[ae,k]=v.useState(!1),[A,L]=v.useState(null),O=v.useMemo(()=>{const I=[],Z=l?.embedding;if(!Z)return{isValid:!1,errors:["Loading..."],warnings:[]};Z.provider||I.push("Select a provider"),Z.base_url||I.push("Enter a base URL"),Z.model||I.push("Select a model"),Z.dimensions||I.push("Dimensions required (click Test & Detect or enter manually)"),Z.max_tokens||I.push("Context window required (click Test & Detect or enter manually)"),Z.chunk_size||I.push("Chunk size required (auto-calculated from context window)");const ie=[];if(Z.chunk_size&&Z.max_tokens){const Ne=Number(Z.chunk_size),Fe=Number(Z.max_tokens);Ne>=Fe?I.push("Chunk size must be smaller than context window"):Ne>Fe*lA&&ie.push("Chunk size is close to context limit - consider reducing")}return S?.success||ie.push("Run Test & Detect to verify configuration"),{isValid:I.length===0,errors:I,warnings:ie}},[l?.embedding,S?.success]),X=v.useMemo(()=>{const I=[],Z=[],ie=l?.summarization;return ie?ie.enabled?(ie.provider||I.push("Select a provider"),ie.base_url||I.push("Enter a base URL"),ie.model||I.push("Select a model"),ie.max_tokens||I.push("Context window required (click Test & Detect or enter manually)"),A?.success||Z.push("Run Test & Detect to verify configuration"),{isValid:I.length===0,errors:I,warnings:Z,isEnabled:!0}):{isValid:!0,errors:[],warnings:[],isEnabled:!1}:{isValid:!0,errors:[],warnings:[],isEnabled:!1}},[l?.summarization,A?.success]),ee=v.useMemo(()=>u&&O.isValid&&X.isValid,[u,O.isValid,X.isValid]),[Y,G]=v.useState(!1),[J,ne]=v.useState(!1);v.useEffect(()=>{if(e&&!u){const I=JSON.parse(JSON.stringify(e));I.embedding.max_tokens=e.embedding.context_tokens??"",I.embedding.chunk_size=e.embedding.max_chunk_chars??"",I.summarization.max_tokens=e.summarization.context_tokens??"",I.log_rotation=e.log_rotation??{enabled:ls.ENABLED,max_size_mb:ls.MAX_SIZE_MB,backup_count:ls.BACKUP_COUNT},I.session_quality=e.session_quality??{min_activities:il.MIN_ACTIVITIES,stale_timeout_seconds:il.STALE_TIMEOUT_SECONDS},I.auto_resolve=e.auto_resolve??{enabled:Qa.ENABLED,similarity_threshold:Qa.SIMILARITY_THRESHOLD,similarity_threshold_no_context:Qa.SIMILARITY_THRESHOLD_NO_CONTEXT,search_limit:Qa.SEARCH_LIMIT},o(I)}},[e,u]),v.useEffect(()=>{e&&!Y&&(G(!0),e.embedding?.provider&&e.embedding?.base_url?Z0(e.embedding.provider,e.embedding.base_url).then(I=>{const Z=I;Z.success&&Z.models&&g(Z.models)}).catch(()=>{}).finally(()=>ne(!0)):ne(!0),e.summarization?.enabled&&e.summarization?.provider&&e.summarization?.base_url&&J0(e.summarization.provider,e.summarization.base_url).then(I=>{const Z=I;Z.success&&Z.models&&R(Z.models)}).catch(()=>{}))},[e,Y]);const B=v.useCallback((I,Z,ie)=>{const Ne={[Z]:ie};if(Z==="provider"&&typeof ie=="string"&&(Ne.base_url=WT(ie),Ne.model=""),I===st.EMBEDDING&&Z==="max_tokens"&&ie){const Fe=Number(ie);!isNaN(Fe)&&Fe>0&&(Ne.chunk_size=ph(Fe))}o(Fe=>Fe&&{...Fe,[I]:{...Fe[I],...Ne}}),d(!0),x(null),I===st.EMBEDDING&&(Z==="provider"||Z==="base_url"||Z==="model")&&(E(null),g([])),I===st.SUMMARIZATION&&(Z==="provider"||Z==="base_url"||Z==="model")&&(L(null),R([]))},[]),F=async()=>{if(l){b(!0),E(null);try{const I=await Z0(l.embedding.provider,l.embedding.base_url);I.success&&I.models?(g(I.models),I.models.length===0&&E({success:!1,error:"No models found. Pull a model first."})):E({success:!1,error:I.error||"Discovery failed"})}catch(I){const Z=I instanceof Error?I.message:"Unknown error";E({success:!1,error:Z})}finally{b(!1)}}},q=v.useCallback(I=>{const Z=h.find(Qe=>Qe.name===I),ie=Z?.dimensions||"",Ne=Z?.context_window||"",Fe=Ne?ph(Number(Ne)):"";o(Qe=>Qe&&{...Qe,[st.EMBEDDING]:{...Qe.embedding,model:I,dimensions:ie,max_tokens:Ne,chunk_size:Fe}}),d(!0),E(null)},[h]),_e=async()=>{if(l){C(!0);try{const I=await rM(l.embedding);if(E(I),I.success){const Z={};I.dimensions&&(Z.dimensions=I.dimensions),I.context_window&&(Z.max_tokens=I.context_window,Z.chunk_size=ph(I.context_window)),Object.keys(Z).length>0&&(o(ie=>ie&&{...ie,[st.EMBEDDING]:{...ie.embedding,...Z}}),d(!0))}}catch(I){const Z=I instanceof Error?I.message:"Unknown error";E({success:!1,error:Z})}finally{C(!1)}}},M=async()=>{if(l){Q(!0),L(null);try{const I=await J0(l.summarization.provider,l.summarization.base_url);I.success&&I.models?R(I.models):L({success:!1,error:I.error||"Discovery failed"})}catch(I){const Z=I instanceof Error?I.message:"Unknown error";L({success:!1,error:Z})}finally{Q(!1)}}},z=v.useCallback(I=>{const ie=w.find(Ne=>Ne.id===I)?.context_window||"";o(Ne=>Ne&&{...Ne,[st.SUMMARIZATION]:{...Ne.summarization,model:I,max_tokens:ie}}),d(!0),L(null)},[w]),le=async()=>{if(l){k(!0);try{const I=await lM(l.summarization);if(L(I),I.success){let Z=null;if(I.context_window&&(Z=I.context_window),!Z){const ie=w.find(Ne=>Ne.id===l.summarization.model);ie?.context_window&&(Z=ie.context_window)}Z&&(o(ie=>ie&&{...ie,[st.SUMMARIZATION]:{...ie.summarization,max_tokens:Z}}),d(!0))}}catch(I){const Z=I instanceof Error?I.message:"Unknown error";L({success:!1,error:Z})}finally{k(!1)}}},T=async()=>{if(l)try{const I=l.embedding,Z=l.summarization,ie=l.log_rotation,Ne=l.session_quality,Fe=l.auto_resolve,Qe={[st.EMBEDDING]:{provider:I.provider,model:I.model,base_url:I.base_url,dimensions:Bu(I.dimensions),context_tokens:Bu(I.max_tokens),max_chunk_chars:Bu(I.chunk_size)},[st.SUMMARIZATION]:{enabled:Z.enabled,provider:Z.provider,model:Z.model,base_url:Z.base_url,context_tokens:Bu(Z.max_tokens)},log_rotation:{enabled:ie.enabled,max_size_mb:ie.max_size_mb,backup_count:ie.backup_count},session_quality:{min_activities:Ne.min_activities,stale_timeout_seconds:Ne.stale_timeout_seconds},auto_resolve:{enabled:Fe.enabled,similarity_threshold:Fe.similarity_threshold,similarity_threshold_no_context:Fe.similarity_threshold_no_context,search_limit:Fe.search_limit}},Dt=await r.mutateAsync(Qe);x({type:"success",text:Dt.message||"Configuration saved."}),d(!1),E(null),L(null)}catch(I){const Z=I instanceof Error?I.message:"Failed to save configuration.";x({type:"error",text:Z})}};return s||!l?n.jsxs("div",{className:"p-8 flex items-center justify-center",children:[n.jsx($e,{className:"animate-spin mr-2"})," Loading config..."]}):n.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto pb-12",children:[n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Configuration"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage embedding providers, summarization, and system settings."})]}),f&&n.jsxs("div",{className:he("p-4 rounded-md flex items-center gap-2",f.type==="success"?"bg-green-500/10 text-green-600":"bg-red-500/10 text-red-600"),children:[f.type==="error"&&n.jsx(jt,{className:"w-4 h-4"}),f.text]}),J&&h.length===0&&!S?.success&&n.jsx(Te,{className:"border-yellow-500/50 bg-yellow-500/5",children:n.jsx(ke,{className:"py-4",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx(bl,{className:"w-5 h-5 text-yellow-500 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx("div",{className:"font-medium text-yellow-500",children:"No embedding models detected"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Codebase Intelligence requires an embedding model to index your code. Set up Ollama or LM Studio to get started."}),n.jsx(Ze,{to:"/help",children:n.jsxs(fe,{variant:"outline",size:"sm",className:"gap-2 mt-2",children:["View Setup Guide",n.jsx(Dd,{className:"w-4 h-4"})]})})]})]})})}),n.jsxs(Te,{children:[n.jsx(Me,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ie,{children:"Embedding Settings"}),n.jsx(Uo,{origin:e?.origins?.embedding})]}),n.jsxs(tt,{children:["Configure the model used for semantic search code indexing."," ",n.jsxs(Ze,{to:"/help",className:"inline-flex items-center gap-1 text-primary hover:underline",children:[n.jsx(rp,{className:"h-3 w-3"}),"Setup Guide"]})]})]}),n.jsx(up,{show:O.isValid})]})}),n.jsxs(ke,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx(Gs,{step:1,title:"Connect to Provider",isComplete:!!(l[st.EMBEDDING].provider&&l[st.EMBEDDING].base_url)}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 pl-7",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(gn,{children:"Provider"}),n.jsx(K0,{value:l[st.EMBEDDING].provider,onChange:I=>{B(st.EMBEDDING,"provider",I)}})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(gn,{children:"Base URL"}),n.jsx(dp,{value:l[st.EMBEDDING].base_url,onChange:I=>B(st.EMBEDDING,"base_url",I),onRefresh:F,isRefreshing:y})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(Gs,{step:2,title:"Select Model",isComplete:!!l[st.EMBEDDING].model}),n.jsx("div",{className:"pl-7",children:n.jsx(fp,{value:l[st.EMBEDDING].model,models:h,onChange:I=>q(I),placeholder:Bk,showDimensions:!0,helpText:h.length===0?"Models will auto-load. Click refresh if discovery fails.":"Select a model from the dropdown."})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(Gs,{step:3,title:"Test & Configure",isComplete:!!S?.success}),n.jsxs("div",{className:"pl-7 grid grid-cols-2 gap-4 bg-muted/30 p-4 rounded-md border border-dashed",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(gn,{children:"Dimensions"}),n.jsx(da,{type:"number",value:l[st.EMBEDDING].dimensions||"",onChange:I=>{const Z=I.target.value;B(st.EMBEDDING,"dimensions",Z===""?"":parseInt(Z,10)||"")},placeholder:Gk})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(gn,{children:"Chunk Size"}),n.jsx(da,{type:"number",value:l[st.EMBEDDING].chunk_size||"",onChange:I=>{const Z=I.target.value;B(st.EMBEDDING,"chunk_size",Z===""?"":parseInt(Z,10)||"")},placeholder:qk})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(gn,{children:"Context Window"}),n.jsx(X0,{value:l[st.EMBEDDING].max_tokens||"",onChange:I=>B(st.EMBEDDING,"max_tokens",I),placeholder:Hk,presets:Uj})]}),n.jsx("div",{className:"space-y-2",children:n.jsx("div",{className:"h-full flex items-end",children:n.jsx(mp,{onClick:_e,isTesting:N,disabled:!l[st.EMBEDDING].model})})}),n.jsx("p",{className:"col-span-2 text-xs text-muted-foreground",children:"Click Test & Detect to auto-fill dimensions. Select a common context window or enter manually."}),n.jsx(cp,{result:S})]})]})]})]}),n.jsxs(Te,{children:[n.jsx(Me,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",id:"sum_enabled",checked:l[st.SUMMARIZATION].enabled,onChange:I=>B(st.SUMMARIZATION,"enabled",I.target.checked),className:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ie,{children:"Summarization"}),n.jsx(Uo,{origin:e?.origins?.summarization})]}),n.jsxs(tt,{children:["Enable LLM-powered activity summarization."," ",n.jsxs(Ze,{to:"/help",className:"inline-flex items-center gap-1 text-primary hover:underline",children:[n.jsx(rp,{className:"h-3 w-3"}),"Model recommendations"]})]})]})]}),n.jsx(up,{show:l[st.SUMMARIZATION].enabled&&X.isValid})]})}),n.jsxs(ke,{className:he("space-y-6 transition-all",!l[st.SUMMARIZATION].enabled&&"opacity-50 pointer-events-none"),children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx(Gs,{step:1,title:"Connect to Provider",isComplete:!!(l[st.SUMMARIZATION].provider&&l[st.SUMMARIZATION].base_url)}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 pl-7",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(gn,{children:"Provider"}),n.jsx(K0,{value:l[st.SUMMARIZATION].provider,onChange:I=>{B(st.SUMMARIZATION,"provider",I)}})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(gn,{children:"Base URL"}),n.jsx(dp,{value:l[st.SUMMARIZATION].base_url,onChange:I=>B(st.SUMMARIZATION,"base_url",I),onRefresh:M,isRefreshing:D})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(Gs,{step:2,title:"Select Model",isComplete:!!l[st.SUMMARIZATION].model}),n.jsx("div",{className:"pl-7",children:n.jsx(fp,{value:l[st.SUMMARIZATION].model,models:w,onChange:I=>z(I),placeholder:Fk,helpText:w.length===0?"Models will auto-load. Click refresh if discovery fails.":"Select a model from the dropdown."})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(Gs,{step:3,title:"Test & Configure",isComplete:!!A?.success}),n.jsxs("div",{className:"pl-7 grid grid-cols-2 gap-4 bg-muted/30 p-4 rounded-md border border-dashed",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(gn,{children:"Context Window"}),n.jsx(X0,{value:l[st.SUMMARIZATION].max_tokens||"",onChange:I=>B(st.SUMMARIZATION,"max_tokens",I),placeholder:Vk,presets:Z4})]}),n.jsx("div",{className:"space-y-2",children:n.jsx("div",{className:"h-full flex items-end",children:n.jsx(mp,{onClick:le,isTesting:ae,disabled:!l[st.SUMMARIZATION].model})})}),n.jsx("p",{className:"col-span-2 text-xs text-muted-foreground",children:"Click Test & Detect to verify connection. Select a common context window or enter manually."}),n.jsx(cp,{result:A})]})]})]}),n.jsxs(ps,{className:"bg-muted/30 py-4 flex flex-col gap-3 border-t",children:[u&&(!O.isValid||!X.isValid||O.warnings.length>0||X.warnings.length>0)&&n.jsxs("div",{className:"w-full text-sm space-y-1",children:[O.errors.length>0&&n.jsxs("div",{className:"text-amber-600 flex items-start gap-2",children:[n.jsx(jt,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),n.jsxs("span",{children:[n.jsx("strong",{children:"Embedding:"})," ",O.errors[0]]})]}),O.warnings.length>0&&O.isValid&&n.jsxs("div",{className:"text-yellow-600 flex items-start gap-2",children:[n.jsx(jt,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),n.jsxs("span",{children:[n.jsx("strong",{children:"Embedding:"})," ",O.warnings[0]]})]}),X.isEnabled&&X.errors.length>0&&n.jsxs("div",{className:"text-amber-600 flex items-start gap-2",children:[n.jsx(jt,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),n.jsxs("span",{children:[n.jsx("strong",{children:"Summarization:"})," ",X.errors[0]]})]}),X.isEnabled&&X.warnings.length>0&&X.isValid&&n.jsxs("div",{className:"text-yellow-600 flex items-start gap-2",children:[n.jsx(jt,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),n.jsxs("span",{children:[n.jsx("strong",{children:"Summarization:"})," ",X.warnings[0]]})]})]}),n.jsx("div",{className:"w-full flex justify-end",children:n.jsxs(fe,{onClick:T,disabled:!ee||r.isPending,size:"lg",className:"shadow-lg",children:[r.isPending&&n.jsx($e,{className:"mr-2 h-4 w-4 animate-spin"}),n.jsx(hs,{className:"mr-2 h-4 w-4"})," Save Configuration"]})})]})]}),n.jsxs(Te,{children:[n.jsxs(Me,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ie,{children:"Session Quality"}),n.jsx(Uo,{origin:e?.origins?.session_quality})]}),n.jsx(tt,{children:"Configure thresholds for session quality and cleanup behavior."})]}),n.jsxs(ke,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(gn,{children:"Minimum Activities"}),n.jsx(da,{type:"number",min:rs.MIN_ACTIVITY_THRESHOLD,max:rs.MAX_ACTIVITY_THRESHOLD,value:l.session_quality?.min_activities??il.MIN_ACTIVITIES,onChange:I=>{const Z=parseInt(I.target.value,10)||il.MIN_ACTIVITIES;o(ie=>ie&&{...ie,session_quality:{...ie.session_quality,min_activities:Math.min(Math.max(Z,rs.MIN_ACTIVITY_THRESHOLD),rs.MAX_ACTIVITY_THRESHOLD)}}),d(!0)}}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Sessions with fewer tool calls are not titled, summarized, or embedded. Range: ",rs.MIN_ACTIVITY_THRESHOLD,"-",rs.MAX_ACTIVITY_THRESHOLD]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(gn,{children:"Stale Timeout (seconds)"}),n.jsx(da,{type:"number",min:rs.MIN_STALE_TIMEOUT,max:rs.MAX_STALE_TIMEOUT,value:l.session_quality?.stale_timeout_seconds??il.STALE_TIMEOUT_SECONDS,onChange:I=>{const Z=parseInt(I.target.value,10)||il.STALE_TIMEOUT_SECONDS;o(ie=>ie&&{...ie,session_quality:{...ie.session_quality,stale_timeout_seconds:Math.min(Math.max(Z,rs.MIN_STALE_TIMEOUT),rs.MAX_STALE_TIMEOUT)}}),d(!0)}}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Sessions inactive longer than this are auto-completed or deleted. Currently: ",_k(l.session_quality?.stale_timeout_seconds??il.STALE_TIMEOUT_SECONDS)]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground bg-muted/30 p-3 rounded-md",children:[n.jsx(jt,{className:"h-4 w-4"}),n.jsx("span",{children:"Sessions below the quality threshold are deleted during stale recovery. Quality sessions are marked completed for summarization."})]})]}),n.jsxs(ps,{className:"bg-muted/30 py-3 border-t flex items-center justify-between",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Changes take effect immediately for new sessions."}),n.jsxs(fe,{onClick:T,disabled:!u||r.isPending,size:"sm",children:[r.isPending&&n.jsx($e,{className:"mr-2 h-4 w-4 animate-spin"}),n.jsx(hs,{className:"mr-2 h-4 w-4"})," Save"]})]})]}),n.jsxs(Te,{children:[n.jsxs(Me,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ie,{children:"Auto-Resolve"}),n.jsx(Uo,{origin:e?.origins?.auto_resolve})]}),n.jsx(tt,{children:"When new observations are stored, automatically supersede older duplicates."})]}),n.jsxs(ke,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"checkbox",id:"auto_resolve_enabled",checked:l.auto_resolve?.enabled??Qa.ENABLED,onChange:I=>{o(Z=>Z&&{...Z,auto_resolve:{...Z.auto_resolve,enabled:I.target.checked}}),d(!0)},className:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"}),n.jsx("label",{htmlFor:"auto_resolve_enabled",className:"text-sm font-medium cursor-pointer",children:"Enable automatic supersession of duplicate observations"})]}),n.jsxs("div",{className:he("grid grid-cols-3 gap-4",!l.auto_resolve?.enabled&&"opacity-50 pointer-events-none"),children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(gn,{children:"Similarity Threshold"}),n.jsx(da,{type:"number",min:Rn.SIMILARITY_MIN,max:Rn.SIMILARITY_MAX,step:.01,value:l.auto_resolve?.similarity_threshold??Qa.SIMILARITY_THRESHOLD,onChange:I=>{const Z=parseFloat(I.target.value)||Qa.SIMILARITY_THRESHOLD;o(ie=>ie&&{...ie,auto_resolve:{...ie.auto_resolve,similarity_threshold:Math.min(Math.max(Z,Rn.SIMILARITY_MIN),Rn.SIMILARITY_MAX)}}),d(!0)}}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["When context (file path) matches. Range: ",Rn.SIMILARITY_MIN,"",Rn.SIMILARITY_MAX]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(gn,{children:"No-Context Threshold"}),n.jsx(da,{type:"number",min:Rn.SIMILARITY_MIN,max:Rn.SIMILARITY_MAX,step:.01,value:l.auto_resolve?.similarity_threshold_no_context??Qa.SIMILARITY_THRESHOLD_NO_CONTEXT,onChange:I=>{const Z=parseFloat(I.target.value)||Qa.SIMILARITY_THRESHOLD_NO_CONTEXT;o(ie=>ie&&{...ie,auto_resolve:{...ie.auto_resolve,similarity_threshold_no_context:Math.min(Math.max(Z,Rn.SIMILARITY_MIN),Rn.SIMILARITY_MAX)}}),d(!0)}}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"When observations lack shared context. Must be  similarity threshold."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(gn,{children:"Search Limit"}),n.jsx(da,{type:"number",min:Rn.SEARCH_LIMIT_MIN,max:Rn.SEARCH_LIMIT_MAX,value:l.auto_resolve?.search_limit??Qa.SEARCH_LIMIT,onChange:I=>{const Z=parseInt(I.target.value,10)||Qa.SEARCH_LIMIT;o(ie=>ie&&{...ie,auto_resolve:{...ie.auto_resolve,search_limit:Math.min(Math.max(Z,Rn.SEARCH_LIMIT_MIN),Rn.SEARCH_LIMIT_MAX)}}),d(!0)}}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Max candidates checked per observation. Range: ",Rn.SEARCH_LIMIT_MIN,"",Rn.SEARCH_LIMIT_MAX]})]})]})]}),n.jsxs(ps,{className:"bg-muted/30 py-3 border-t flex items-center justify-between",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Changes take effect immediately for new observations."}),n.jsxs(fe,{onClick:T,disabled:!u||r.isPending,size:"sm",children:[r.isPending&&n.jsx($e,{className:"mr-2 h-4 w-4 animate-spin"}),n.jsx(hs,{className:"mr-2 h-4 w-4"})," Save"]})]})]}),n.jsxs(Te,{children:[n.jsxs(Me,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ie,{children:"Logging"}),n.jsx(Uo,{origin:e?.origins?.log_rotation})]}),n.jsx(tt,{children:"Configure log file rotation to prevent unbounded disk usage."})]}),n.jsxs(ke,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"checkbox",id:"log_rotation_enabled",checked:l.log_rotation?.enabled??!0,onChange:I=>{o(Z=>Z&&{...Z,log_rotation:{...Z.log_rotation,enabled:I.target.checked}}),d(!0)},className:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"}),n.jsx(gn,{htmlFor:"log_rotation_enabled",children:"Enable log rotation"})]}),n.jsxs("div",{className:he("grid grid-cols-2 gap-4",!l.log_rotation?.enabled&&"opacity-50 pointer-events-none"),children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(gn,{children:"Max File Size (MB)"}),n.jsx(da,{type:"number",min:Fs.MIN_SIZE_MB,max:Fs.MAX_SIZE_MB,value:l.log_rotation?.max_size_mb??ls.MAX_SIZE_MB,onChange:I=>{const Z=parseInt(I.target.value,10)||ls.MAX_SIZE_MB;o(ie=>ie&&{...ie,log_rotation:{...ie.log_rotation,max_size_mb:Math.min(Math.max(Z,Fs.MIN_SIZE_MB),Fs.MAX_SIZE_MB)}}),d(!0)}}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Rotate when file exceeds this size (",Fs.MIN_SIZE_MB,"-",Fs.MAX_SIZE_MB," MB)"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(gn,{children:"Backup Count"}),n.jsx(da,{type:"number",min:0,max:Fs.MAX_BACKUP_COUNT,value:l.log_rotation?.backup_count??ls.BACKUP_COUNT,onChange:I=>{const Z=parseInt(I.target.value,10)||0;o(ie=>ie&&{...ie,log_rotation:{...ie.log_rotation,backup_count:Math.min(Math.max(Z,0),Fs.MAX_BACKUP_COUNT)}}),d(!0)}}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Keep up to ",Fs.MAX_BACKUP_COUNT," backup files (daemon.log.1, .2, etc.)"]})]})]}),l.log_rotation?.enabled&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground bg-muted/30 p-3 rounded-md",children:[n.jsx(jt,{className:"h-4 w-4"}),n.jsxs("span",{children:["Max disk usage: ",kk(l.log_rotation?.max_size_mb??ls.MAX_SIZE_MB,l.log_rotation?.backup_count??ls.BACKUP_COUNT)," MB (",l.log_rotation?.max_size_mb??ls.MAX_SIZE_MB," MB  ",1+(l.log_rotation?.backup_count??ls.BACKUP_COUNT)," files)"]})]})]}),n.jsxs(ps,{className:"bg-muted/30 py-3 border-t flex items-center justify-between",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Requires daemon restart to take effect."}),n.jsxs(fe,{onClick:T,disabled:!u||r.isPending,size:"sm",children:[r.isPending&&n.jsx($e,{className:"mr-2 h-4 w-4 animate-spin"}),n.jsx(hs,{className:"mr-2 h-4 w-4"})," Save"]})]})]}),n.jsx(r6,{})]})}function r6(){const e=Ve(),{data:s,isLoading:r}=oM(),l=cM(),[o,u]=v.useState(""),[d,f]=v.useState(!1),[x,h]=v.useState(!1),[g,y]=v.useState(null),b=async()=>{h(!0);try{const E=await qj();e.invalidateQueries({queryKey:["status"]}),E.indexing_started&&y({type:"success",text:"Re-indexing with updated exclusions..."})}catch(E){console.error("Failed to apply changes:",E)}finally{h(!1)}},N=async()=>{if(o.trim())try{const E=await l.mutateAsync({add:[o.trim()]});u(""),E.added?.length&&E.added.length>0?(y({type:"success",text:`Added: ${E.added.join(", ")}. Applying changes...`}),await b()):E.already_exists?.length&&E.already_exists.length>0&&y({type:"error",text:`Already excluded: ${E.already_exists.join(", ")}`})}catch(E){const w=E instanceof Error?E.message:"Unknown error";y({type:"error",text:w})}},C=async E=>{try{await l.mutateAsync({remove:[E]}),y({type:"success",text:`Removed: ${E}. Applying changes...`}),await b()}catch(w){const R=w instanceof Error?w.message:"Unknown error";y({type:"error",text:R})}},S=async()=>{f(!0);try{await uM(),e.invalidateQueries({queryKey:["exclusions"]}),y({type:"success",text:"Reset to defaults. Applying changes..."}),await b()}catch(E){const w=E instanceof Error?E.message:"Unknown error";y({type:"error",text:w})}finally{f(!1)}};return r?n.jsxs(Te,{children:[n.jsx(Me,{children:n.jsxs(Ie,{className:"flex items-center gap-2",children:[n.jsx(I0,{className:"h-5 w-5"}),"Directory Exclusions"]})}),n.jsx(ke,{className:"flex items-center justify-center p-8",children:n.jsx($e,{className:"animate-spin"})})]}):n.jsxs(Te,{children:[n.jsx(Me,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(Ie,{className:"flex items-center gap-2",children:[n.jsx(I0,{className:"h-5 w-5"}),"Directory Exclusions"]}),n.jsx(tt,{children:"Exclude directories and files from indexing. Changes are applied automatically."})]}),n.jsxs(fe,{variant:"outline",size:"sm",onClick:S,disabled:d||x,children:[d||x?n.jsx($e,{className:"h-4 w-4 animate-spin"}):n.jsx(gd,{className:"h-4 w-4"}),n.jsx("span",{className:"ml-2",children:x?"Applying...":"Reset"})]})]})}),n.jsxs(ke,{className:"space-y-4",children:[g&&n.jsxs("div",{className:he("p-3 rounded-md text-sm flex items-center gap-2",g.type==="success"?"bg-green-500/10 text-green-600":"bg-red-500/10 text-red-600"),children:[g.type==="success"?n.jsx(Ln,{className:"h-4 w-4"}):n.jsx(jt,{className:"h-4 w-4"}),g.text]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",value:o,onChange:E=>u(E.target.value),onKeyDown:E=>E.key==="Enter"&&N(),placeholder:"e.g., vendor, tmp/*, *.log",className:"flex-1 h-10 rounded-md border border-input bg-background px-3 py-2 text-sm placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring"}),n.jsxs(fe,{onClick:N,disabled:!o.trim()||l.isPending||x,children:[l.isPending||x?n.jsx($e,{className:"h-4 w-4 animate-spin"}):n.jsx(Ks,{className:"h-4 w-4"}),n.jsx("span",{className:"ml-2",children:x?"Applying...":"Add"})]})]}),s?.user_patterns&&s.user_patterns.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"text-sm font-medium",children:"Your Exclusions"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:s.user_patterns.map(E=>n.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full bg-primary/10 text-primary text-sm",children:[E,n.jsx("button",{onClick:()=>C(E),className:"ml-1 hover:text-destructive",children:n.jsx(Cn,{className:"h-3 w-3"})})]},E))})]}),n.jsxs("details",{className:"group",children:[n.jsxs("summary",{className:"cursor-pointer text-sm text-muted-foreground hover:text-foreground",children:["Built-in exclusions (",s?.default_patterns?.length||0," patterns)"]}),n.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:s?.default_patterns?.map(E=>n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded bg-muted text-muted-foreground text-xs",children:E},E))})]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Pattern format: ",n.jsx("code",{children:"dirname"})," matches anywhere, ",n.jsx("code",{children:"dirname/**"})," includes subdirs,",n.jsx("code",{children:"*.log"})," matches file extensions."]})]})]})}const l6=ax("relative w-full rounded-lg border px-4 py-3 text-sm grid grid-cols-[auto_1fr] gap-3 items-start [&>svg]:mt-0.5 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Da=v.forwardRef(({className:e,variant:s,...r},l)=>n.jsx("div",{ref:l,role:"alert",className:he(l6({variant:s}),e),...r}));Da.displayName="Alert";const Cd=v.forwardRef(({className:e,...s},r)=>n.jsx("h5",{ref:r,className:he("mb-1 font-medium leading-none tracking-tight",e),...s}));Cd.displayName="AlertTitle";const La=v.forwardRef(({className:e,...s},r)=>n.jsx("div",{ref:r,className:he("text-sm [&_p]:leading-relaxed",e),...s}));La.displayName="AlertDescription";function i6(e){const s=v.useRef({value:e,previous:e});return v.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}function o6(e){const[s,r]=v.useState(void 0);return Ti(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const l=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const u=o[0];let d,f;if("borderBoxSize"in u){const x=u.borderBoxSize,h=Array.isArray(x)?x[0]:x;d=h.inlineSize,f=h.blockSize}else d=e.offsetWidth,f=e.offsetHeight;r({width:d,height:f})});return l.observe(e,{box:"border-box"}),()=>l.unobserve(e)}else r(void 0)},[e]),s}var qd="Checkbox",[c6]=Yj(qd),[u6,Ax]=c6(qd);function d6(e){const{__scopeCheckbox:s,checked:r,children:l,defaultChecked:o,disabled:u,form:d,name:f,onCheckedChange:x,required:h,value:g="on",internal_do_not_use_render:y}=e,[b,N]=$j({prop:r,defaultProp:o??!1,onChange:x,caller:qd}),[C,S]=v.useState(null),[E,w]=v.useState(null),R=v.useRef(!1),D=C?!!d||!!C.closest("form"):!0,Q={checked:b,disabled:u,setChecked:N,control:C,setControl:S,name:f,form:d,value:g,hasConsumerStoppedPropagationRef:R,required:h,defaultChecked:Rr(o)?!1:o,isFormControl:D,bubbleInput:E,setBubbleInput:w};return n.jsx(u6,{scope:s,...Q,children:f6(y)?y(Q):l})}var uE="CheckboxTrigger",dE=v.forwardRef(({__scopeCheckbox:e,onKeyDown:s,onClick:r,...l},o)=>{const{control:u,value:d,disabled:f,checked:x,required:h,setControl:g,setChecked:y,hasConsumerStoppedPropagationRef:b,isFormControl:N,bubbleInput:C}=Ax(uE,e),S=Xs(o,g),E=v.useRef(x);return v.useEffect(()=>{const w=u?.form;if(w){const R=()=>y(E.current);return w.addEventListener("reset",R),()=>w.removeEventListener("reset",R)}},[u,y]),n.jsx(Ba.button,{type:"button",role:"checkbox","aria-checked":Rr(x)?"mixed":x,"aria-required":h,"data-state":xE(x),"data-disabled":f?"":void 0,disabled:f,value:d,...l,ref:S,onKeyDown:gs(s,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:gs(r,w=>{y(R=>Rr(R)?!0:!R),C&&N&&(b.current=w.isPropagationStopped(),b.current||w.stopPropagation())})})});dE.displayName=uE;var Rx=v.forwardRef((e,s)=>{const{__scopeCheckbox:r,name:l,checked:o,defaultChecked:u,required:d,disabled:f,value:x,onCheckedChange:h,form:g,...y}=e;return n.jsx(d6,{__scopeCheckbox:r,checked:o,defaultChecked:u,disabled:f,required:d,onCheckedChange:h,name:l,form:g,value:x,internal_do_not_use_render:({isFormControl:b})=>n.jsxs(n.Fragment,{children:[n.jsx(dE,{...y,ref:s,__scopeCheckbox:r}),b&&n.jsx(pE,{__scopeCheckbox:r})]})})});Rx.displayName=qd;var fE="CheckboxIndicator",mE=v.forwardRef((e,s)=>{const{__scopeCheckbox:r,forceMount:l,...o}=e,u=Ax(fE,r);return n.jsx(mc,{present:l||Rr(u.checked)||u.checked===!0,children:n.jsx(Ba.span,{"data-state":xE(u.checked),"data-disabled":u.disabled?"":void 0,...o,ref:s,style:{pointerEvents:"none",...e.style}})})});mE.displayName=fE;var hE="CheckboxBubbleInput",pE=v.forwardRef(({__scopeCheckbox:e,...s},r)=>{const{control:l,hasConsumerStoppedPropagationRef:o,checked:u,defaultChecked:d,required:f,disabled:x,name:h,value:g,form:y,bubbleInput:b,setBubbleInput:N}=Ax(hE,e),C=Xs(r,N),S=i6(u),E=o6(l);v.useEffect(()=>{const R=b;if(!R)return;const D=window.HTMLInputElement.prototype,ae=Object.getOwnPropertyDescriptor(D,"checked").set,k=!o.current;if(S!==u&&ae){const A=new Event("click",{bubbles:k});R.indeterminate=Rr(u),ae.call(R,Rr(u)?!1:u),R.dispatchEvent(A)}},[b,S,u,o]);const w=v.useRef(Rr(u)?!1:u);return n.jsx(Ba.input,{type:"checkbox","aria-hidden":!0,defaultChecked:d??w.current,required:f,disabled:x,name:h,value:g,form:y,...s,tabIndex:-1,ref:C,style:{...s.style,...E,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});pE.displayName=hE;function f6(e){return typeof e=="function"}function Rr(e){return e==="indeterminate"}function xE(e){return Rr(e)?"indeterminate":e?"checked":"unchecked"}const ul=v.forwardRef(({className:e,...s},r)=>n.jsx(Rx,{ref:r,className:he("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...s,children:n.jsx(mE,{className:he("flex items-center justify-center text-current"),children:n.jsx(pa,{className:"h-4 w-4"})})}));ul.displayName=Rx.displayName;var m6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],h6=m6.reduce((e,s)=>{const r=zj(`Primitive.${s}`),l=v.forwardRef((o,u)=>{const{asChild:d,...f}=o,x=d?r:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(x,{...f,ref:u})});return l.displayName=`Primitive.${s}`,{...e,[s]:l}},{}),p6="Label",gE=v.forwardRef((e,s)=>n.jsx(h6.label,{...e,ref:s,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));gE.displayName=p6;var yE=gE;const x6=ax("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Oa=v.forwardRef(({className:e,...s},r)=>n.jsx(yE,{ref:r,className:he(x6(),e),...s}));Oa.displayName=yE.displayName;const g6="REBUILD",y6=3e4;function v6(){const e=Ve(),[s,r]=v.useState(null),[l,o]=v.useState(null),[u,d]=v.useState(!1),[f,x]=v.useState(!1),[h,g]=v.useState(!1),[y,b]=v.useState(!1),[N,C]=v.useState({vacuum:!0,analyze:!0,fts_optimize:!0,reindex:!1,integrity_check:!1}),{restart:S,isRestarting:E}=nx(),{data:w}=Tn({queryKey:["memory-stats"],queryFn:({signal:F})=>we(ye.DEVTOOLS_MEMORY_STATS,{signal:F}),refetchInterval:y6}),{data:R}=tx(),D=Be({mutationFn:()=>we(ye.DEVTOOLS_COMPACT_CHROMADB,{method:"POST",headers:Kn()}),onSuccess:F=>{g(!1);const q=F.size_before_mb?`ChromaDB deleted (${F.size_before_mb}MB freed). Restarting daemon...`:F.message||"ChromaDB deleted. Restarting daemon...";r({type:et.SUCCESS,text:q}),F.restart_required&&S()},onError:F=>{g(!1);const q=F.message||"Failed to compact ChromaDB";q.includes("indexing is in progress")?r({type:et.ERROR,text:"Cannot compact while indexing is in progress. Please wait for the current index build to complete and try again."}):r({type:et.ERROR,text:q})}}),Q=Be({mutationFn:()=>we(ye.DEVTOOLS_REBUILD_INDEX,{method:"POST",headers:Kn(),body:JSON.stringify({full_rebuild:!0})}),onSuccess:()=>{r({type:et.SUCCESS,text:"Code index rebuild started in background."}),e.invalidateQueries({queryKey:["status"]})},onError:F=>r({type:et.ERROR,text:F.message||"Failed to start code index rebuild"})}),ae=Be({mutationFn:()=>we(ye.DEVTOOLS_REEMBED_SESSIONS,{method:"POST",headers:Kn()}),onSuccess:F=>{r({type:et.SUCCESS,text:F.message||`Re-embedded ${F.sessions_embedded} session summaries`}),e.invalidateQueries({queryKey:["memory-stats"]})},onError:F=>r({type:et.ERROR,text:F.message||"Failed to re-embed session summaries"})}),k=Be({mutationFn:F=>we(ye.DEVTOOLS_REBUILD_MEMORIES,{method:"POST",headers:Kn(),body:JSON.stringify({full_rebuild:!0,clear_chromadb_first:F})}),onSuccess:F=>{r({type:et.SUCCESS,text:F.message||"Memory re-embedding started."}),e.invalidateQueries({queryKey:["memory-stats"]}),e.invalidateQueries({queryKey:["status"]})},onError:F=>r({type:et.ERROR,text:F.message||"Failed to rebuild memories"})}),A=Be({mutationFn:()=>we(ye.DEVTOOLS_TRIGGER_PROCESSING,{method:"POST",headers:Kn()}),onSuccess:F=>{r({type:et.SUCCESS,text:`Triggered successfully. Processed ${F.processed_batches} batches.`}),e.invalidateQueries({queryKey:["status"]})},onError:F=>r({type:et.ERROR,text:F.message||"Failed to trigger processing"})}),L=Be({mutationFn:()=>we(ye.DEVTOOLS_REGENERATE_SUMMARIES,{method:"POST",headers:Kn()}),onSuccess:F=>{const q=F.status==="skipped"?F.message||"No sessions need summaries":`Started regenerating summaries for ${F.sessions_queued} sessions`;r({type:et.SUCCESS,text:q}),e.invalidateQueries({queryKey:["memory-stats"]})},onError:F=>r({type:et.ERROR,text:F.message||"Failed to regenerate summaries"})}),O=Be({mutationFn:()=>we(`${ye.DEVTOOLS_REGENERATE_SUMMARIES}?force=true`,{method:"POST",headers:Kn()}),onSuccess:F=>{const q=F.status==="skipped"?F.message||"No sessions need regeneration":`Started force-regenerating summaries for ${F.sessions_queued} sessions`;r({type:et.SUCCESS,text:q}),e.invalidateQueries({queryKey:["memory-stats"]})},onError:F=>r({type:et.ERROR,text:F.message||"Failed to force-regenerate summaries"})}),X=Be({mutationFn:()=>we(ye.DEVTOOLS_RESET_PROCESSING,{method:"POST",headers:Kn(),body:JSON.stringify({delete_memories:!0})}),onSuccess:()=>{r({type:et.SUCCESS,text:"Processing state reset. Observations deleted. Background job will re-process."}),e.invalidateQueries({queryKey:["status"]}),e.invalidateQueries({queryKey:["memory-stats"]})},onError:F=>r({type:et.ERROR,text:F.message||"Failed to reset processing"})}),ee=Be({mutationFn:()=>we(ye.DEVTOOLS_REPROCESS_OBSERVATIONS,{method:"POST",headers:Kn(),body:JSON.stringify({mode:"all",dry_run:!0})}),onSuccess:F=>{o(F),d(!0)},onError:F=>r({type:et.ERROR,text:F.message||"Failed to preview reprocessing"})}),Y=Be({mutationFn:()=>we(ye.DEVTOOLS_REPROCESS_OBSERVATIONS,{method:"POST",headers:Kn(),body:JSON.stringify({mode:"all",delete_existing:!0,dry_run:!1})}),onSuccess:F=>{d(!1),o(null);const q=F.status==="skipped"?F.message:`Reprocessing ${F.batches_queued} batches. Deleted ${F.observations_deleted} old observations.`;r({type:et.SUCCESS,text:q}),e.invalidateQueries({queryKey:["memory-stats"]}),e.invalidateQueries({queryKey:["status"]})},onError:F=>r({type:et.ERROR,text:F.message||"Failed to reprocess observations"})}),G=Be({mutationFn:()=>we(ye.DEVTOOLS_DATABASE_MAINTENANCE,{method:"POST",headers:Kn(),body:JSON.stringify(N)}),onSuccess:F=>{let q=F.message;F.integrity_check&&(q+=` Integrity: ${F.integrity_check}`),F.size_before_mb&&(q+=` (DB size: ${F.size_before_mb}MB)`),r({type:et.SUCCESS,text:q})},onError:F=>r({type:et.ERROR,text:F.message||"Failed to run maintenance"})}),J=Be({mutationFn:()=>we(ye.DEVTOOLS_BACKFILL_HASHES,{method:"POST",headers:Kn()}),onSuccess:F=>{r({type:et.SUCCESS,text:F.message})},onError:F=>r({type:et.ERROR,text:F.message||"Failed to backfill hashes"})}),ne=Be({mutationFn:()=>we(ye.DEVTOOLS_CLEANUP_MINIMAL_SESSIONS,{method:"POST",headers:Kn()}),onSuccess:F=>{b(!1),r({type:et.SUCCESS,text:F.message}),e.invalidateQueries({queryKey:["status"]}),e.invalidateQueries({queryKey:["memory-stats"]})},onError:F=>{b(!1),r({type:et.ERROR,text:F.message||"Failed to cleanup sessions"})}}),B=Be({mutationFn:()=>we(ye.DEVTOOLS_CLEANUP_ORPHANS,{method:"POST",headers:Kn()}),onSuccess:F=>{r({type:et.SUCCESS,text:F.message}),e.invalidateQueries({queryKey:["memory-stats"]})},onError:F=>r({type:et.ERROR,text:F.message||"Failed to cleanup orphaned entries"})});return n.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto p-4",children:[n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Developer Tools"}),n.jsx("p",{className:"text-muted-foreground",children:"Advanced actions for debugging and maintenance."})]}),s&&n.jsxs(Da,{variant:s.type===et.ERROR?"destructive":"default",className:s.type===et.SUCCESS?"border-green-500 text-green-600 bg-green-50 dark:bg-green-950/20 dark:border-green-800 dark:text-green-400":"",children:[s.type===et.SUCCESS?n.jsx(Ln,{className:"h-4 w-4"}):n.jsx(jt,{className:"h-4 w-4"}),n.jsxs("div",{children:[n.jsx(Cd,{children:s.type===et.SUCCESS?"Success":"Error"}),n.jsx(La,{children:s.text})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[R?.index_stats&&n.jsxs(Te,{children:[n.jsxs(Me,{children:[n.jsxs(Ie,{className:"flex items-center gap-2",children:[n.jsx(ec,{className:"h-5 w-5"})," Code Index"]}),n.jsx(tt,{children:"Codebase vector embeddings for semantic search."})]}),n.jsx(ke,{children:n.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold",children:R.index_stats.files_indexed||0}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Files Indexed"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold",children:R.index_stats.chunks_indexed?.toLocaleString()||0}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Code Chunks"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold",children:R.storage?.total_size_mb||"0"}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Storage (MB)"})]})]})})]}),w&&n.jsxs(Te,{className:w.needs_rebuild?"border-yellow-500":"",children:[n.jsxs(Me,{children:[n.jsxs(Ie,{className:"flex items-center gap-2",children:[n.jsx(hd,{className:"h-5 w-5"})," Memory Status",w.needs_rebuild&&n.jsx(bl,{className:"h-4 w-4 text-yellow-500"})]}),n.jsxs(tt,{children:[w.sync_status===Ro.SYNCED&&"All memories are synced.",w.sync_status===Ro.PENDING_EMBED&&`${w.sqlite.unembedded+(w.sqlite.plans_unembedded||0)} items pending embedding.`,w.sync_status===Ro.ORPHANED&&`ChromaDB has ${w.sync_difference||0} orphaned entries. Use 'Clear Orphaned Entries' in ChromaDB Maintenance to fix.`,w.sync_status===Ro.MISSING&&`ChromaDB is missing ${Math.abs(w.sync_difference||0)} entries. Use 'Re-embed Memories' below to fix.`,w.sync_status===Ro.OUT_OF_SYNC&&"ChromaDB is out of sync. Use 'Re-embed Memories' below to fix."]})]}),n.jsx(ke,{children:n.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold",children:w.sqlite.embedded+(w.sqlite.plans_embedded||0)}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"SQLite Total"}),n.jsxs("div",{className:"text-xs text-muted-foreground/60",children:["(",w.sqlite.embedded," memories + ",w.sqlite.plans_embedded||0," plans)"]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold",children:w.chromadb.count}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"ChromaDB"})]}),n.jsxs("div",{children:[n.jsx("div",{className:`text-2xl font-bold ${w.sqlite.unembedded+(w.sqlite.plans_unembedded||0)>0?"text-yellow-500":""}`,children:w.sqlite.unembedded+(w.sqlite.plans_unembedded||0)}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Pending"})]})]})})]})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs(Te,{children:[n.jsxs(Me,{children:[n.jsxs(Ie,{className:"flex items-center gap-2",children:[n.jsx(Ei,{className:"h-5 w-5"})," ChromaDB Maintenance"]}),n.jsx(tt,{children:"Manage vector index storage and reclaim disk space."})]}),n.jsxs(ke,{className:"space-y-4",children:[n.jsxs(fe,{variant:"secondary",onClick:()=>g(!0),disabled:D.isPending||E,className:"w-full justify-start",children:[n.jsx(Ei,{className:`mr-2 h-4 w-4 ${D.isPending||E?"animate-spin":""}`}),E?"Restarting...":D.isPending?"Deleting...":"Compact All (Reclaim Space)"]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Deletes ChromaDB and restarts the daemon. This is the ",n.jsx("strong",{children:"only way to reclaim disk space"})," after deletions. All data is rebuilt automatically on restart."]}),n.jsxs(fe,{variant:"secondary",onClick:()=>B.mutate(),disabled:B.isPending||!w||w.sync_status!=="orphaned",className:"w-full justify-start",children:[n.jsx(yj,{className:`mr-2 h-4 w-4 ${B.isPending?"animate-spin":""}`}),B.isPending?"Cleaning...":`Clear Orphaned Entries${w?.sync_difference&&w.sync_difference>0?` (${w.sync_difference})`:""}`]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Remove ChromaDB entries that have no matching SQLite record. These accumulate when cleanup operations partially fail."}),n.jsx("div",{className:"h-px bg-border my-4"}),n.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:"Individual Collection Rebuilds:"}),n.jsxs(fe,{variant:"outline",onClick:()=>Q.mutate(),disabled:Q.isPending,className:"w-full justify-start",size:"sm",children:[n.jsx(ec,{className:`mr-2 h-4 w-4 ${Q.isPending?"animate-spin":""}`}),Q.isPending?"Rebuilding...":"Rebuild Code Index"]}),n.jsxs(fe,{variant:"outline",onClick:()=>ae.mutate(),disabled:ae.isPending,className:"w-full justify-start",size:"sm",children:[n.jsx(D0,{className:`mr-2 h-4 w-4 ${ae.isPending?"animate-pulse":""}`}),ae.isPending?"Re-embedding...":"Re-embed Session Summaries"]}),n.jsxs(fe,{variant:"outline",onClick:()=>k.mutate(!0),disabled:k.isPending,className:"w-full justify-start",size:"sm",children:[n.jsx(hd,{className:`mr-2 h-4 w-4 ${k.isPending?"animate-pulse":""}`}),k.isPending?"Re-embedding...":"Re-embed Memories"]}),n.jsx("p",{className:"text-xs text-muted-foreground/70",children:"Use individual rebuilds when only one collection needs updating."})]})]}),n.jsxs(Te,{children:[n.jsxs(Me,{children:[n.jsxs(Ie,{className:"flex items-center gap-2",children:[n.jsx(vs,{className:"h-5 w-5"})," Processing"]}),n.jsx(tt,{children:"Manage LLM background processing."})]}),n.jsxs(ke,{className:"space-y-4",children:[n.jsxs(fe,{variant:"secondary",onClick:()=>A.mutate(),disabled:A.isPending,className:"w-full justify-start",children:[n.jsx(wi,{className:"mr-2 h-4 w-4"}),A.isPending?"Running...":"Trigger Background Processing"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Manually runs the background job to process pending prompt batches and generate observations immediately."}),n.jsxs(fe,{variant:"secondary",onClick:()=>L.mutate(),disabled:L.isPending,className:"w-full justify-start",children:[n.jsx(Pn,{className:`mr-2 h-4 w-4 ${L.isPending?"animate-pulse":""}`}),L.isPending?"Regenerating...":"Regenerate Session Summaries"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Backfills missing session summaries for completed sessions. Use after fixing summary generation issues."}),n.jsxs(fe,{variant:"destructive",onClick:()=>O.mutate(),disabled:O.isPending||L.isPending,className:"w-full justify-start",children:[n.jsx(Pn,{className:`mr-2 h-4 w-4 ${O.isPending?"animate-pulse":""}`}),O.isPending?"Force Regenerating...":"Force Regenerate All Summaries"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Regenerates summaries and titles for ALL completed sessions, replacing existing ones. Use after fixing bugs in summary prompts or stats."}),n.jsx("div",{className:"h-px bg-border my-4"}),n.jsxs(fe,{variant:"secondary",onClick:()=>ee.mutate(),disabled:ee.isPending||Y.isPending,className:"w-full justify-start",children:[n.jsx(dc,{className:`mr-2 h-4 w-4 ${ee.isPending?"animate-pulse":""}`}),ee.isPending?"Checking...":"Preview Reprocess Observations"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Re-extract observations using updated prompts (with new importance criteria). Preview first to see what will change."}),n.jsx("div",{className:"h-px bg-border my-4"}),n.jsxs(fe,{variant:"destructive",onClick:()=>x(!0),disabled:X.isPending,className:"w-full justify-start",children:[n.jsx(za,{className:"mr-2 h-4 w-4"}),X.isPending?"Resetting...":"Reset All Processing State"]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.jsx("strong",{children:"Nuclear option."}),' Deletes all generated memories and marks all past sessions as "unprocessed". The system will re-read activity logs and regenerate memories. This is time-consuming for large histories.']})]})]}),n.jsxs(Te,{children:[n.jsxs(Me,{children:[n.jsxs(Ie,{className:"flex items-center gap-2",children:[n.jsx(Ci,{className:"h-5 w-5"})," Database Maintenance"]}),n.jsx(tt,{children:"Optimize SQLite after heavy operations."})]}),n.jsxs(ke,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ul,{id:"maint-vacuum",checked:N.vacuum,onCheckedChange:F=>C(q=>({...q,vacuum:F===!0}))}),n.jsxs(Oa,{htmlFor:"maint-vacuum",className:"text-sm",children:["VACUUM ",n.jsx("span",{className:"text-muted-foreground",children:"(reclaim space)"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ul,{id:"maint-analyze",checked:N.analyze,onCheckedChange:F=>C(q=>({...q,analyze:F===!0}))}),n.jsxs(Oa,{htmlFor:"maint-analyze",className:"text-sm",children:["ANALYZE ",n.jsx("span",{className:"text-muted-foreground",children:"(update stats)"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ul,{id:"maint-fts",checked:N.fts_optimize,onCheckedChange:F=>C(q=>({...q,fts_optimize:F===!0}))}),n.jsxs(Oa,{htmlFor:"maint-fts",className:"text-sm",children:["FTS optimize ",n.jsx("span",{className:"text-muted-foreground",children:"(search index)"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ul,{id:"maint-reindex",checked:N.reindex,onCheckedChange:F=>C(q=>({...q,reindex:F===!0}))}),n.jsxs(Oa,{htmlFor:"maint-reindex",className:"text-sm",children:["REINDEX ",n.jsx("span",{className:"text-muted-foreground",children:"(rebuild indexes)"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ul,{id:"maint-integrity",checked:N.integrity_check,onCheckedChange:F=>C(q=>({...q,integrity_check:F===!0}))}),n.jsxs(Oa,{htmlFor:"maint-integrity",className:"text-sm",children:["Integrity check ",n.jsx("span",{className:"text-muted-foreground",children:"(slower)"})]})]})]}),n.jsxs(fe,{variant:"secondary",onClick:()=>G.mutate(),disabled:G.isPending||!N.vacuum&&!N.analyze&&!N.fts_optimize&&!N.reindex&&!N.integrity_check,className:"w-full justify-start",children:[n.jsx(Ci,{className:`mr-2 h-4 w-4 ${G.isPending?"animate-spin":""}`}),G.isPending?"Running...":"Run Maintenance"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Run periodically (weekly/monthly) or after heavy delete/rebuild operations to maintain performance."}),n.jsx("div",{className:"h-px bg-border my-4"}),n.jsxs(fe,{variant:"secondary",onClick:()=>J.mutate(),disabled:J.isPending,className:"w-full justify-start",children:[n.jsx(D0,{className:`mr-2 h-4 w-4 ${J.isPending?"animate-pulse":""}`}),J.isPending?"Computing...":"Backfill Content Hashes"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Compute content_hash for records missing them. Run after reprocessing to ensure deduplication works during backup/restore."}),n.jsx("div",{className:"h-px bg-border my-4"}),n.jsxs(fe,{variant:"secondary",onClick:()=>b(!0),disabled:ne.isPending,className:"w-full justify-start",children:[n.jsx(rR,{className:`mr-2 h-4 w-4 ${ne.isPending?"animate-pulse":""}`}),ne.isPending?"Cleaning...":"Cleanup Low-Quality Sessions"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Delete completed sessions with <3 activities. These sessions will never be summarized or embedded, so keeping them just creates clutter."})]})]})]}),n.jsx(ha,{open:h,onOpenChange:g,title:"Compact ChromaDB Storage",description:"This will delete the ChromaDB directory and restart the daemon. All vector data (code index, memories, session summaries) will be automatically rebuilt from SQLite on restart.",confirmLabel:"Delete & Restart",loadingLabel:"Deleting...",onConfirm:async()=>{await D.mutateAsync(),g(!1)},isLoading:D.isPending,variant:"default"}),n.jsx(ha,{open:f,onOpenChange:x,title:"Reset All Processing State",description:"This will DELETE all generated memories and mark all sessions as unprocessed. The system will re-read activity logs and regenerate all memories from scratch. This is time-consuming for large histories.",confirmLabel:"Reset Everything",loadingLabel:"Resetting...",requireConfirmText:g6,onConfirm:async()=>{await X.mutateAsync(),x(!1)},isLoading:X.isPending,variant:"destructive"}),n.jsx(ha,{open:y,onOpenChange:b,title:"Cleanup Low-Quality Sessions",description:"This will permanently delete completed sessions with fewer than 3 activities. These sessions will never be summarized or embedded. This action cannot be undone.",confirmLabel:"Cleanup Sessions",loadingLabel:"Cleaning...",onConfirm:async()=>{await ne.mutateAsync(),b(!1)},isLoading:ne.isPending,variant:"default"}),u&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[n.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>!Y.isPending&&d(!1)}),n.jsxs("div",{className:"relative z-50 w-full max-w-lg rounded-lg border bg-background shadow-lg animate-in fade-in-0 zoom-in-95 mx-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-full p-2 bg-blue-500/10",children:n.jsx(gd,{className:"h-5 w-5 text-blue-500"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Reprocess Observations Preview"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Re-extract with updated prompts"})]})]}),n.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>d(!1),disabled:Y.isPending,className:"h-8 w-8 p-0",children:n.jsx(Cn,{className:"h-4 w-4"})})]}),n.jsx("div",{className:"p-4 space-y-4",children:l&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{className:"bg-muted p-3 rounded-md",children:[n.jsx("div",{className:"text-2xl font-bold",children:l.batches_found}),n.jsx("div",{className:"text-muted-foreground",children:"Batches to reprocess"})]}),n.jsxs("div",{className:"bg-muted p-3 rounded-md",children:[n.jsx("div",{className:"text-xs font-mono truncate",children:l.machine_id}),n.jsx("div",{className:"text-muted-foreground text-xs mt-1",children:"Machine ID (only your data)"})]})]}),l.batch_ids&&l.batch_ids.length>0&&n.jsxs("div",{className:"text-xs text-muted-foreground",children:[n.jsx("span",{className:"font-medium",children:"Sample batch IDs:"})," ",l.batch_ids.slice(0,10).join(", "),l.batch_ids.length>10&&` ... and ${l.batch_ids.length-10} more`]}),l.batches_found===0&&n.jsxs(Da,{children:[n.jsx(jt,{className:"h-4 w-4"}),n.jsx("div",{children:n.jsx(La,{children:"No batches found to reprocess. This may mean all your data is already processed."})})]}),l.batches_found>0&&n.jsxs(Da,{variant:"default",className:"border-yellow-500/50 bg-yellow-50 dark:bg-yellow-950/20",children:[n.jsx(bl,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"}),n.jsx("div",{children:n.jsxs(La,{className:"text-yellow-800 dark:text-yellow-300",children:["After reprocessing, run ",n.jsx("strong",{children:"Re-embed Memories to ChromaDB"})," to sync the search index."]})})]})]})}),n.jsxs("div",{className:"flex justify-end gap-3 p-4 border-t",children:[n.jsx(fe,{variant:"outline",onClick:()=>d(!1),disabled:Y.isPending,children:"Cancel"}),n.jsxs(fe,{variant:"default",onClick:()=>Y.mutate(),disabled:Y.isPending||!l||l.batches_found===0,children:[n.jsx(gd,{className:`mr-2 h-4 w-4 ${Y.isPending?"animate-spin":""}`}),Y.isPending?"Reprocessing...":`Reprocess ${l?.batches_found||0} Batches`]})]})]})]})]})}function b6(){const s=Bn().pathname,r=[{id:"backups",label:"Backups",path:"/team/backups",icon:Ei},{id:"sharing",label:"Sharing",path:"/team/sharing",icon:fc}];return n.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Team"}),n.jsx("p",{className:"text-muted-foreground",children:"Share session history, memories, and your dashboard with your team."})]}),n.jsx("div",{className:"flex items-center border-b",children:r.map(l=>n.jsxs(Ze,{to:l.path,className:he("px-4 py-2 text-sm font-medium border-b-2 transition-colors flex items-center gap-2",s.startsWith(l.path)?"border-primary text-foreground":"border-transparent text-muted-foreground hover:text-foreground hover:border-muted"),children:[n.jsx(l.icon,{className:"w-4 h-4"}),l.label]},l.id))}),n.jsx(uc,{})]})}const N6=6e4;function j6(){return Pa({queryKey:["backup-status"],queryFn:({signal:e})=>we(ye.BACKUP_STATUS,{signal:e}),refetchInterval:N6,pollCategory:"standard"})}function S6(){const e=Ve();return Be({mutationFn:s=>we(ye.BACKUP_CREATE,{method:"POST",body:JSON.stringify(s)}),onSuccess:()=>{e.invalidateQueries({queryKey:["backup-status"]})}})}function E6(){const e=Ve();return Be({mutationFn:s=>we(ye.BACKUP_RESTORE,{method:"POST",body:JSON.stringify(s)}),onSuccess:()=>{e.invalidateQueries({queryKey:["memory-stats"]}),e.invalidateQueries({queryKey:["status"]}),e.invalidateQueries({queryKey:["backup-status"]})}})}function w6(){const e=Ve();return Be({mutationFn:s=>we(ye.BACKUP_RESTORE_ALL,{method:"POST",body:JSON.stringify(s)}),onSuccess:()=>{e.invalidateQueries({queryKey:["memory-stats"]}),e.invalidateQueries({queryKey:["status"]}),e.invalidateQueries({queryKey:["backup-status"]})}})}const ed={auto_enabled:!1,include_activities:!1,on_upgrade:!0};function _6(e){const s=new Date(e),l=new Date().getTime()-s.getTime(),o=Math.floor(l/6e4);if(o<1)return"just now";if(o<60)return`${o} minute${o===1?"":"s"} ago`;const u=Math.floor(o/60);if(u<24)return`${u} hour${u===1?"":"s"} ago`;const d=Math.floor(u/24);return`${d} day${d===1?"":"s"} ago`}function C6(){const e=Ve(),[s,r]=v.useState(null),[l,o]=v.useState(!1),[u,d]=v.useState(null),{data:f,refetch:x}=j6(),h=S6(),g=E6(),y=w6(),{data:b,isLoading:N}=zd(),C=rx(),[S,E]=v.useState(ed),[w,R]=v.useState(!1),[D,Q]=v.useState(null);v.useEffect(()=>{if(b&&"backup"in b&&!w){const O=b.backup;O&&E({auto_enabled:O.auto_enabled??ed.auto_enabled,include_activities:O.include_activities??ed.include_activities,on_upgrade:O.on_upgrade??ed.on_upgrade})}},[b,w]),v.useEffect(()=>{if(b&&"backup"in b){const O=b.backup;O?.include_activities!==void 0&&o(O.include_activities)}},[b]);const ae=async()=>{try{const O=await C.mutateAsync({backup:{auto_enabled:S.auto_enabled,include_activities:S.include_activities,on_upgrade:S.on_upgrade}});Q({type:"success",text:O.message||"Backup settings saved."}),R(!1),x()}catch(O){const X=O instanceof Error?O.message:"Failed to save backup settings.";Q({type:"error",text:X})}},k=()=>{d(null),h.mutate({include_activities:l},{onSuccess:O=>{r({type:et.SUCCESS,text:O.message}),x()},onError:O=>{r({type:et.ERROR,text:O.message})}})},A=()=>{d(null),g.mutate({},{onSuccess:O=>{r({type:et.SUCCESS,text:O.message}),d(O),e.invalidateQueries({queryKey:["memory-stats"]}),e.invalidateQueries({queryKey:["status"]})},onError:O=>{r({type:et.ERROR,text:O.message})}})},L=()=>{d(null),y.mutate({},{onSuccess:O=>{r({type:et.SUCCESS,text:O.message});const X=Object.values(O.per_file).flatMap(Y=>Y.error_messages||[]),ee={status:O.status,message:O.message,sessions_imported:Object.values(O.per_file).reduce((Y,G)=>Y+G.sessions_imported,0),sessions_skipped:Object.values(O.per_file).reduce((Y,G)=>Y+G.sessions_skipped,0),batches_imported:Object.values(O.per_file).reduce((Y,G)=>Y+G.batches_imported,0),batches_skipped:Object.values(O.per_file).reduce((Y,G)=>Y+G.batches_skipped,0),observations_imported:Object.values(O.per_file).reduce((Y,G)=>Y+G.observations_imported,0),observations_skipped:Object.values(O.per_file).reduce((Y,G)=>Y+G.observations_skipped,0),activities_imported:Object.values(O.per_file).reduce((Y,G)=>Y+G.activities_imported,0),activities_skipped:Object.values(O.per_file).reduce((Y,G)=>Y+G.activities_skipped,0),gov_audit_imported:Object.values(O.per_file).reduce((Y,G)=>Y+(G.gov_audit_imported||0),0),gov_audit_skipped:Object.values(O.per_file).reduce((Y,G)=>Y+(G.gov_audit_skipped||0),0),gov_audit_deleted:Object.values(O.per_file).reduce((Y,G)=>Y+(G.gov_audit_deleted||0),0),errors:O.total_errors,error_messages:X};d(ee),e.invalidateQueries({queryKey:["memory-stats"]}),e.invalidateQueries({queryKey:["status"]})},onError:O=>{r({type:et.ERROR,text:O.message})}})};return n.jsxs("div",{className:"space-y-6",children:[s&&n.jsxs(Da,{variant:s.type===et.ERROR?"destructive":"default",className:s.type===et.SUCCESS?"border-green-500 text-green-600 bg-green-50 dark:bg-green-950/20 dark:border-green-800 dark:text-green-400":"",children:[s.type===et.SUCCESS?n.jsx(Ln,{className:"h-4 w-4"}):n.jsx(jt,{className:"h-4 w-4"}),n.jsxs("div",{children:[n.jsx(Cd,{children:s.type===et.SUCCESS?"Success":"Error"}),n.jsx(La,{children:s.text})]})]}),n.jsxs(Te,{children:[n.jsxs(Me,{children:[n.jsxs(Ie,{className:"flex items-center gap-2",children:[n.jsx(Oi,{className:"h-5 w-5"}),"Backup Settings"]}),n.jsx(tt,{children:"Configure automatic backups, scheduling, and retention policies."})]}),n.jsxs(ke,{className:"space-y-4",children:[D&&n.jsxs("div",{className:he("p-3 rounded-md text-sm flex items-center gap-2",D.type==="success"?"bg-green-500/10 text-green-600":"bg-red-500/10 text-red-600"),children:[D.type==="error"&&n.jsx(jt,{className:"h-4 w-4"}),D.text]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"checkbox",id:"backup_auto_enabled",checked:S.auto_enabled,onChange:O=>{E(X=>({...X,auto_enabled:O.target.checked})),R(!0),Q(null)},className:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"}),n.jsx("label",{htmlFor:"backup_auto_enabled",className:"text-sm font-medium",children:"Automatic backups"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"checkbox",id:"backup_include_activities",checked:S.include_activities,onChange:O=>{E(X=>({...X,include_activities:O.target.checked})),R(!0),Q(null)},className:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"}),n.jsx("label",{htmlFor:"backup_include_activities",className:"text-sm font-medium",children:"Include activities in backups"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"checkbox",id:"backup_on_upgrade",checked:S.on_upgrade,onChange:O=>{E(X=>({...X,on_upgrade:O.target.checked})),R(!0),Q(null)},className:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"}),n.jsx("label",{htmlFor:"backup_on_upgrade",className:"text-sm font-medium",children:"Backup before upgrade"})]})]}),S.auto_enabled&&n.jsxs("div",{className:"p-3 rounded-lg bg-muted/50 space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Qs,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"font-medium",children:"Transition-triggered backups"})]}),n.jsx("p",{className:"text-xs text-muted-foreground pl-6",children:"A backup is created automatically when the daemon enters sleep (30 min idle) or deep sleep (90 min idle)."}),f?.last_auto_backup&&n.jsxs("p",{className:"text-xs text-muted-foreground pl-6",children:["Last auto-backup: ",_6(f.last_auto_backup)]})]})]}),n.jsxs(ps,{className:"bg-muted/30 py-3 border-t flex items-center justify-between",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Backup settings take effect on next cycle."}),n.jsxs(fe,{onClick:ae,disabled:!w||C.isPending||N,size:"sm",children:[C.isPending&&n.jsx($e,{className:"mr-2 h-4 w-4 animate-spin"}),n.jsx(hs,{className:"mr-2 h-4 w-4"})," Save"]})]})]}),n.jsxs(Te,{children:[n.jsxs(Me,{children:[n.jsxs(Ie,{className:"flex items-center gap-2",children:[n.jsx(rd,{className:"h-5 w-5"}),"Team Backups"]}),n.jsx(tt,{children:"Each team member creates their own backup file. Restoring imports all team knowledge using content-based deduplication."})]}),n.jsxs(ke,{children:[f&&n.jsxs("div",{className:"mb-4 p-3 rounded-lg bg-muted/50",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ei,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm font-medium",children:"Your Machine"}),n.jsx("code",{className:"text-xs bg-background px-1.5 py-0.5 rounded border",children:f.machine_id})]}),f.backup_exists?n.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400",children:[n.jsx(Ln,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm",children:"Backup exists"})]}):n.jsxs("div",{className:"flex items-center gap-2 text-yellow-600 dark:text-yellow-400",children:[n.jsx(jt,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm",children:"No backup yet"})]})]}),f.backup_exists&&f.backup_size_bytes&&n.jsxs("div",{className:"mt-2 text-xs text-muted-foreground pl-6",children:[(f.backup_size_bytes/1024).toFixed(1)," KB",f.last_modified&&n.jsxs("span",{className:"ml-2",children:["Last updated: ",new Date(f.last_modified).toLocaleString()]})]}),f.backup_dir_source!=="default"&&n.jsxs("div",{className:"mt-2 text-xs text-blue-600 dark:text-blue-400 pl-6 flex items-center gap-1",children:[n.jsx(L0,{className:"h-3 w-3"}),n.jsx("span",{children:"Custom backup dir: "}),n.jsx("code",{className:"bg-blue-100 dark:bg-blue-900/50 px-1 rounded",children:f.backup_dir}),n.jsxs("span",{className:"text-muted-foreground",children:["(via ",f.backup_dir_source==="environment variable"?"OAK_CI_BACKUP_DIR env var":".env file",")"]})]})]}),f?.all_backups&&f.all_backups.length>0&&n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx($p,{className:"h-4 w-4"}),"Available Backups (",f.all_backups.length,")"]}),n.jsx("div",{className:"border rounded-lg divide-y",children:f.all_backups.map(O=>n.jsxs("div",{className:"px-4 py-3 flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(rd,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-sm",children:O.machine_id}),n.jsx("div",{className:"text-xs text-muted-foreground",children:O.machine_id===f.machine_id?"(you)":O.filename})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-sm",children:[(O.size_bytes/1024).toFixed(1)," KB"]}),n.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(O.last_modified).toLocaleDateString()})]})]},O.filename))})]}),(!f?.all_backups||f.all_backups.length===0)&&n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Ar,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{className:"text-sm",children:"No team backups found."}),n.jsx("p",{className:"text-xs mt-1",children:"Create a backup to start sharing knowledge."})]})]})]}),n.jsxs(Te,{children:[n.jsxs(Me,{children:[n.jsxs(Ie,{className:"flex items-center gap-2",children:[n.jsx(Ei,{className:"h-5 w-5"}),"Backup & Restore"]}),n.jsxs(tt,{children:["Create and restore backups. Files are saved to"," ",n.jsx("code",{className:"bg-muted px-1 rounded text-xs",children:f?.backup_dir||"oak/history/"}),f?.backup_dir_source&&f.backup_dir_source!=="default"&&n.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["(via ",f.backup_dir_source==="environment variable"?"OAK_CI_BACKUP_DIR":".env",")"]})," ","and can be committed to git.",(!f?.backup_dir_source||f.backup_dir_source==="default")&&n.jsx("a",{href:"#custom-backup-dir",className:"ml-1 text-xs text-blue-500 hover:underline",children:"Use a custom location?"})]})]}),n.jsxs(ke,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ul,{id:"include-activities",checked:l,onCheckedChange:O=>o(!!O)}),n.jsx(Oa,{htmlFor:"include-activities",className:"text-sm",children:"Include activities table (larger file, useful for debugging)"})]}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsxs(fe,{onClick:k,disabled:h.isPending,children:[n.jsx(aR,{className:"h-4 w-4 mr-2"}),h.isPending?"Creating...":"Create Backup"]}),n.jsxs(fe,{variant:"outline",onClick:A,disabled:g.isPending||!f?.backup_exists,children:[n.jsx(qO,{className:"h-4 w-4 mr-2"}),g.isPending?"Restoring...":"Restore My Backup"]}),n.jsxs(fe,{variant:"outline",onClick:L,disabled:y.isPending||!f?.all_backups?.length,children:[n.jsx(rd,{className:"h-4 w-4 mr-2"}),y.isPending?"Restoring...":"Restore All Team Backups"]})]}),u&&n.jsxs(Da,{className:"border-green-500 text-green-600 bg-green-50 dark:bg-green-950/20 dark:border-green-800 dark:text-green-400",children:[n.jsx(Ln,{className:"h-4 w-4"}),n.jsxs("div",{children:[n.jsx(Cd,{children:"Restore Complete"}),n.jsxs(La,{children:[n.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 mt-2 text-xs",children:[n.jsxs("div",{children:["Memories imported: ",n.jsx("strong",{children:u.observations_imported})]}),n.jsxs("div",{children:["Memories skipped: ",u.observations_skipped]}),n.jsxs("div",{children:["Sessions imported: ",n.jsx("strong",{children:u.sessions_imported})]}),n.jsxs("div",{children:["Sessions skipped: ",u.sessions_skipped]}),n.jsxs("div",{children:["Batches imported: ",n.jsx("strong",{children:u.batches_imported})]}),n.jsxs("div",{children:["Batches skipped: ",u.batches_skipped]}),(u.activities_imported>0||u.activities_skipped>0)&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:["Activities imported: ",n.jsx("strong",{children:u.activities_imported})]}),n.jsxs("div",{children:["Activities skipped: ",u.activities_skipped]})]}),(u.gov_audit_imported>0||u.gov_audit_skipped>0||u.gov_audit_deleted>0)&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:["Governance events imported: ",n.jsx("strong",{children:u.gov_audit_imported})]}),n.jsxs("div",{children:["Governance events skipped: ",u.gov_audit_skipped,u.gov_audit_deleted>0?` (${u.gov_audit_deleted} replaced)`:""]})]}),u.errors>0&&n.jsxs("div",{className:"col-span-2 text-yellow-600 dark:text-yellow-400",children:[n.jsxs("div",{children:["Errors: ",u.errors]}),u.error_messages&&u.error_messages.length>0&&n.jsxs("details",{className:"mt-1",children:[n.jsx("summary",{className:"cursor-pointer text-xs",children:"Show details"}),n.jsx("ul",{className:"mt-1 text-xs list-disc list-inside max-h-24 overflow-y-auto",children:u.error_messages.map((O,X)=>n.jsx("li",{className:"truncate",title:O,children:O},X))})]})]})]}),n.jsx("p",{className:"mt-3 text-xs opacity-80",children:"After restore, ChromaDB will rebuild automatically in the background."})]})]})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Duplicates are automatically skipped using content-based hashing. Team members can safely restore their backups without creating duplicate records."})]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground px-1",children:[n.jsx(_i,{className:"h-3.5 w-3.5 flex-shrink-0"}),n.jsxs("p",{children:["For advanced workflows (version detection, schema migrations after OAK updates), you can also use"," ",n.jsx("code",{className:"bg-muted px-1 py-0.5 rounded font-mono",children:"oak ci sync --team"})," from the CLI."," ",n.jsx(Ze,{to:"/help",state:{tab:"team-sync"},className:"text-blue-500 hover:underline",children:"Learn more "})]})]}),n.jsxs(Te,{id:"custom-backup-dir",className:"border-dashed scroll-mt-6",children:[n.jsxs(Me,{className:"pb-3",children:[n.jsxs(Ie,{className:"flex items-center gap-2 text-base",children:[n.jsx(L0,{className:"h-4 w-4"}),"Custom Backup Directory"]}),n.jsxs(tt,{children:["Store backups in a shared location (network drive, separate repo) instead of the default ",n.jsx("code",{className:"bg-muted px-1 rounded text-xs",children:"oak/history/"}),"."]})]}),n.jsx(ke,{className:"space-y-3",children:n.jsxs("div",{className:"rounded-lg bg-muted/50 p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(mj,{className:"h-4 w-4 mt-0.5 text-muted-foreground flex-shrink-0"}),n.jsxs("div",{className:"text-sm",children:[n.jsxs("p",{className:"font-medium",children:["Add to your project's ",n.jsx("code",{className:"bg-background px-1 rounded text-xs border",children:".env"})," file:"]}),n.jsx("pre",{className:"mt-2 bg-background border rounded-md p-3 text-xs font-mono overflow-x-auto",children:n.jsx("code",{children:"OAK_CI_BACKUP_DIR=/path/to/shared/backups"})}),n.jsxs("p",{className:"text-muted-foreground mt-2 text-xs",children:["OAK automatically reads this from ",n.jsx("code",{className:"bg-background px-0.5 rounded border",children:".env"})," in your project root. Both absolute and relative paths work (relative paths resolve against project root)."]})]})]}),n.jsxs("div",{className:"text-xs text-muted-foreground border-t pt-3 space-y-1",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Priority:"})," ",n.jsx("code",{className:"bg-background px-0.5 rounded border",children:"OAK_CI_BACKUP_DIR"})," shell env var > ",n.jsx("code",{className:"bg-background px-0.5 rounded border",children:".env"})," file > default"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Verify:"})," ",n.jsx("code",{className:"bg-background px-0.5 rounded border",children:"oak ci backup --info"})]})]})]})})]})]})}const Po={provider:"cloudflared",auto_start:!1,cloudflared_path:"",ngrok_path:""};function T6(){const{data:e,isLoading:s}=cE(),r=e6(),l=t6(),[o,u]=v.useState(!1),d=v.useRef(void 0);v.useEffect(()=>()=>clearTimeout(d.current),[]);const{data:f,isLoading:x}=zd(),h=rx(),[g,y]=v.useState(Po),[b,N]=v.useState(!1),[C,S]=v.useState(null);v.useEffect(()=>{f?.tunnel&&!b&&y({provider:f.tunnel.provider??Po.provider,auto_start:f.tunnel.auto_start??Po.auto_start,cloudflared_path:f.tunnel.cloudflared_path??Po.cloudflared_path,ngrok_path:f.tunnel.ngrok_path??Po.ngrok_path})},[f,b]);const E=e?.active??!1,w=e?.public_url,R=e?.provider,D=e?.error,Q=()=>{E?l.mutate():r.mutate()},ae=async()=>{if(w)try{await navigator.clipboard.writeText(w),u(!0),clearTimeout(d.current),d.current=setTimeout(()=>u(!1),2e3)}catch(L){console.error("Failed to copy URL:",L)}},k=async()=>{try{const L=await h.mutateAsync({tunnel:{provider:g.provider,auto_start:g.auto_start,cloudflared_path:g.cloudflared_path,ngrok_path:g.ngrok_path}});S({type:"success",text:L.message||"Tunnel settings saved."}),N(!1)}catch(L){const O=L instanceof Error?L.message:"Failed to save tunnel settings.";S({type:"error",text:O})}},A=r.isPending||l.isPending;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(Te,{children:[n.jsxs(Me,{children:[n.jsxs(Ie,{className:"flex items-center gap-2",children:[n.jsx(fc,{className:"h-5 w-5"}),"Share Dashboard"]}),n.jsx(tt,{children:"Create a public URL to share your daemon dashboard with teammates. Anyone with the link can view sessions, memories, and search your codebase."})]}),n.jsxs(ke,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-muted/50",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:he("w-3 h-3 rounded-full",E?"bg-green-500":"bg-gray-400")}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-sm",children:E?"Tunnel Active":"Tunnel Inactive"}),R&&E&&n.jsxs("div",{className:"text-xs text-muted-foreground",children:["via ",R,e?.started_at&&n.jsxs("span",{className:"ml-2",children:["started ",new Date(e.started_at).toLocaleTimeString()]})]})]})]}),n.jsx(fe,{onClick:Q,disabled:A||s,variant:E?"outline":"default",size:"sm",children:A?n.jsxs(n.Fragment,{children:[n.jsx($e,{className:"h-4 w-4 mr-2 animate-spin"}),r.isPending?"Starting...":"Stopping..."]}):E?"Stop Sharing":n.jsxs(n.Fragment,{children:[n.jsx(z0,{className:"h-4 w-4 mr-2"}),"Start Sharing"]})})]}),E&&w&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Public URL"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("code",{className:"flex-1 bg-muted px-3 py-2 rounded-md text-sm font-mono truncate border",children:w}),n.jsx(fe,{variant:"outline",size:"sm",onClick:ae,className:"flex-shrink-0",children:o?n.jsx(pa,{className:"h-4 w-4 text-green-500"}):n.jsx(Sl,{className:"h-4 w-4"})}),n.jsx(fe,{variant:"outline",size:"sm",className:"flex-shrink-0",asChild:!0,children:n.jsx("a",{href:w,target:"_blank",rel:"noopener noreferrer",children:n.jsx(Dr,{className:"h-4 w-4"})})})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Share this URL with your team. The link is active as long as the tunnel is running."})]}),D&&!E&&n.jsxs(Da,{variant:"destructive",children:[n.jsx(jt,{className:"h-4 w-4"}),n.jsx(La,{children:D})]}),r.error&&n.jsxs(Da,{variant:"destructive",children:[n.jsx(jt,{className:"h-4 w-4"}),n.jsx(La,{children:r.error.message})]})]})]}),n.jsxs(Te,{children:[n.jsxs(Me,{children:[n.jsxs(Ie,{className:"flex items-center gap-2 text-base",children:[n.jsx(Oi,{className:"h-4 w-4"}),"Tunnel Settings"]}),n.jsx(tt,{children:"Configure the tunnel provider and options for sharing."})]}),n.jsxs(ke,{className:"space-y-4",children:[C&&n.jsxs("div",{className:he("p-3 rounded-md text-sm flex items-center gap-2",C.type==="success"?"bg-green-500/10 text-green-600":"bg-red-500/10 text-red-600"),children:[C.type==="error"&&n.jsx(jt,{className:"h-4 w-4"}),C.text]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Provider"}),n.jsxs("select",{value:g.provider,onChange:L=>{y(O=>({...O,provider:L.target.value})),N(!0),S(null)},className:"w-full h-10 rounded-md border border-input bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-ring",children:[n.jsx("option",{value:"cloudflared",children:"Cloudflared (default)"}),n.jsx("option",{value:"ngrok",children:"ngrok"})]})]}),g.provider==="cloudflared"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Cloudflared Path"}),n.jsx("input",{type:"text",value:g.cloudflared_path,onChange:L=>{y(O=>({...O,cloudflared_path:L.target.value})),N(!0),S(null)},placeholder:"cloudflared (from PATH)",className:"w-full h-10 rounded-md border border-input bg-background px-3 py-2 text-sm placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring"})]}),g.provider==="ngrok"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"ngrok Path"}),n.jsx("input",{type:"text",value:g.ngrok_path,onChange:L=>{y(O=>({...O,ngrok_path:L.target.value})),N(!0),S(null)},placeholder:"ngrok (from PATH)",className:"w-full h-10 rounded-md border border-input bg-background px-3 py-2 text-sm placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring"})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"checkbox",id:"tunnel_auto_start",checked:g.auto_start,onChange:L=>{y(O=>({...O,auto_start:L.target.checked})),N(!0),S(null)},className:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"}),n.jsx("label",{htmlFor:"tunnel_auto_start",className:"text-sm font-medium",children:"Start tunnel automatically when daemon starts"})]})]}),n.jsxs(ps,{className:"bg-muted/30 py-3 border-t flex items-center justify-between",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Changes take effect on next tunnel start."}),n.jsxs(fe,{onClick:k,disabled:!b||h.isPending||x,size:"sm",children:[h.isPending&&n.jsx($e,{className:"mr-2 h-4 w-4 animate-spin"}),n.jsx(hs,{className:"mr-2 h-4 w-4"})," Save"]})]})]}),!E&&n.jsxs(Te,{className:"border-dashed",children:[n.jsx(Me,{className:"pb-3",children:n.jsxs(Ie,{className:"flex items-center gap-2 text-base",children:[n.jsx(z0,{className:"h-4 w-4"}),"How Sharing Works"]})}),n.jsxs(ke,{className:"space-y-4",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Sharing creates a secure tunnel from your local daemon to a public URL using cloudflared (default) or ngrok. Your teammates can open the URL in their browser to see the full daemon UI."}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"rounded-lg bg-muted/50 p-3",children:[n.jsx("h4",{className:"text-sm font-medium mb-1",children:"Cloudflared (default)"}),n.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Free, no account required. Generates a random trycloudflare.com URL."}),n.jsx("pre",{className:"bg-background border rounded-md p-2 text-xs font-mono overflow-x-auto",children:n.jsx("code",{children:"brew install cloudflared"})})]}),n.jsxs("div",{className:"rounded-lg bg-muted/50 p-3",children:[n.jsx("h4",{className:"text-sm font-medium mb-1",children:"ngrok (alternative)"}),n.jsxs("p",{className:"text-xs text-muted-foreground mb-2",children:["Requires a free account. Configure auth via ",n.jsx("code",{className:"text-xs",children:"ngrok config add-authtoken"}),"."]}),n.jsx("pre",{className:"bg-background border rounded-md p-2 text-xs font-mono overflow-x-auto",children:n.jsx("code",{children:"brew install ngrok"})})]})]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["You can also use the CLI: ",n.jsx("code",{className:"bg-muted px-1.5 py-0.5 rounded text-xs font-mono",children:"oak ci tunnel-start"})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:n.jsx(Ze,{to:"/help",state:{tab:"sharing"},className:"text-primary hover:underline",children:"Sharing setup guide"})})]})]})]})}function Ni({text:e,className:s}){const[r,l]=v.useState(!1),o=async()=>{await navigator.clipboard.writeText(e),l(!0),setTimeout(()=>l(!1),2e3)};return n.jsx(fe,{variant:"ghost",size:"sm",onClick:o,className:he("h-8 w-8 p-0",s),children:r?n.jsx(pa,{className:"h-4 w-4 text-green-500"}):n.jsx(Sl,{className:"h-4 w-4"})})}function Mt({command:e,label:s}){return n.jsxs("div",{className:"relative group",children:[s&&n.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:s}),n.jsxs("div",{className:"flex items-center gap-2 bg-muted rounded-md px-4 py-3 font-mono text-sm",children:[n.jsx(_i,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),n.jsx("code",{className:"flex-1",children:e}),n.jsx(Ni,{text:e,className:"opacity-0 group-hover:opacity-100 transition-opacity"})]})]})}const mn={SETUP:"setup",TEAM_SYNC:"team-sync",SHARING:"sharing",CLOUD_RELAY:"cloud-relay",TROUBLESHOOTING:"troubleshooting"};function Bo({active:e,onClick:s,icon:r,label:l}){return n.jsxs("button",{onClick:s,className:he("flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors",e?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:[r,l]})}function k6(){return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(Te,{children:[n.jsxs(Me,{children:[n.jsxs(Ie,{className:"flex items-center gap-2",children:["Ollama",n.jsx("span",{className:"text-xs bg-green-500/10 text-green-500 px-2 py-1 rounded-full font-normal",children:"Recommended"})]}),n.jsx(tt,{children:"Free, local, and private. Runs entirely on your machine."})]}),n.jsxs(ke,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"font-semibold",children:"1. Install Ollama"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Mt,{label:"macOS (Homebrew)",command:"brew install ollama"}),n.jsx(Mt,{label:"Linux",command:"curl -fsSL https://ollama.ai/install.sh | sh"}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:["Windows: ",n.jsxs("a",{href:"https://ollama.ai/download",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline inline-flex items-center gap-1",children:["Download from ollama.ai",n.jsx(Dr,{className:"h-3 w-3"})]})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"font-semibold",children:"2. Start Ollama"}),n.jsx(Mt,{command:"ollama serve"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Or run the Ollama desktop app if installed."})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"font-semibold",children:"3. Pull an Embedding Model"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"You need an embedding model to index your codebase. Pick one based on your needs:"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"rounded-lg border p-3 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium text-sm",children:"nomic-embed-text"}),n.jsx("span",{className:"text-xs bg-green-500/10 text-green-500 px-2 py-0.5 rounded-full",children:"Quick Start"})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"768 dimensions, 2K context. Fast, lightweight, and a great default for most projects."}),n.jsx(Mt,{command:"ollama pull nomic-embed-text"})]}),n.jsxs("div",{className:"rounded-lg border p-3 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium text-sm",children:"nomic-embed-code"}),n.jsx("span",{className:"text-xs bg-blue-500/10 text-blue-500 px-2 py-0.5 rounded-full",children:"Best for Code"})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"768 dimensions, 32K context. Trained specifically on source code  better results for code search and indexing."}),n.jsx(Mt,{command:"ollama pull manutic/nomic-embed-code"})]}),n.jsxs("div",{className:"rounded-lg border p-3 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium text-sm",children:"bge-m3"}),n.jsx("span",{className:"text-xs bg-purple-500/10 text-purple-500 px-2 py-0.5 rounded-full",children:"Higher Quality"})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"1024 dimensions, 8K context. Larger model with stronger retrieval quality, especially for mixed code and prose."}),n.jsx(Mt,{command:"ollama pull bge-m3"})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"font-semibold",children:"4. Pull a Summarization Model"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"A summarization model generates natural-language summaries of your coding sessions. Pick one based on your available RAM:"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"rounded-lg border p-3 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium text-sm",children:"gpt-oss-20b"}),n.jsx("span",{className:"text-xs bg-green-500/10 text-green-500 px-2 py-0.5 rounded-full",children:"Recommended"})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"128K context. Strong summarization quality. Recommend ~36 GB+ RAM Mac (or a GPU with sufficient VRAM)."}),n.jsx(Mt,{command:"ollama pull gpt-oss-20b"})]}),n.jsxs("div",{className:"rounded-lg border p-3 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium text-sm",children:"gemma3:12b"}),n.jsx("span",{className:"text-xs bg-blue-500/10 text-blue-500 px-2 py-0.5 rounded-full",children:"Popular"})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"128K context. Good quality in a smaller footprint. A solid choice for machines with 16-32 GB of RAM on Mac or dedicated GPU on PC."}),n.jsx(Mt,{command:"ollama pull gemma3:12b"})]}),n.jsxs("div",{className:"rounded-lg border p-3 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium text-sm",children:"qwen3:8b / qwen3:4b"}),n.jsx("span",{className:"text-xs bg-orange-500/10 text-orange-500 px-2 py-0.5 rounded-full",children:"Lightweight"})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"40K context (8B) / 256K context (4B). Surprisingly capable for their size  great if you're resource-constrained or want fast inference. Should work on most machines."}),n.jsx(Mt,{command:"ollama pull qwen3:8b"})]})]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["You can always change your summarization model later from the ",n.jsx(Ze,{to:"/config",className:"text-primary hover:underline",children:"Configuration page"}),"."]}),n.jsxs("div",{className:"rounded-lg border border-muted bg-muted/30 p-4 space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"A note on RAM vs. VRAM"}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.jsx("strong",{children:"Mac (Apple Silicon):"})," Memory is shared between CPU and GPU, so a MacBook Pro with 32 GB of RAM can allocate most of it as VRAM  the RAM numbers above map directly to your system memory."]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.jsx("strong",{children:"PC / Linux with a dedicated GPU:"})," Ollama runs on your GPU's dedicated VRAM. If the model doesn't fit in VRAM it will fall back to CPU, which is significantly slower. Check your GPU's VRAM (e.g. 8 GB, 16 GB, 24 GB) and pick a model that fits."]})]}),n.jsxs("div",{className:"rounded-lg border border-blue-200 dark:border-blue-800 bg-blue-50 dark:bg-blue-950/30 p-4 space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"Tip: Increase Ollama's Context Window"}),n.jsxs("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:["Ollama defaults to a 4K context window on machines with less than 24 GB of VRAM, which limits how much code the summarization model can process at once. To increase it, set the ",n.jsx("code",{className:"bg-blue-100 dark:bg-blue-900 px-1 rounded",children:"OLLAMA_CONTEXT_LENGTH"})," environment variable when starting Ollama:"]}),n.jsx(Mt,{command:"OLLAMA_CONTEXT_LENGTH=32768 ollama serve"}),n.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:"Use a value that fits your available memory  32768 is a good starting point. Higher values use more RAM."})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"font-semibold",children:"5. Configure in Oak CI"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Go to the ",n.jsx(Ze,{to:"/config",className:"text-primary hover:underline",children:"Configuration page"}),', select Ollama as your provider, and click "Refresh" to discover your models.']})]})]})]}),n.jsxs(Te,{children:[n.jsxs(Me,{children:[n.jsx(Ie,{children:"LM Studio"}),n.jsx(tt,{children:"User-friendly desktop app for running local models."})]}),n.jsxs(ke,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"font-semibold",children:"1. Download LM Studio"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.jsxs("a",{href:"https://lmstudio.ai",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline inline-flex items-center gap-1",children:["Download from lmstudio.ai",n.jsx(Dr,{className:"h-3 w-3"})]})," ","- Available for macOS, Windows, and Linux."]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"font-semibold",children:"2. Download an Embedding Model"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["In LM Studio, go to the Discover tab and search for embedding models like ",n.jsx("code",{className:"bg-muted px-1 rounded",children:"nomic-embed-text-v1.5"}),"."]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"font-semibold",children:"3. Start the Local Server"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Go to the Developer tab, load your embedding model, and start the server (default port: 1234)."})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"font-semibold",children:"4. Configure in Oak CI"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:['Select "LM Studio" as your provider on the ',n.jsx(Ze,{to:"/config",className:"text-primary hover:underline",children:"Configuration page"})," and set the base URL to ",n.jsx("code",{className:"bg-muted px-1 rounded",children:"http://localhost:1234"}),"."]})]})]})]}),n.jsxs(Te,{children:[n.jsxs(Me,{children:[n.jsx(Ie,{children:"OpenAI Compatible APIs"}),n.jsx(tt,{children:"Use any OpenAI-compatible embedding service."})]}),n.jsxs(ke,{className:"space-y-4",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:'Select "OpenAI Compatible" as your provider and configure the base URL and model name for your service. This works with:'}),n.jsxs("ul",{className:"list-disc list-inside text-sm text-muted-foreground space-y-1",children:[n.jsx("li",{children:"OpenAI API (api.openai.com)"}),n.jsx("li",{children:"Azure OpenAI"}),n.jsx("li",{children:"Together AI"}),n.jsx("li",{children:"Anyscale"}),n.jsx("li",{children:"Any other OpenAI-compatible endpoint"})]})]})]})]})}function A6(){return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(Te,{children:[n.jsxs(Me,{children:[n.jsxs(Ie,{className:"flex items-center gap-2",children:["Team Sync",n.jsx("span",{className:"text-xs bg-blue-500/10 text-blue-500 px-2 py-1 rounded-full font-normal",children:"Recommended"})]}),n.jsxs(tt,{children:["The ",n.jsx("code",{className:"bg-muted px-1 rounded",children:"oak ci sync"})," command is the preferred way to synchronize CI state after pulling code changes or merging team backups."]})]}),n.jsxs(ke,{className:"space-y-6",children:[n.jsx("div",{className:"rounded-lg border border-blue-200 dark:border-blue-800 bg-blue-50 dark:bg-blue-950/30 p-4",children:n.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[n.jsx("strong",{children:"Why CLI?"})," The CLI handles the complete sync workflow automatically: stopping the daemon, running migrations, importing backups in the correct order, and restarting with new code. This ensures schema compatibility and prevents data corruption."]})}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"font-semibold",children:"When to Use"}),n.jsxs("ul",{className:"list-disc list-inside text-sm text-muted-foreground space-y-2",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"After pulling OAK code changes"})," - Restarts daemon with new code and runs any pending schema migrations"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"After pulling project changes with team backups"})," - Imports team knowledge from ",n.jsx("code",{className:"bg-muted px-1 rounded",children:"oak/history/"})]}),n.jsxs("li",{children:[n.jsx("strong",{children:"When search results seem stale"})," - Full rebuild recreates the vector index from scratch"]})]})]})]})]}),n.jsxs(Te,{children:[n.jsxs(Me,{children:[n.jsx(Ie,{children:"Quick Commands"}),n.jsx(tt,{children:"Common sync workflows for everyday use."})]}),n.jsxs(ke,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"font-semibold",children:"Quick Sync (After Code Pull)"}),n.jsx(Mt,{command:"oak ci sync"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Detects version mismatches and restarts the daemon with new code. Use this after pulling OAK updates."})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"font-semibold",children:"Team Sync (Merge Team Knowledge)"}),n.jsx(Mt,{command:"oak ci sync --team"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Imports all team backup files from ",n.jsx("code",{className:"bg-muted px-1 rounded",children:"oak/history/"}),". Duplicates are automatically skipped using content-based hashing."]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"font-semibold",children:"Full Rebuild (Fresh Start)"}),n.jsx(Mt,{command:"oak ci sync --full"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Deletes the vector index (ChromaDB) and rebuilds from scratch. Use this if search results seem incorrect or after major schema changes."})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"font-semibold",children:"Preview Mode (Dry Run)"}),n.jsx(Mt,{command:"oak ci sync --team --full --dry-run"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Shows what would happen without making any changes. Great for verifying before a sync."})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"font-semibold",children:"Include Activities in Backup"}),n.jsx(Mt,{command:"oak ci sync --team --include-activities"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Creates larger backup files that include the activities table. Useful for debugging or when you want complete history preserved."})]})]})]}),n.jsxs(Te,{children:[n.jsxs(Me,{children:[n.jsx(Ie,{children:"Sync Workflow"}),n.jsx(tt,{children:"Understanding what happens during a sync operation."})]}),n.jsxs(ke,{className:"space-y-4",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"The sync command orchestrates multiple operations in the correct order:"}),n.jsxs("ol",{className:"list-decimal list-inside text-sm space-y-2",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Version Detection"})," - Compares running daemon version against current code"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Stop Daemon"})," - Gracefully stops the daemon if a restart is needed"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"First Restore Pass"})," - ",n.jsx("span",{className:"text-muted-foreground",children:"(--team)"})," Imports all team backups"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Delete ChromaDB"})," - ",n.jsx("span",{className:"text-muted-foreground",children:"(--full)"})," Removes vector index for rebuild"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Start Daemon"})," - Starts with new code, runs pending migrations"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Create Backup"})," - ",n.jsx("span",{className:"text-muted-foreground",children:"(--team)"})," Creates fresh backup with current schema"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Second Restore Pass"})," - ",n.jsx("span",{className:"text-muted-foreground",children:"(--team)"})," Re-imports team backups after migrations"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Background Rebuild"})," - Vector index rebuilds automatically if needed"]})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Steps marked with flags only run when those flags are provided. Duplicates are always skipped using content-based hashing."})]})]}),n.jsxs(Te,{children:[n.jsx(Me,{children:n.jsx(Ie,{children:"Common Scenarios"})}),n.jsxs(ke,{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-sm",children:"New team member joining"}),n.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["After cloning the project, run ",n.jsx("code",{className:"bg-muted px-1 rounded",children:"oak ci sync --team"})," to import all existing team knowledge."]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-sm",children:"Daily workflow"}),n.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["After ",n.jsx("code",{className:"bg-muted px-1 rounded",children:"git pull"}),", run ",n.jsx("code",{className:"bg-muted px-1 rounded",children:"oak ci sync --team"})," to get the latest from teammates."]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-sm",children:"After OAK upgrade"}),n.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Run ",n.jsx("code",{className:"bg-muted px-1 rounded",children:"oak ci sync"})," to restart the daemon with the new version and run any schema migrations."]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-sm",children:"Search returning wrong results"}),n.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Run ",n.jsx("code",{className:"bg-muted px-1 rounded",children:"oak ci sync --full"})," to rebuild the vector index from scratch."]})]})]})]})]})}function R6(){return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(Te,{children:[n.jsxs(Me,{children:[n.jsx(Ie,{children:"Common Issues"}),n.jsx(tt,{children:"Solutions for frequently encountered problems."})]}),n.jsxs(ke,{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-sm",children:"Connection refused"}),n.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Make sure your embedding provider is running. For Ollama, run ",n.jsx("code",{className:"bg-muted px-1 rounded",children:"ollama serve"})," or start the desktop app."]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-sm",children:"No models found"}),n.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["You need to pull/download a model first. For Ollama: ",n.jsx("code",{className:"bg-muted px-1 rounded",children:"ollama pull nomic-embed-text"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-sm",children:"Test & Detect fails"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Verify your base URL is correct and the model supports embeddings. Some LLM-only models don't support the embeddings API."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-sm",children:"Indexing seems slow"}),n.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Large codebases take time to index. Check the Dashboard for progress. You can also add exclusions on the ",n.jsx(Ze,{to:"/config",className:"text-primary hover:underline",children:"Configuration page"})," to skip large directories like ",n.jsx("code",{className:"bg-muted px-1 rounded",children:"node_modules"})," or ",n.jsx("code",{className:"bg-muted px-1 rounded",children:"vendor"}),"."]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-sm",children:"Search returns no results"}),n.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:['Make sure indexing is complete (check Dashboard). If the index is out of sync, use the "Rebuild Codebase Index" option in ',n.jsx(Ze,{to:"/devtools",className:"text-primary hover:underline",children:"DevTools"}),"."]})]})]})]}),n.jsxs(Te,{children:[n.jsxs(Me,{children:[n.jsx(Ie,{children:"Memory & Data Issues"}),n.jsx(tt,{children:"Resolving problems with memories and observations."})]}),n.jsxs(ke,{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-sm",children:"Memories not appearing in search"}),n.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Check the Memory Status in ",n.jsx(Ze,{to:"/devtools",className:"text-primary hover:underline",children:"DevTools"}),'. If there are pending items, wait for background processing. If ChromaDB is out of sync, use "Re-embed Memories".']})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-sm",children:"After backup restore, data seems incomplete"}),n.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["After restoring from backup, go to ",n.jsx(Ze,{to:"/devtools",className:"text-primary hover:underline",children:"DevTools"}),' and run "Re-embed Memories" with "Clear orphaned entries" checked to rebuild the search index.']})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-sm",children:"Duplicate memories appearing"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:`This shouldn't happen with the content-hash deduplication. If it does, run "Backfill Content Hashes" in DevTools, then restore from backup again.`})]})]})]}),n.jsxs(Te,{children:[n.jsx(Me,{children:n.jsx(Ie,{children:"Getting More Help"})}),n.jsxs(ke,{className:"space-y-4",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"If you're still having issues:"}),n.jsxs("ul",{className:"list-disc list-inside text-sm text-muted-foreground space-y-1",children:[n.jsxs("li",{children:["Check the ",n.jsx(Ze,{to:"/logs",className:"text-primary hover:underline",children:"Logs page"})," for detailed error messages"]}),n.jsxs("li",{children:["Review the daemon log file at ",n.jsx("code",{className:"bg-muted px-1 rounded",children:".oak/ci/daemon.log"})]}),n.jsx("li",{children:"Open an issue on the project repository"})]})]})]})]})}function O6(){return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(Te,{children:[n.jsxs(Me,{children:[n.jsx(Ie,{className:"flex items-center gap-2",children:"Getting Started with Sharing"}),n.jsx(tt,{children:"Share your daemon dashboard with teammates via a secure public URL."})]}),n.jsxs(ke,{className:"space-y-6",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Sharing creates a secure tunnel from your local daemon to a public URL. Anyone with the link can view sessions, memories, and search your codebase through the full daemon UI."}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"font-semibold",children:"Prerequisites"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Install one of the supported tunnel providers:"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"rounded-lg border p-4 space-y-3",children:[n.jsxs("h4",{className:"font-semibold text-sm flex items-center gap-2",children:["Cloudflared",n.jsx("span",{className:"text-xs bg-green-500/10 text-green-500 px-2 py-0.5 rounded-full font-normal",children:"Recommended"})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Free, no account required. Generates a random trycloudflare.com URL each time."}),n.jsx(Mt,{label:"macOS (Homebrew)",command:"brew install cloudflared"}),n.jsx(Mt,{label:"Linux",command:"curl -fsSL https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-amd64 -o /usr/local/bin/cloudflared && chmod +x /usr/local/bin/cloudflared"})]}),n.jsxs("div",{className:"rounded-lg border p-4 space-y-3",children:[n.jsx("h4",{className:"font-semibold text-sm",children:"ngrok"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Requires a free account. Provides stable URLs on paid plans."}),n.jsx(Mt,{label:"macOS (Homebrew)",command:"brew install ngrok"}),n.jsx(Mt,{label:"Other",command:"https://ngrok.com/download"})]})]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["After installing, configure your provider and optional settings on the"," ",n.jsx(Ze,{to:"/team/sharing",className:"text-primary hover:underline",children:"Team > Sharing"})," page."]})]})]}),n.jsxs(Te,{children:[n.jsxs(Me,{children:[n.jsx(Ie,{children:"Using the Share Feature"}),n.jsx(tt,{children:"Start sharing from the UI or the command line."})]}),n.jsxs(ke,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"font-semibold",children:"From the UI"}),n.jsxs("ol",{className:"list-decimal list-inside text-sm text-muted-foreground space-y-2",children:[n.jsxs("li",{children:["Go to ",n.jsx(Ze,{to:"/team",className:"text-primary hover:underline",children:"Team"})," > ",n.jsx("strong",{children:"Sharing"})," tab"]}),n.jsxs("li",{children:["Click ",n.jsx("strong",{children:"Start Sharing"})]}),n.jsx("li",{children:"Copy the public URL and send it to your teammates"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"font-semibold",children:"From the CLI"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Mt,{label:"Start tunnel",command:"oak ci tunnel-start"}),n.jsx(Mt,{label:"Get public URL",command:"oak ci tunnel-url"}),n.jsx(Mt,{label:"Check status",command:"oak ci tunnel-status"}),n.jsx(Mt,{label:"Stop tunnel",command:"oak ci tunnel-stop"})]})]}),n.jsx("div",{className:"rounded-lg border border-blue-200 dark:border-blue-800 bg-blue-50 dark:bg-blue-950/30 p-4",children:n.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[n.jsx("strong",{children:"Note:"})," With cloudflared, the public URL changes each time the tunnel restarts. With ngrok (free tier), the URL also changes on restart. Paid ngrok plans support stable subdomains."]})})]})]}),n.jsxs(Te,{children:[n.jsxs(Me,{children:[n.jsx(Ie,{children:"Troubleshooting Sharing"}),n.jsx(tt,{children:"Solutions for common sharing issues."})]}),n.jsxs(ke,{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-sm",children:'"cloudflared not found"'}),n.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Install cloudflared using the commands above. If installed to a custom location, set the path in ",n.jsx(Ze,{to:"/config",className:"text-primary hover:underline",children:"Configuration"})," > Sharing > Cloudflared Path."]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-sm",children:'"ngrok auth token required"'}),n.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Sign up at"," ",n.jsxs("a",{href:"https://ngrok.com",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline inline-flex items-center gap-1",children:["ngrok.com ",n.jsx(Dr,{className:"h-3 w-3"})]})," ","and configure your auth token via the CLI:",n.jsx("code",{className:"bg-muted px-1 rounded ml-1",children:"ngrok config add-authtoken YOUR_TOKEN"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-sm",children:"CORS errors in browser console"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"The tunnel URL should be automatically added to allowed origins. Try stopping and restarting the tunnel. If the issue persists, restart the daemon."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-sm",children:"Tunnel stopped unexpectedly"}),n.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Check the ",n.jsx(Ze,{to:"/logs",className:"text-primary hover:underline",children:"daemon logs"})," for error details. Re-start sharing from the ",n.jsx(Ze,{to:"/team",className:"text-primary hover:underline",children:"Team > Sharing"})," tab."]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-sm",children:"Can't access shared URL"}),n.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Verify the tunnel is still active (check the Sharing tab or run ",n.jsx("code",{className:"bg-muted px-1 rounded",children:"oak ci tunnel-status"}),"). Check that no firewall or proxy is blocking the connection."]})]})]})]})]})}function M6(){return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(Te,{children:[n.jsxs(Me,{children:[n.jsxs(Ie,{className:"flex items-center gap-2",children:[n.jsx(Ar,{className:"w-5 h-5"}),"Getting Started"]}),n.jsx(tt,{children:"The Cloud Relay lets cloud AI agents (Claude.ai, ChatGPT, etc.) access your local Oak CI instance through a Cloudflare Worker."})]}),n.jsxs(ke,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"font-semibold",children:"One-Click Start"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Click ",n.jsx("strong",{children:"Start Relay"})," on the ",n.jsx(Ze,{to:"/cloud",className:"text-primary hover:underline",children:"Cloud"})," page. Oak CI will automatically scaffold, deploy, and connect a Cloudflare Worker for you."]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"font-semibold",children:"Prerequisites"}),n.jsxs("ul",{className:"list-disc list-inside text-sm text-muted-foreground space-y-2",children:[n.jsxs("li",{children:["A ",n.jsxs("a",{href:"https://dash.cloudflare.com/sign-up",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline inline-flex items-center gap-1",children:["Cloudflare account ",n.jsx(Dr,{className:"h-3 w-3"})]})," (free tier is sufficient)"]}),n.jsx("li",{children:"Node.js / npm installed"}),n.jsx("li",{children:"Wrangler CLI authenticated"})]}),n.jsx(Mt,{command:"npm install -g wrangler && wrangler login",label:"Install and authenticate Wrangler"})]}),n.jsx("div",{className:"rounded-lg border border-blue-200 dark:border-blue-800 bg-blue-50 dark:bg-blue-950/30 p-4",children:n.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:["The ",n.jsx(Ze,{to:"/cloud",className:"font-medium underline",children:"Cloud"})," page shows a prerequisites checklist and will guide you through any missing steps before starting."]})})]})]}),n.jsxs(Te,{children:[n.jsxs(Me,{children:[n.jsx(Ie,{children:"Troubleshooting"}),n.jsx(tt,{children:"Common issues with the cloud relay."})]}),n.jsxs(ke,{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-sm",children:'"wrangler: command not found"'}),n.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Install Wrangler globally with ",n.jsx("code",{className:"bg-muted px-1 rounded",children:"npm install -g wrangler"}),". Make sure Node.js is installed and npm is on your PATH."]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-sm",children:"Wrangler authentication failed"}),n.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Re-run ",n.jsx("code",{className:"bg-muted px-1 rounded",children:"wrangler login"})," and complete the browser authorization flow. Check that your Cloudflare account is active."]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-sm",children:"Deploy errors"}),n.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["The error detail shown on the Cloud page includes the full output from the deploy step. Common causes: expired Wrangler auth, account limits, or network issues. Try ",n.jsx("code",{className:"bg-muted px-1 rounded",children:"wrangler whoami"})," to verify your auth status."]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-sm",children:"Cloud agent can't reach the relay"}),n.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Verify the agent token matches, the MCP URL includes the ",n.jsx("code",{className:"bg-muted px-1 rounded",children:"/mcp"})," path, and test with the curl command shown on the ",n.jsx(Ze,{to:"/cloud",className:"text-primary hover:underline",children:"Cloud"})," page."]})]})]})]})]})}function D6(){const e=Bn(),[s,r]=v.useState(mn.SETUP);return v.useEffect(()=>{const l=e.state;l?.tab==="team-sync"?r(mn.TEAM_SYNC):l?.tab==="sharing"?r(mn.SHARING):l?.tab==="cloud-relay"&&r(mn.CLOUD_RELAY)},[e.state]),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Help"}),n.jsx("p",{className:"text-muted-foreground mt-2",children:"Get started with Codebase Intelligence and troubleshoot common issues."})]}),n.jsxs("div",{className:"flex gap-2 border-b pb-2",children:[n.jsx(Bo,{active:s===mn.SETUP,onClick:()=>r(mn.SETUP),icon:n.jsx(rp,{className:"h-4 w-4"}),label:"Setup Guide"}),n.jsx(Bo,{active:s===mn.TEAM_SYNC,onClick:()=>r(mn.TEAM_SYNC),icon:n.jsx(Ja,{className:"h-4 w-4"}),label:"Team Sync"}),n.jsx(Bo,{active:s===mn.SHARING,onClick:()=>r(mn.SHARING),icon:n.jsx(fc,{className:"h-4 w-4"}),label:"Sharing"}),n.jsx(Bo,{active:s===mn.CLOUD_RELAY,onClick:()=>r(mn.CLOUD_RELAY),icon:n.jsx(Ar,{className:"h-4 w-4"}),label:"Cloud Relay"}),n.jsx(Bo,{active:s===mn.TROUBLESHOOTING,onClick:()=>r(mn.TROUBLESHOOTING),icon:n.jsx(Ci,{className:"h-4 w-4"}),label:"Troubleshooting"})]}),s===mn.SETUP&&n.jsx(k6,{}),s===mn.TEAM_SYNC&&n.jsx(A6,{}),s===mn.SHARING&&n.jsx(O6,{}),s===mn.CLOUD_RELAY&&n.jsx(M6,{}),s===mn.TROUBLESHOOTING&&n.jsx(R6,{})]})}function L6(){const s=Bn().pathname,r=[{id:"list",label:"Agents",path:"/agents",icon:yl,exact:!0},{id:"runs",label:"Run History",path:"/agents/runs",icon:fj},{id:"schedules",label:"Schedules",path:"/agents/schedules",icon:Za},{id:"settings",label:"Settings",path:"/agents/settings",icon:Oi}],l=o=>o.exact?s===o.path:s.startsWith(o.path);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Agents"}),n.jsx("p",{className:"text-muted-foreground",children:"Autonomous agents powered by Claude Agent SDK"})]}),n.jsx("div",{className:"flex items-center border-b",children:r.map(o=>n.jsxs(Ze,{to:o.path,className:he("px-4 py-2 text-sm font-medium border-b-2 transition-colors flex items-center gap-2",l(o)?"border-primary text-foreground":"border-transparent text-muted-foreground hover:text-foreground hover:border-muted"),children:[n.jsx(o.icon,{className:"w-4 h-4"}),o.label]},o.id))}),n.jsx(uc,{})]})}function Ox(){return Tn({queryKey:["agents"],queryFn:({signal:e})=>we(ye.AGENTS,{signal:e}),staleTime:6e4,gcTime:3e5})}function I6(e=20,s=0,r,l){const o=new URLSearchParams;return o.set("limit",String(e)),o.set("offset",String(s)),r&&o.set("agent_name",r),l&&o.set("status",l),Pa({queryKey:["agent-runs",e,s,r,l],queryFn:({signal:d})=>we(`${ye.AGENT_RUNS}?${o}`,{signal:d}),staleTime:5e3,placeholderData:d=>d,pollCategory:"self_managing",refetchInterval:d=>{const f=d.state.data;return f&&f.runs.some(h=>h.status==="pending"||h.status==="running")?3e3:!1}})}function z6(){const e=Ve();return Be({mutationFn:({agentName:s,task:r})=>cn(`${ye.AGENTS}/${s}/run`,{task:r}),onSuccess:()=>{e.invalidateQueries({queryKey:["agents"]}),e.invalidateQueries({queryKey:["agent-runs"]})}})}function U6(){const e=Ve();return Be({mutationFn:({taskName:s,additionalPrompt:r})=>{const l={};return r?.trim()&&(l.additional_prompt=r.trim()),cn(`${ye.AGENTS}/tasks/${s}/run`,l)},onSuccess:()=>{e.invalidateQueries({queryKey:["agents"]}),e.invalidateQueries({queryKey:["agent-runs"]})}})}function P6(){const e=Ve();return Be({mutationFn:({templateName:s,...r})=>cn(`${ye.AGENTS}/templates/${s}/create-task`,r),onSuccess:()=>{e.invalidateQueries({queryKey:["agents"]})}})}function B6(){const e=Ve();return Be({mutationFn:({taskName:s,newName:r})=>{const l=r?`?new_name=${encodeURIComponent(r)}`:"";return cn(`${ye.AGENTS}/tasks/${s}/copy${l}`,{})},onSuccess:()=>{e.invalidateQueries({queryKey:["agents"]})}})}function F6(){const e=Ve();return Be({mutationFn:s=>cn(`${ye.AGENT_RUNS}/${s}/cancel`,{}),onSuccess:()=>{e.invalidateQueries({queryKey:["agent-runs"]})}})}function H6(){const e=Ve();return Be({mutationFn:()=>cn(`${ye.AGENTS}/reload`,{}),onSuccess:()=>{e.invalidateQueries({queryKey:["agents"]})}})}function q6(){const e=Ve();return Be({mutationFn:s=>Ir(`${ye.AGENT_RUNS}/${s}`),onSuccess:()=>{e.invalidateQueries({queryKey:["agent-runs"]})}})}function G6({task:e,onRun:s,onCopy:r,isRunning:l,isCopying:o,tasksDir:u}){const[d,f]=v.useState(!1);return n.jsxs(Te,{children:[n.jsx(Me,{className:"pb-3",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-md bg-green-500/10",children:n.jsx(yl,{className:"w-5 h-5 text-green-600"})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ie,{className:"text-lg",children:e.display_name}),e.is_builtin&&n.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 text-xs rounded-full bg-blue-500/10 text-blue-600",title:"Built-in task shipped with OAK",children:[n.jsx(ZR,{className:"w-3 h-3"}),"OAK Built-in"]})]}),n.jsx(tt,{className:"mt-1",children:e.description||`${e.agent_type} Agent Task`})]})]}),n.jsx("button",{onClick:()=>f(!d),className:"p-1 rounded hover:bg-muted transition-colors",title:d?"Collapse":"Show details",children:d?n.jsx(Gp,{className:"w-4 h-4 text-muted-foreground"}):n.jsx(Or,{className:"w-4 h-4 text-muted-foreground"})})]})}),d&&n.jsxs(ke,{className:"pt-0 pb-3 space-y-4",children:[n.jsxs("div",{className:"flex flex-wrap gap-4 text-xs text-muted-foreground",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(vj,{className:"w-3 h-3"}),"Max ",e.max_turns," turns"]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Qs,{className:"w-3 h-3"}),Math.floor(e.timeout_seconds/60),"m timeout"]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(tc,{className:"w-3 h-3"}),"Agent: ",e.agent_type]}),e.has_execution_override&&n.jsxs("span",{className:"flex items-center gap-1 text-amber-600",title:"Task has custom execution limits (overrides agent defaults)",children:[n.jsx(jO,{className:"w-3 h-3"}),"Custom limits"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"text-xs font-medium",children:"Configured Task:"}),n.jsx("pre",{className:"p-3 rounded-md bg-muted/50 text-xs overflow-x-auto max-h-32 overflow-y-auto whitespace-pre-wrap",children:e.default_task})]}),n.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(ec,{className:"w-3 h-3"}),"Edit: ",n.jsxs("code",{className:"bg-muted px-1.5 py-0.5 rounded",children:[u,"/",e.name,".yaml"]})]})]}),n.jsxs(ps,{className:"pt-0 gap-2",children:[n.jsxs(fe,{onClick:()=>s(e),disabled:l,className:"flex-1",title:"Run this task",children:[l?n.jsx($e,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(wi,{className:"w-4 h-4 mr-2"}),"Run"]}),e.is_builtin&&n.jsx(fe,{variant:"outline",onClick:()=>r(e.name),disabled:o,title:"Copy to customize",children:o?n.jsx($e,{className:"w-4 h-4 animate-spin"}):n.jsx(Sl,{className:"w-4 h-4"})})]})]})}function V6({template:e,onCreateTask:s}){const[r,l]=v.useState(!1);return n.jsxs(Te,{className:"border-dashed",children:[n.jsx(Me,{className:"pb-3",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-md bg-muted",children:n.jsx(tc,{className:"w-5 h-5 text-muted-foreground"})}),n.jsxs("div",{children:[n.jsx(Ie,{className:"text-lg text-muted-foreground",children:e.display_name}),n.jsx(tt,{className:"mt-1",children:e.description})]})]}),n.jsx("button",{onClick:()=>l(!r),className:"p-1 rounded hover:bg-muted transition-colors",title:r?"Collapse":"Show details",children:r?n.jsx(Gp,{className:"w-4 h-4 text-muted-foreground"}):n.jsx(Or,{className:"w-4 h-4 text-muted-foreground"})})]})}),r&&n.jsx(ke,{className:"pt-0 pb-3",children:n.jsxs("div",{className:"flex gap-4 text-xs text-muted-foreground",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(vj,{className:"w-3 h-3"}),"Max ",e.max_turns," turns"]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Qs,{className:"w-3 h-3"}),Math.floor(e.timeout_seconds/60),"m timeout"]})]})}),n.jsx(ps,{className:"pt-0",children:n.jsxs(fe,{variant:"outline",onClick:()=>s(e.name),className:"w-full",title:"Create a new task for this agent",children:[n.jsx(Ks,{className:"w-4 h-4 mr-2"}),"Create Task"]})})]})}function Y6({open:e,onOpenChange:s,task:r,onSubmit:l,isPending:o}){const[u,d]=v.useState("");if(!e||!r)return null;const f=h=>{h.preventDefault(),l(r.name,u||void 0)},x=()=>{o||(d(""),s(!1))};return n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[n.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:x}),n.jsxs("div",{className:"relative z-50 w-full max-w-lg rounded-lg border bg-background p-6 shadow-lg animate-in fade-in-0 zoom-in-95",children:[n.jsxs("button",{onClick:x,className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",disabled:o,children:[n.jsx(Cn,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[n.jsx(wi,{className:"w-4 h-4"}),"Run ",r.display_name]}),n.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:r.description})]}),n.jsxs("form",{onSubmit:f,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Oa,{htmlFor:"additionalPrompt",className:"flex items-center gap-1.5",children:[n.jsx(Qp,{className:"w-3.5 h-3.5"}),"Assignment",n.jsx("span",{className:"text-muted-foreground font-normal",children:"(optional)"})]}),n.jsx("textarea",{id:"additionalPrompt",value:u,onChange:h=>d(h.target.value),placeholder:"Tell the agent what to focus on...",rows:8,maxLength:1e4,className:"w-full px-3 py-2 text-sm rounded-md border bg-background focus:outline-none focus:ring-2 focus:ring-primary/50 resize-none"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Leave empty to run with the default task, or provide specific direction."})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[n.jsx(fe,{type:"button",variant:"outline",onClick:x,disabled:o,children:"Cancel"}),n.jsxs(fe,{type:"submit",disabled:o,children:[o?n.jsx($e,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(wi,{className:"w-4 h-4 mr-2"}),"Run"]})]})]})]})]})}function $6({open:e,onOpenChange:s,templateName:r,onSubmit:l,isPending:o,tasksDir:u}){const[d,f]=v.useState(""),[x,h]=v.useState(""),[g,y]=v.useState(""),[b,N]=v.useState(""),C=E=>{E.preventDefault(),l({name:d.toLowerCase().replace(/\s+/g,"-"),display_name:x,description:g,default_task:b})},S=d.trim()&&x.trim()&&b.trim();return e?n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[n.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>!o&&s(!1)}),n.jsxs("div",{className:"relative z-50 w-full max-w-md rounded-lg border bg-background p-6 shadow-lg animate-in fade-in-0 zoom-in-95",children:[n.jsxs("button",{onClick:()=>s(!1),className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",disabled:o,children:[n.jsx(Cn,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("h2",{className:"text-lg font-semibold",children:["Create Task for ",r," Agent"]}),n.jsxs("p",{className:"mt-1 text-sm text-muted-foreground",children:["Create a new task for this agent. The task will be saved to ",n.jsxs("code",{className:"bg-muted px-1 rounded",children:[u,"/"]})," and can be customized later."]})]}),n.jsxs("form",{onSubmit:C,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Oa,{htmlFor:"name",children:"Task Name"}),n.jsx("input",{id:"name",type:"text",value:d,onChange:E=>f(E.target.value),placeholder:"my-docs-task",pattern:"[a-z0-9][a-z0-9-]*[a-z0-9]|[a-z0-9]",required:!0,className:"w-full px-3 py-2 text-sm rounded-md border bg-background focus:outline-none focus:ring-2 focus:ring-primary/50"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Lowercase letters, numbers, and hyphens only. Becomes the filename."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Oa,{htmlFor:"displayName",children:"Display Name"}),n.jsx("input",{id:"displayName",type:"text",value:x,onChange:E=>h(E.target.value),placeholder:"My Documentation Task",required:!0,className:"w-full px-3 py-2 text-sm rounded-md border bg-background focus:outline-none focus:ring-2 focus:ring-primary/50"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Oa,{htmlFor:"description",children:"Description (optional)"}),n.jsx("input",{id:"description",type:"text",value:g,onChange:E=>y(E.target.value),placeholder:"Updates API documentation for the backend service",className:"w-full px-3 py-2 text-sm rounded-md border bg-background focus:outline-none focus:ring-2 focus:ring-primary/50"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Oa,{htmlFor:"defaultTask",children:"Default Task"}),n.jsx("textarea",{id:"defaultTask",value:b,onChange:E=>N(E.target.value),placeholder:"Review the codebase and update docs/api/*.md with current API endpoints...",rows:4,required:!0,className:"w-full px-3 py-2 text-sm rounded-md border bg-background focus:outline-none focus:ring-2 focus:ring-primary/50 resize-none"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"This task will be executed when you click Run. Be specific about what you want done."})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[n.jsx(fe,{type:"button",variant:"outline",onClick:()=>s(!1),disabled:o,children:"Cancel"}),n.jsxs(fe,{type:"submit",disabled:!S||o,children:[o?n.jsx($e,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(Ks,{className:"w-4 h-4 mr-2"}),"Create Task"]})]})]})]})]}):null}function Q6(){const{data:e,isLoading:s,isError:r}=Ox(),l=U6(),o=P6(),u=B6(),d=H6(),[f,x]=v.useState(null),[h,g]=v.useState(!1),[y,b]=v.useState(""),[N,C]=v.useState(!1),[S,E]=v.useState(null),w=e?.templates||[],R=e?.tasks||[],D=e?.tasks_dir||"oak/agents",Q=X=>{E(X),C(!0)},ae=async(X,ee)=>{x(null);try{const Y=await l.mutateAsync({taskName:X,additionalPrompt:ee});x({type:"success",text:Y.message}),C(!1),E(null)}catch(Y){x({type:"error",text:Y instanceof Error?Y.message:"Failed to start task"})}},k=async X=>{x(null);try{const ee=await u.mutateAsync({taskName:X});x({type:"success",text:ee.message})}catch(ee){x({type:"error",text:ee instanceof Error?ee.message:"Failed to copy task"})}},A=X=>{b(X),g(!0)},L=async X=>{x(null);try{const ee=await o.mutateAsync({templateName:y,...X});x({type:"success",text:ee.message}),g(!1)}catch(ee){x({type:"error",text:ee instanceof Error?ee.message:"Failed to create task"})}},O=async()=>{try{const X=await d.mutateAsync();x({type:"success",text:X.message})}catch(X){x({type:"error",text:X instanceof Error?X.message:"Failed to reload agents"})}};return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex justify-end",children:n.jsxs(fe,{variant:"outline",size:"sm",onClick:O,disabled:d.isPending,children:[d.isPending?n.jsx($e,{className:"w-4 h-4 animate-spin mr-1"}):n.jsx(Ja,{className:"w-4 h-4 mr-1"}),"Reload Agents"]})}),f&&n.jsx(Da,{variant:f.type==="error"?"destructive":"default",children:n.jsx(La,{children:f.text})}),r&&n.jsx("div",{className:"p-4 rounded-md bg-destructive/10 text-destructive border border-destructive/20",children:"Failed to load agents. Make sure the daemon is running and agents are enabled in config."}),s?n.jsxs("div",{className:"flex items-center justify-center h-32 text-muted-foreground",children:[n.jsx($e,{className:"w-5 h-5 animate-spin mr-2"}),Wo.LOADING]}):n.jsxs(n.Fragment,{children:[n.jsxs("section",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(yl,{className:"w-5 h-5 text-green-600"}),n.jsx("h2",{className:"text-lg font-semibold",children:"Agent Tasks"}),n.jsxs("span",{className:"text-xs text-muted-foreground bg-muted px-2 py-0.5 rounded",children:[D,"/"]})]}),R.length===0?n.jsx(Te,{className:"border-dashed",children:n.jsxs(ke,{className:"flex flex-col items-center justify-center py-8 text-muted-foreground",children:[n.jsx(yl,{className:"w-10 h-10 mb-3 opacity-30"}),n.jsx("p",{className:"text-sm font-medium",children:"No tasks configured"}),n.jsx("p",{className:"text-xs mt-1",children:"Create a task from an agent template below to get started"})]})}):n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:R.map(X=>n.jsx(G6,{task:X,onRun:Q,onCopy:k,isRunning:l.isPending,isCopying:u.isPending,tasksDir:D},X.name))})]}),n.jsx("hr",{className:"border-dashed"}),n.jsxs("section",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(tc,{className:"w-5 h-5 text-muted-foreground"}),n.jsx("h2",{className:"text-lg font-semibold text-muted-foreground",children:"Agent Templates"})]}),w.length===0?n.jsx(Te,{children:n.jsxs(ke,{className:"flex flex-col items-center justify-center py-8 text-muted-foreground",children:[n.jsx(tc,{className:"w-10 h-10 mb-3 opacity-30"}),n.jsx("p",{className:"text-sm",children:"No agent templates available"}),n.jsx("p",{className:"text-xs mt-1",children:"Add agent definitions to agents/definitions/"})]})}):n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:w.map(X=>n.jsx(V6,{template:X,onCreateTask:A},X.name))})]})]}),n.jsx(Y6,{open:N,onOpenChange:C,task:S,onSubmit:ae,isPending:l.isPending}),n.jsx($6,{open:h,onOpenChange:g,templateName:y,onSubmit:L,isPending:o.isPending,tasksDir:D})]})}function eN(e,s){return e?e.length>s:!1}function tN(e,s){return e?e.length<=s?e:e.slice(0,s)+"...":""}function K6({status:e}){switch(e){case on.PENDING:return n.jsx(Qs,{className:"w-4 h-4 text-muted-foreground"});case on.RUNNING:return n.jsx($e,{className:"w-4 h-4 text-yellow-500 animate-spin"});case on.COMPLETED:return n.jsx(Ld,{className:"w-4 h-4 text-green-500"});case on.FAILED:return n.jsx(Vp,{className:"w-4 h-4 text-red-500"});case on.CANCELLED:return n.jsx(Wp,{className:"w-4 h-4 text-gray-500"});case on.TIMEOUT:return n.jsx(jt,{className:"w-4 h-4 text-orange-500"});default:return n.jsx(Qs,{className:"w-4 h-4 text-muted-foreground"})}}function X6({run:e,onCancel:s,onRerun:r,onDelete:l,isCancelling:o,isRerunning:u,isDeleting:d}){const[f,x]=v.useState(!1),h=gc(),g=e.status===on.PENDING||e.status===on.RUNNING,y=nj[e.status]||e.status,b=S0[e.status]||S0.pending,N=Uk(e.error),C=eN(e.task,w0),S=eN(e.result,_0);return n.jsxs("div",{className:"border rounded-md overflow-hidden",children:[n.jsxs("div",{className:"flex items-center gap-3 p-3 hover:bg-accent/5 cursor-pointer",onClick:()=>x(!f),children:[n.jsx(K6,{status:e.status}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium text-sm",children:e.agent_name}),n.jsx("span",{className:he("px-2 py-0.5 text-xs rounded-full",b.badge),children:y}),N&&n.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 text-xs rounded-full bg-amber-500/10 text-amber-600",title:"This run was recovered by the watchdog after being stuck",children:[n.jsx(yd,{className:"w-3 h-3"}),"Recovered"]}),e.warnings&&e.warnings.length>0&&n.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 text-xs rounded-full bg-amber-500/10 text-amber-600",title:e.warnings.join("; "),children:[n.jsx(jt,{className:"w-3 h-3"}),e.warnings.length===1?"Warning":`${e.warnings.length} Warnings`]}),n.jsx("span",{className:"text-xs text-muted-foreground",children:md(e.created_at)})]}),n.jsx("p",{className:"text-xs text-muted-foreground truncate mt-0.5",children:e.task})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[e.turns_used>0&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.turns_used," turns"]}),e.cost_usd!==void 0&&e.cost_usd>0&&n.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-0.5",children:[n.jsx(tR,{className:"w-3 h-3"}),e.cost_usd.toFixed(4)]}),g?n.jsxs(fe,{variant:"ghost",size:"sm",onClick:E=>{E.stopPropagation(),s(e.id)},disabled:o,className:"h-7 px-2",children:[o?n.jsx($e,{className:"w-3 h-3 animate-spin"}):n.jsx(Wp,{className:"w-3 h-3"}),n.jsx("span",{className:"ml-1 text-xs",children:"Cancel"})]}):n.jsxs(n.Fragment,{children:[n.jsxs(fe,{variant:"ghost",size:"sm",onClick:E=>{E.stopPropagation(),r(e.agent_name,e.task)},disabled:u,className:"h-7 px-2",children:[u?n.jsx($e,{className:"w-3 h-3 animate-spin"}):n.jsx(gd,{className:"w-3 h-3"}),n.jsx("span",{className:"ml-1 text-xs",children:"Re-run"})]}),n.jsx(fe,{variant:"ghost",size:"sm",onClick:E=>{E.stopPropagation(),l(e.id)},disabled:d,className:"h-7 px-2 text-red-500 hover:text-red-600 hover:bg-red-500/10",children:d?n.jsx($e,{className:"w-3 h-3 animate-spin"}):n.jsx(za,{className:"w-3 h-3"})})]}),f?n.jsx(Gp,{className:"w-4 h-4 text-muted-foreground"}):n.jsx(Or,{className:"w-4 h-4 text-muted-foreground"})]})]}),f&&n.jsxs("div",{className:"border-t bg-muted/30 p-3 space-y-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Task:"}),C&&n.jsxs("button",{onClick:E=>{E.stopPropagation(),h.openDialog("Task",e.task,e.agent_name,!0)},className:"flex items-center gap-1 text-xs text-blue-500 hover:text-blue-600","aria-label":"Show full task",children:[n.jsx(vl,{className:"w-3 h-3"}),"Show more"]})]}),n.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none prose-p:my-1 prose-ul:my-1 prose-li:my-0",children:n.jsx(ki,{content:tN(e.task,w0)})})]}),e.error&&n.jsx("div",{className:he("p-2 rounded text-xs",N?"bg-amber-500/10 text-amber-700":"bg-red-500/10 text-red-600"),children:N?n.jsxs(n.Fragment,{children:[n.jsxs("strong",{className:"flex items-center gap-1",children:[n.jsx(yd,{className:"w-3 h-3"}),"Watchdog Recovery:"]}),n.jsx("span",{className:"ml-4",children:"This run was stuck and recovered by the background watchdog process. The agent may have hung or the daemon was restarted during execution."})]}):n.jsxs(n.Fragment,{children:[n.jsx("strong",{children:"Error:"})," ",e.error]})}),e.warnings&&e.warnings.length>0&&n.jsxs("div",{className:"p-2 rounded text-xs bg-amber-500/10 text-amber-700 space-y-1",children:[n.jsxs("strong",{className:"flex items-center gap-1",children:[n.jsx(jt,{className:"w-3 h-3"}),e.warnings.length===1?"Warning:":`Warnings (${e.warnings.length}):`]}),e.warnings.map((E,w)=>n.jsx("div",{className:"ml-4",children:E},w))]}),e.result&&n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Result:"}),S&&n.jsxs("button",{onClick:E=>{E.stopPropagation(),h.openDialog("Result",e.result||"",e.agent_name,!0)},className:"flex items-center gap-1 text-xs text-blue-500 hover:text-blue-600","aria-label":"Show full result",children:[n.jsx(vl,{className:"w-3 h-3"}),"Show more"]})]}),n.jsx("div",{className:"p-2 rounded bg-background max-h-48 overflow-y-auto prose prose-sm dark:prose-invert max-w-none prose-p:my-1 prose-ul:my-1 prose-li:my-0 prose-headings:text-sm",children:n.jsx(ki,{content:tN(e.result,_0)})})]}),(e.files_created.length>0||e.files_modified.length>0)&&n.jsxs("div",{className:"space-y-2",children:[e.files_created.length>0&&n.jsxs("div",{children:[n.jsxs("span",{className:"text-xs font-medium text-green-600 flex items-center gap-1 mb-1",children:[n.jsx(Pn,{className:"w-3 h-3"}),"Files Created (",e.files_created.length,")"]}),n.jsx("div",{className:"text-xs text-muted-foreground space-y-0.5",children:e.files_created.map((E,w)=>n.jsx("div",{className:"font-mono bg-muted/50 px-2 py-0.5 rounded",children:E},w))})]}),e.files_modified.length>0&&n.jsxs("div",{children:[n.jsxs("span",{className:"text-xs font-medium text-blue-600 flex items-center gap-1 mb-1",children:[n.jsx(pR,{className:"w-3 h-3"}),"Files Modified (",e.files_modified.length,")"]}),n.jsx("div",{className:"text-xs text-muted-foreground space-y-0.5",children:e.files_modified.map((E,w)=>n.jsx("div",{className:"font-mono bg-muted/50 px-2 py-0.5 rounded",children:E},w))})]})]}),n.jsxs("div",{className:"flex gap-4 text-xs text-muted-foreground pt-2 border-t",children:[e.duration_seconds!==void 0&&n.jsxs("span",{children:["Duration: ",e.duration_seconds.toFixed(1),"s"]}),n.jsxs("span",{children:["Run ID: ",n.jsx("code",{className:"bg-muted px-1 rounded",children:e.id})]})]})]}),h.dialogContent&&n.jsx(xc,{open:h.isOpen,onOpenChange:h.setIsOpen,title:h.dialogContent.title,subtitle:h.dialogContent.subtitle,content:h.dialogContent.content,renderMarkdown:h.dialogContent.renderMarkdown})]})}function Z6({agentNames:e,selectedAgent:s,selectedStatus:r,onAgentChange:l,onStatusChange:o,onClear:u,hasFilters:d}){const f=Object.entries(nj);return n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/30 rounded-lg border",children:[n.jsx(pd,{className:"w-4 h-4 text-muted-foreground flex-shrink-0"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-xs text-muted-foreground",children:"Agent:"}),n.jsxs("select",{value:s||"",onChange:x=>l(x.target.value||void 0),className:"text-sm px-2 py-1 rounded border bg-background min-w-[120px]",children:[n.jsx("option",{value:"",children:"All agents"}),e.map(x=>n.jsx("option",{value:x,children:x},x))]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-xs text-muted-foreground",children:"Status:"}),n.jsxs("select",{value:r||"",onChange:x=>o(x.target.value||void 0),className:"text-sm px-2 py-1 rounded border bg-background min-w-[120px]",children:[n.jsx("option",{value:"",children:"All statuses"}),f.map(([x,h])=>n.jsx("option",{value:x,children:h},x))]})]}),d&&n.jsxs(fe,{variant:"ghost",size:"sm",onClick:u,className:"h-7 px-2 text-xs",children:[n.jsx(Cn,{className:"w-3 h-3 mr-1"}),"Clear"]})]})}const cl=20;function J6(){const e=Ve(),[s,r]=v.useState(0),[l,o]=v.useState(),[u,d]=v.useState(),{data:f}=Ox(),x=f?.agents?.map(J=>J.name)||[],{data:h,isLoading:g,isFetching:y}=I6(cl,s,l,u),b=F6(),N=z6(),C=q6(),S=h?.runs||[],E=h?.total||0,w=S.some(J=>J.status==="pending"||J.status==="running"),R=!!(l||u),D=v.useCallback(()=>{e.invalidateQueries({queryKey:["agent-runs"]})},[e]),Q=async J=>{try{await b.mutateAsync(J)}catch{}},ae=async(J,ne)=>{try{await N.mutateAsync({agentName:J,task:ne})}catch{}},k=async J=>{try{await C.mutateAsync(J)}catch{}},A=J=>{o(J),r(0)},L=J=>{d(J),r(0)},O=()=>{o(void 0),d(void 0),r(0)},X=Math.ceil(E/cl),ee=Math.floor(s/cl)+1,Y=()=>{s>0&&r(Math.max(0,s-cl))},G=()=>{s+cl<E&&r(s+cl)};return n.jsxs("div",{className:"space-y-4",children:[n.jsx(Z6,{agentNames:x,selectedAgent:l,selectedStatus:u,onAgentChange:A,onStatusChange:L,onClear:O,hasFilters:R}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[w&&n.jsxs("span",{className:"flex items-center gap-1 text-xs text-yellow-600 bg-yellow-500/10 px-2 py-0.5 rounded-full",children:[n.jsx($e,{className:"w-3 h-3 animate-spin"}),"Auto-refreshing"]}),!g&&n.jsxs("span",{className:"text-sm text-muted-foreground",children:[E," ",E===1?"run":"runs",R&&" (filtered)"]})]}),n.jsxs(fe,{variant:"outline",size:"sm",onClick:D,disabled:y,children:[n.jsx(Ja,{className:he("w-4 h-4 mr-1",y&&"animate-spin")}),"Refresh"]})]}),g?n.jsx("div",{className:"space-y-2",children:[1,2,3].map(J=>n.jsx("div",{className:"border rounded-md p-3 animate-pulse",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-4 h-4 bg-muted rounded-full"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"h-4 bg-muted rounded w-1/4 mb-2"}),n.jsx("div",{className:"h-3 bg-muted rounded w-3/4"})]})]})},J))}):S.length===0?n.jsx(Te,{children:n.jsxs(ke,{className:"flex flex-col items-center justify-center py-12 text-muted-foreground",children:[n.jsx(fj,{className:"w-12 h-12 mb-4 opacity-30"}),n.jsx("p",{className:"text-sm",children:R?"No runs match your filters":"No runs yet"}),n.jsx("p",{className:"text-xs mt-1",children:R?"Try adjusting your filters or clear them":"Start an agent from the Agents tab to see run history here"}),R&&n.jsx(fe,{variant:"outline",size:"sm",onClick:O,className:"mt-4",children:"Clear Filters"})]})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"space-y-2",children:S.map(J=>n.jsx(X6,{run:J,onCancel:Q,onRerun:ae,onDelete:k,isCancelling:b.isPending,isRerunning:N.isPending,isDeleting:C.isPending},J.id))}),X>1&&n.jsxs("div",{className:"flex items-center justify-center gap-2 pt-4",children:[n.jsx(fe,{variant:"outline",size:"sm",onClick:Y,disabled:s===0,"aria-label":"Previous page",children:n.jsx(oj,{className:"w-4 h-4"})}),n.jsxs("span",{className:"text-sm text-muted-foreground px-4",children:["Page ",ee," of ",X]}),n.jsx(fe,{variant:"outline",size:"sm",onClick:G,disabled:s+cl>=E,"aria-label":"Next page",children:n.jsx(Mr,{className:"w-4 h-4"})})]})]})]})}const Wa={all:["schedules"],list:()=>[...Wa.all,"list"],detail:e=>[...Wa.all,"detail",e]};async function W6(e){return we(ye.SCHEDULES,{signal:e})}async function eU(e){return cn(ye.SCHEDULES,e)}async function tU(e,s){return Dj(`${ye.SCHEDULES}/${e}`,s)}async function nU(e){return Ir(`${ye.SCHEDULES}/${e}`)}async function aU(e){return we(`${ye.SCHEDULES}/${e}/run`,{method:"POST"})}async function sU(){return we(ye.SCHEDULES_SYNC,{method:"POST"})}function rU(){return Pa({queryKey:Wa.list(),queryFn:({signal:e})=>W6(e),refetchInterval:3e4,pollCategory:"standard"})}function lU(){const e=Ve();return Be({mutationFn:s=>eU(s),onSuccess:s=>{e.invalidateQueries({queryKey:Wa.list()}),e.setQueryData(Wa.detail(s.task_name),s)}})}function vE(){const e=Ve();return Be({mutationFn:({taskName:s,...r})=>tU(s,r),onSuccess:s=>{e.invalidateQueries({queryKey:Wa.list()}),e.setQueryData(Wa.detail(s.task_name),s)}})}function iU(){const e=Ve();return Be({mutationFn:s=>nU(s),onSuccess:(s,r)=>{e.invalidateQueries({queryKey:Wa.list()}),e.removeQueries({queryKey:Wa.detail(r)})}})}function oU(){const e=Ve();return Be({mutationFn:s=>aU(s),onSuccess:()=>{e.invalidateQueries({queryKey:Wa.list()}),e.invalidateQueries({queryKey:["agent-runs"]})}})}function cU(){const e=Ve();return Be({mutationFn:sU,onSuccess:()=>{e.invalidateQueries({queryKey:Wa.list()})}})}const nN=[{label:"Every hour",value:"0 * * * *"},{label:"Every 6 hours",value:"0 */6 * * *"},{label:"Daily at midnight",value:"0 0 * * *"},{label:"Daily at 9 AM",value:"0 9 * * *"},{label:"Weekly (Monday)",value:"0 0 * * MON"},{label:"Weekly (Sunday)",value:"0 0 * * SUN"},{label:"Monthly (1st)",value:"0 0 1 * *"},{label:"Custom",value:"custom"}];function uU({schedule:e}){return e.has_task?e.has_definition?e.enabled?n.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 text-xs rounded-full bg-green-500/10 text-green-600",children:[n.jsx(Ld,{className:"w-3 h-3"}),"Active"]}):n.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 text-xs rounded-full bg-gray-500/10 text-gray-500",children:[n.jsx(Vp,{className:"w-3 h-3"}),"Disabled"]}):n.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 text-xs rounded-full bg-gray-500/10 text-gray-500",children:[n.jsx(jt,{className:"w-3 h-3"}),"No Cron"]}):n.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 text-xs rounded-full bg-red-500/10 text-red-500",children:[n.jsx(jt,{className:"w-3 h-3"}),"Missing Task"]})}function dU({schedule:e,onToggle:s,onRun:r,onEdit:l,onDelete:o,isToggling:u,isRunning:d}){const f=e.has_task&&e.has_db_record,x=e.has_db_record;return n.jsxs("div",{className:"border rounded-md p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Za,{className:"w-5 h-5 text-muted-foreground"}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium",children:e.task_name}),n.jsx(uU,{schedule:e}),e.additional_prompt&&n.jsxs("span",{className:"flex items-center gap-1 px-1.5 py-0.5 text-xs rounded-full bg-blue-500/10 text-blue-600",title:`Assignment: ${e.additional_prompt.slice(0,100)}${e.additional_prompt.length>100?"...":""}`,children:[n.jsx(Qp,{className:"w-3 h-3"}),"Assignment"]})]}),e.description&&n.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:e.description})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>l(e),title:"Edit schedule",children:n.jsx(Kp,{className:"w-4 h-4"})}),n.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>o(e),className:"text-destructive hover:text-destructive",title:"Delete schedule",children:n.jsx(za,{className:"w-4 h-4"})}),x&&n.jsxs(fe,{variant:e.enabled?"outline":"ghost",size:"sm",onClick:()=>s(e.task_name,!e.enabled),disabled:u,className:e.enabled?"text-green-600":"text-muted-foreground",children:[u?n.jsx($e,{className:"w-4 h-4 mr-1 animate-spin"}):e.enabled?n.jsx(pj,{className:"w-4 h-4 mr-1"}):n.jsx(Xp,{className:"w-4 h-4 mr-1"}),e.enabled?"Enabled":"Disabled"]}),f&&n.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>r(e.task_name),disabled:d||!e.enabled,children:[d?n.jsx($e,{className:"w-4 h-4 mr-1 animate-spin"}):n.jsx(wi,{className:"w-4 h-4 mr-1"}),"Run Now"]})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground",children:[e.cron&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Qs,{className:"w-4 h-4"}),n.jsx("code",{className:"bg-muted px-1 rounded text-xs",children:e.cron})]}),e.next_run_at&&e.enabled&&n.jsxs("div",{children:[n.jsx("span",{className:"text-xs font-medium",children:"Next:"})," ",n.jsx("span",{className:"text-xs",children:md(e.next_run_at)})]}),e.last_run_at&&n.jsxs("div",{children:[n.jsx("span",{className:"text-xs font-medium",children:"Last:"})," ",n.jsx("span",{className:"text-xs",children:md(e.last_run_at)})]}),e.last_run_id&&n.jsxs("div",{children:[n.jsx("span",{className:"text-xs font-medium",children:"Run ID:"})," ",n.jsx("code",{className:"bg-muted px-1 rounded text-xs",children:e.last_run_id.slice(0,8)})]})]}),!e.has_task&&e.has_db_record&&n.jsx("div",{className:"text-xs text-red-600 bg-red-500/10 px-2 py-1 rounded",children:'This schedule references an agent task that no longer exists. Click "Clean Up" to remove orphaned schedules.'})]})}function fU({open:e,onOpenChange:s,mode:r,schedule:l,availableTasks:o=[],existingScheduledTasks:u=new Set}){const[d,f]=v.useState(""),[x,h]=v.useState(""),[g,y]=v.useState(""),[b,N]=v.useState(""),[C,S]=v.useState(""),[E,w]=v.useState(null),R=lU(),D=vE(),Q=R.isPending||D.isPending,ae=o.filter(L=>!u.has(L.name));v.useEffect(()=>{if(e){if(r==="edit"&&l){const L=nN.find(O=>O.value===l.cron);h(L?l.cron||"":"custom"),y(l.cron||""),N(l.description||""),S(l.additional_prompt||""),f(l.task_name)}else h(""),y(""),N(""),S(""),f("");w(null)}},[e,r,l]);const k=L=>{h(L),L!=="custom"&&y(L)},A=async()=>{if(r==="create"&&!d){w("Please select an agent task");return}w(null);try{r==="create"?await R.mutateAsync({task_name:d,cron_expression:g||void 0,description:b||void 0,additional_prompt:C.trim()||void 0}):l&&await D.mutateAsync({taskName:l.task_name,cron_expression:g||void 0,description:b||void 0,additional_prompt:C.trim()||""}),s(!1)}catch(L){w(L instanceof Error?L.message:`Failed to ${r} schedule`)}};return e?n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[n.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>!Q&&s(!1)}),n.jsxs("div",{className:"relative z-50 w-full max-w-md rounded-lg border bg-background p-6 shadow-lg animate-in fade-in-0 zoom-in-95",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold",children:r==="create"?"Create Schedule":"Edit Schedule"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:r==="create"?"Create a new schedule to run an agent automatically.":`Update the schedule for ${l?.task_name}`})]}),n.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>s(!1),disabled:Q,className:"h-8 w-8 p-0",children:n.jsx(Cn,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"space-y-4",children:[r==="create"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Agent Task"}),n.jsxs("select",{value:d,onChange:L=>f(L.target.value),className:"w-full px-3 py-2 rounded-md border bg-background text-sm focus:outline-none focus:ring-2 focus:ring-ring",disabled:Q,children:[n.jsx("option",{value:"",children:"Select an agent task"}),ae.length===0?n.jsx("option",{value:"",disabled:!0,children:"All tasks already have schedules"}):ae.map(L=>n.jsx("option",{value:L.name,children:L.display_name||L.name},L.name))]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Schedule Frequency"}),n.jsxs("select",{value:x,onChange:L=>k(L.target.value),className:"w-full px-3 py-2 rounded-md border bg-background text-sm focus:outline-none focus:ring-2 focus:ring-ring",disabled:Q,children:[n.jsx("option",{value:"",children:"Select a schedule"}),nN.map(L=>n.jsx("option",{value:L.value,children:L.label},L.value))]})]}),x==="custom"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Cron Expression"}),n.jsx("input",{type:"text",value:g,onChange:L=>y(L.target.value),placeholder:"0 0 * * *",className:"w-full px-3 py-2 rounded-md border bg-background text-sm focus:outline-none focus:ring-2 focus:ring-ring",disabled:Q}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Format: minute hour day-of-month month day-of-week"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"text-sm font-medium",children:["Description ",r==="create"&&"(optional)"]}),n.jsx("input",{type:"text",value:b,onChange:L=>N(L.target.value),placeholder:"Run weekly documentation updates",className:"w-full px-3 py-2 rounded-md border bg-background text-sm focus:outline-none focus:ring-2 focus:ring-ring",disabled:Q})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"text-sm font-medium flex items-center gap-1.5",children:[n.jsx(Qp,{className:"w-4 h-4"}),"Assignment (optional)"]}),n.jsx("textarea",{value:C,onChange:L=>S(L.target.value),placeholder:"Tell the agent what to focus on each run...",rows:4,maxLength:1e4,className:"w-full px-3 py-2 rounded-md border bg-background text-sm focus:outline-none focus:ring-2 focus:ring-ring resize-y",disabled:Q}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Prepended to the task prompt as an assignment on every run."})]}),E&&n.jsx("div",{className:"text-sm text-destructive bg-destructive/10 px-3 py-2 rounded",children:E})]}),n.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[n.jsx(fe,{variant:"outline",onClick:()=>s(!1),disabled:Q,children:"Cancel"}),n.jsxs(fe,{onClick:A,disabled:Q||r==="create"&&!d,children:[Q&&n.jsx($e,{className:"w-4 h-4 mr-2 animate-spin"}),r==="create"?"Create Schedule":"Save Changes"]})]})]})]}):null}function mU(){const[e,s]=v.useState(null),[r,l]=v.useState(null),[o,u]=v.useState("create"),[d,f]=v.useState(!1),[x,h]=v.useState(null),[g,y]=v.useState(!1),[b,N]=v.useState(null),{data:C,isLoading:S,isFetching:E,refetch:w}=rU(),{data:R}=Ox(),D=vE(),Q=iU(),ae=oU(),k=cU(),A=C?.schedules??[],L=C?.scheduler_running??!1,O=R?.tasks??[],X=new Set(A.map(q=>q.task_name)),ee=async(q,_e)=>{l(q);try{await D.mutateAsync({taskName:q,enabled:_e})}finally{l(null)}},Y=async q=>{s(q);try{await ae.mutateAsync(q)}finally{s(null)}},G=async()=>{await k.mutateAsync()},J=()=>{u("create"),h(null),f(!0)},ne=q=>{u("edit"),h(q),f(!0)},B=q=>{N(q),y(!0)},F=async()=>{if(b)try{await Q.mutateAsync(b.task_name),y(!1),N(null)}catch{}};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[L?n.jsxs("span",{className:"flex items-center gap-1 text-xs text-green-600 bg-green-500/10 px-2 py-0.5 rounded-full",children:[n.jsx(Ld,{className:"w-3 h-3"}),"Scheduler Running"]}):n.jsxs("span",{className:"flex items-center gap-1 text-xs text-amber-600 bg-amber-500/10 px-2 py-0.5 rounded-full",children:[n.jsx(jt,{className:"w-3 h-3"}),"Scheduler Stopped"]}),!S&&n.jsxs("span",{className:"text-sm text-muted-foreground",children:[A.length," ",A.length===1?"schedule":"schedules"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(fe,{variant:"default",size:"sm",onClick:J,children:[n.jsx(Ks,{className:"w-4 h-4 mr-1"}),"Create Schedule"]}),n.jsxs(fe,{variant:"outline",size:"sm",onClick:G,disabled:k.isPending,title:"Remove schedules for agent tasks that no longer exist",children:[k.isPending?n.jsx($e,{className:"w-4 h-4 mr-1 animate-spin"}):n.jsx(Ja,{className:"w-4 h-4 mr-1"}),"Clean Up"]}),n.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>w(),disabled:E,children:[n.jsx(Ja,{className:he("w-4 h-4 mr-1",E&&"animate-spin")}),"Refresh"]})]})]}),k.data&&n.jsxs("div",{className:"text-sm text-muted-foreground bg-muted/50 px-3 py-2 rounded",children:["Clean up complete: ",k.data.removed," orphaned"," ",k.data.removed===1?"schedule":"schedules"," removed (",k.data.total," total remaining)"]}),S?n.jsx("div",{className:"space-y-2",children:[1,2,3].map(q=>n.jsx("div",{className:"border rounded-md p-4 animate-pulse",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-5 h-5 bg-muted rounded"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"h-4 bg-muted rounded w-1/4 mb-2"}),n.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})]})},q))}):A.length===0?n.jsx(Te,{children:n.jsxs(ke,{className:"flex flex-col items-center justify-center py-12 text-muted-foreground",children:[n.jsx(Za,{className:"w-12 h-12 mb-4 opacity-30"}),n.jsx("p",{className:"text-sm",children:"No scheduled agents"}),n.jsx("p",{className:"text-xs mt-1 mb-4",children:"Create a schedule to run agents automatically on a cron schedule."}),n.jsxs(fe,{variant:"outline",size:"sm",onClick:J,children:[n.jsx(Ks,{className:"w-4 h-4 mr-1"}),"Create Schedule"]})]})}):n.jsx("div",{className:"space-y-2",children:A.map(q=>n.jsx(dU,{schedule:q,onToggle:ee,onRun:Y,onEdit:ne,onDelete:B,isToggling:r===q.task_name,isRunning:e===q.task_name},q.task_name))}),n.jsx(fU,{open:d,onOpenChange:f,mode:o,schedule:x,availableTasks:O,existingScheduledTasks:X}),n.jsx(ha,{open:g,onOpenChange:q=>{y(q),q||N(null)},title:"Delete Schedule",description:`Are you sure you want to delete the schedule for "${b?.task_name}"? This action cannot be undone.`,confirmLabel:"Delete",cancelLabel:"Cancel",onConfirm:F,isLoading:Q.isPending,variant:"destructive"})]})}function hU(){return Tn({queryKey:["agent-settings"],queryFn:({signal:e})=>we(ye.AGENT_SETTINGS,{signal:e})})}function pU(){const e=Ve();return Be({mutationFn:s=>we(ye.AGENT_SETTINGS,{method:"PUT",body:JSON.stringify(s)}),onSuccess:()=>{e.invalidateQueries({queryKey:["agent-settings"]})}})}async function xU(e,s){const r=new URLSearchParams({provider:e,base_url:s});return we(`${ye.AGENT_PROVIDER_MODELS}?${r.toString()}`)}async function gU(e){return we(ye.AGENT_TEST_PROVIDER,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}function yU(){const{data:e,isLoading:s}=hU(),r=pU(),[l,o]=v.useState(null),[u,d]=v.useState(!1),[f,x]=v.useState(null),[h,g]=v.useState([]),[y,b]=v.useState(!1),[N,C]=v.useState(!1),[S,E]=v.useState(null);v.useEffect(()=>{if(e&&!u){const O=e.provider;o({provider_type:O?.type||Xt.CLOUD,provider_base_url:O?.base_url||"",provider_model:O?.model||""})}},[e,u]),v.useEffect(()=>{e?.provider&&e.provider.type!==Xt.CLOUD&&e.provider.base_url&&Q(e.provider.type,e.provider.base_url)},[e?.provider?.type]);const w=l?.provider_type===Xt.CLOUD,R=v.useCallback(O=>{const X=f0[O]||"";o(ee=>ee&&{...ee,provider_type:O,provider_base_url:X,provider_model:""}),d(!0),x(null),g([]),E(null)},[]),D=v.useCallback((O,X)=>{o(ee=>ee&&{...ee,[O]:X}),d(!0),x(null),O==="provider_base_url"&&(E(null),g([]))},[]),Q=async(O,X)=>{const ee=O||l?.provider_type,Y=X||l?.provider_base_url;if(!(!ee||ee===Xt.CLOUD||!Y)){b(!0),E(null);try{const G=await xU(ee,Y);G.success&&G.models?(g(G.models.map(J=>({name:J.name,display_name:J.name}))),G.models.length===0&&E({success:!1,error:"No models found. Pull a model first."})):E({success:!1,error:G.error||"Discovery failed"})}catch(G){const J=G instanceof Error?G.message:"Unknown error";E({success:!1,error:J})}finally{b(!1)}}},ae=v.useCallback(O=>{o(X=>X&&{...X,provider_model:O}),d(!0),E(null)},[]),k=async()=>{if(!(!l||l.provider_type===Xt.CLOUD)){C(!0);try{const O=await gU({provider:l.provider_type,base_url:l.provider_base_url,model:l.provider_model||void 0});E(O)}catch(O){const X=O instanceof Error?O.message:"Unknown error";E({success:!1,error:X})}finally{C(!1)}}},A=async()=>{if(l)try{const O={provider:{type:l.provider_type,base_url:l.provider_type===Xt.CLOUD?null:l.provider_base_url||null,model:l.provider_type===Xt.CLOUD?null:l.provider_model||null}};await r.mutateAsync(O),x({type:"success",text:"Agent settings saved successfully."}),d(!1),E(null)}catch(O){const X=O instanceof Error?O.message:"Failed to save settings.";x({type:"error",text:X})}},L=l?.provider_type===Xt.CLOUD||l?.provider_base_url&&l?.provider_model;return s||!l?n.jsxs("div",{className:"p-8 flex items-center justify-center",children:[n.jsx($e,{className:"animate-spin mr-2"})," Loading settings..."]}):n.jsxs("div",{className:"space-y-6 max-w-3xl",children:[f&&n.jsxs("div",{className:he("p-4 rounded-md flex items-center gap-2",f.type==="success"?"bg-green-500/10 text-green-600":"bg-red-500/10 text-red-600"),children:[f.type==="error"&&n.jsx(jt,{className:"w-4 h-4"}),f.type==="success"&&n.jsx(Ln,{className:"w-4 h-4"}),f.text]}),n.jsxs(Te,{children:[n.jsx(Me,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Ie,{children:"Agent Execution Provider"}),n.jsx(tt,{children:"Configure how agents execute. By default, agents use your Claude Code subscription. Alternatively, use a local provider for offline execution."})]}),n.jsx(up,{show:!!L})]})}),n.jsxs(ke,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx(gn,{children:"Provider"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:tk.map(O=>n.jsxs("button",{type:"button",onClick:()=>R(O.value),className:he("flex items-center gap-3 p-4 rounded-lg border-2 transition-all text-left",l.provider_type===O.value?"border-primary bg-primary/5":"border-border hover:border-primary/50 hover:bg-muted/50"),children:[O.value===Xt.CLOUD?n.jsx(Ar,{className:"w-5 h-5 flex-shrink-0"}):n.jsx(vO,{className:"w-5 h-5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-sm",children:O.label}),O.value===Xt.CLOUD&&n.jsx("div",{className:"text-xs text-muted-foreground",children:"Recommended"})]})]},O.value))})]}),w&&n.jsxs("div",{className:"flex items-start gap-3 p-4 bg-muted/30 rounded-lg",children:[n.jsx(mj,{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-sm",children:[n.jsx("p",{className:"font-medium",children:"Using Claude Code"}),n.jsx("p",{className:"text-muted-foreground mt-1",children:"Agents will use your logged-in Claude Code account and subscription. No additional configuration needed."})]})]}),!w&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx(Gs,{step:1,title:"Connect to Provider",isComplete:!!l.provider_base_url}),n.jsxs("div",{className:"pl-7",children:[n.jsx(gn,{children:"Base URL"}),n.jsx(dp,{value:l.provider_base_url,onChange:O=>D("provider_base_url",O),onRefresh:()=>Q(),isRefreshing:y,placeholder:f0[l.provider_type]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(Gs,{step:2,title:"Select Model",isComplete:!!l.provider_model}),n.jsxs("div",{className:"pl-7",children:[n.jsx(fp,{value:l.provider_model,models:h,onChange:O=>ae(O),placeholder:"e.g. qwen3:32b",helpText:h.length===0?"Click the refresh button to load available models":"Select a model with 64k+ context window recommended"}),m0[l.provider_type]?.length>0&&n.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:["Recommended:"," ",m0[l.provider_type].join(", ")]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(Gs,{step:3,title:"Test Connection",isComplete:!!S?.success}),n.jsxs("div",{className:"pl-7 bg-muted/30 p-4 rounded-md border border-dashed",children:[n.jsx(mp,{onClick:k,isTesting:N,disabled:!l.provider_base_url,label:"Test Provider"}),n.jsx(cp,{result:S,className:"mt-3"})]})]}),n.jsxs("div",{className:"flex items-start gap-3 p-4 bg-amber-500/10 rounded-lg",children:[n.jsx(jt,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-sm",children:[n.jsx("p",{className:"font-medium text-amber-600",children:"Important Notes"}),n.jsxs("ul",{className:"text-muted-foreground mt-1 list-disc list-inside space-y-1",children:[n.jsx("li",{children:ek}),n.jsx("li",{children:"Local providers require 64k+ context window models"}),n.jsx("li",{children:"Ollama requires v0.14.0+ for Anthropic API compatibility"}),n.jsx("li",{children:"32GB RAM recommended for usable local model experience"}),n.jsx("li",{children:"First request may be slow while model loads"})]})]})]})]})]}),n.jsx(ps,{className:"bg-muted/30 py-4 flex justify-end border-t",children:n.jsxs(fe,{onClick:A,disabled:!u||!L||r.isPending,size:"lg",className:"shadow-lg",children:[r.isPending&&n.jsx($e,{className:"mr-2 h-4 w-4 animate-spin"}),n.jsx(hs,{className:"mr-2 h-4 w-4"})," Save Settings"]})})]})]})}const vU=3e4;function bU(){return Pa({queryKey:["cloud-relay-status"],queryFn:({signal:e})=>we(ye.CLOUD_RELAY_STATUS,{signal:e}),refetchInterval:vU,pollCategory:"standard"})}function NU(){const e=Ve();return Be({mutationFn:()=>cn(ye.CLOUD_RELAY_START,{}),onSuccess:()=>{e.invalidateQueries({queryKey:["cloud-relay-status"]})}})}function jU(){const e=Ve();return Be({mutationFn:()=>cn(ye.CLOUD_RELAY_STOP,{}),onSuccess:()=>{e.invalidateQueries({queryKey:["cloud-relay-status"]})}})}function SU(){return Tn({queryKey:["cloud-relay-preflight"],queryFn:({signal:e})=>we(ye.CLOUD_RELAY_PREFLIGHT,{signal:e})})}function EU(){const e=Ve();return Be({mutationFn:s=>we(ye.CLOUD_RELAY_SETTINGS,{method:"PUT",body:JSON.stringify(s)}),onSuccess:()=>{e.invalidateQueries({queryKey:["cloud-relay-status"]})}})}function Vh({label:e,satisfied:s}){return n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s?n.jsx(pa,{className:"h-4 w-4 text-green-500 flex-shrink-0"}):n.jsx(Cn,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),n.jsx("span",{className:he(s?"text-foreground":"text-muted-foreground"),children:e})]})}function wU(){const{data:e,isLoading:s}=SU();return s?n.jsx(Te,{className:"border-dashed",children:n.jsx(ke,{className:"flex items-center justify-center py-8",children:n.jsx($e,{className:"h-5 w-5 animate-spin text-muted-foreground"})})}):e?n.jsxs(Te,{className:"border-dashed",children:[n.jsxs(Me,{className:"pb-3",children:[n.jsx(Ie,{className:"text-base",children:"Prerequisites"}),n.jsx(tt,{children:"These are checked before starting the relay."})]}),n.jsxs(ke,{className:"space-y-2",children:[n.jsx(Vh,{label:"Node.js / npm available",satisfied:e.npm_available}),n.jsx(Vh,{label:"Wrangler CLI available",satisfied:e.wrangler_available}),n.jsx(Vh,{label:"Wrangler authenticated",satisfied:e.wrangler_authenticated}),e.cf_account_name&&n.jsxs("div",{className:"text-xs text-muted-foreground pl-6",children:["Account: ",e.cf_account_name]}),!e.wrangler_available&&n.jsx("div",{className:"pt-2",children:n.jsx(Mt,{command:"npm install -g wrangler && wrangler login",label:"Install and authenticate"})}),e.wrangler_available&&!e.wrangler_authenticated&&n.jsx("div",{className:"pt-2",children:n.jsx(Mt,{command:"wrangler login",label:"Authenticate with Cloudflare"})}),n.jsx("p",{className:"text-xs text-muted-foreground pt-2",children:n.jsx(Ze,{to:"/help",state:{tab:"cloud-relay"},className:"text-primary hover:underline",children:"Cloud relay setup guide"})})]})]}):null}function _U({response:e}){const[s,r]=v.useState(!1);return n.jsxs(Da,{variant:"destructive",children:[n.jsx(jt,{className:"h-4 w-4"}),n.jsxs(La,{className:"space-y-2",children:[n.jsx("p",{children:e.error}),e.suggestion&&n.jsx("p",{className:"text-sm opacity-80",children:e.suggestion}),e.detail&&n.jsxs("div",{children:[n.jsxs("button",{onClick:()=>r(!s),className:"flex items-center gap-1 text-xs underline opacity-70 hover:opacity-100",children:[s?n.jsx(Or,{className:"h-3 w-3"}):n.jsx(Mr,{className:"h-3 w-3"}),s?"Hide details":"Show details"]}),s&&n.jsx("pre",{className:"mt-2 rounded-md bg-background/50 p-3 text-xs font-mono overflow-x-auto whitespace-pre-wrap border",children:e.detail})]})]})]})}function CU({mcpEndpoint:e,agentToken:s}){const l=JSON.stringify({mcpServers:{"oak-ci":{url:e,headers:{Authorization:`Bearer ${s||"<your-agent-token>"}`}}}},null,2);return n.jsxs("div",{className:"relative",children:[n.jsx("pre",{className:"rounded-md bg-muted p-4 text-xs font-mono overflow-x-auto whitespace-pre border",children:l}),n.jsx("div",{className:"absolute top-2 right-2",children:n.jsx(Ni,{text:l})})]})}function TU({mcpEndpoint:e,agentToken:s}){const[r,l]=v.useState(!1),o=s?"*".repeat(Math.min(s.length,32)):null;return n.jsxs("div",{className:"space-y-6",children:[s&&n.jsxs(Te,{children:[n.jsxs(Me,{className:"pb-3",children:[n.jsxs(Ie,{className:"flex items-center gap-2 text-base",children:[n.jsx(yl,{className:"h-4 w-4"}),"Agent Token"]}),n.jsx(tt,{children:"Use this token when registering agents with your relay."})]}),n.jsx(ke,{children:n.jsxs("div",{className:"flex items-center gap-2 bg-muted rounded-md px-4 py-3 font-mono text-sm",children:[n.jsx("code",{className:"flex-1 truncate",children:r?s:o}),n.jsx(fe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>l(!r),children:r?n.jsx(uj,{className:"h-4 w-4"}):n.jsx(dc,{className:"h-4 w-4"})}),n.jsx(Ni,{text:s})]})})]}),n.jsxs(Te,{children:[n.jsxs(Me,{className:"pb-3",children:[n.jsxs(Ie,{className:"flex items-center gap-2 text-base",children:[n.jsx(uR,{className:"h-4 w-4"}),"MCP Config (mcp.json)"]}),n.jsx(tt,{children:"Add Oak CI to any MCP-compatible client by adding this to your config file."})]}),n.jsxs(ke,{className:"space-y-4",children:[n.jsx(CU,{mcpEndpoint:e,agentToken:s}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"text-xs font-medium text-muted-foreground",children:"Config file locations"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-1 text-xs text-muted-foreground",children:[n.jsxs("div",{children:[n.jsx("strong",{children:"Claude Code"}),"  ",n.jsx("code",{className:"bg-muted px-1 rounded",children:".claude/mcp.json"})]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Cursor"}),"  ",n.jsx("code",{className:"bg-muted px-1 rounded",children:".cursor/mcp.json"})]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Windsurf"}),"  ",n.jsx("code",{className:"bg-muted px-1 rounded",children:".windsurf/mcp.json"})]}),n.jsxs("div",{children:[n.jsx("strong",{children:"VS Code Copilot"}),"  ",n.jsx("code",{className:"bg-muted px-1 rounded",children:".vscode/mcp.json"})]})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Place the file in your project root for per-project config, or in your home directory for global config."})]})]})]}),n.jsxs(Te,{children:[n.jsxs(Me,{className:"pb-3",children:[n.jsx(Ie,{className:"text-base",children:"Claude.ai"}),n.jsx(tt,{children:"Add Oak CI as an MCP server in Claude.ai."})]}),n.jsxs(ke,{className:"space-y-4",children:[n.jsxs("ol",{className:"list-decimal list-inside text-sm text-muted-foreground space-y-2",children:[n.jsxs("li",{children:["Open Claude.ai settings and navigate to the ",n.jsx("strong",{children:"MCP Servers"})," section"]}),n.jsxs("li",{children:["Click ",n.jsx("strong",{children:"Add MCP Server"})]}),n.jsx("li",{children:"Enter the following URL as the server endpoint:"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"text-xs text-muted-foreground",children:"MCP Server URL"}),n.jsxs("div",{className:"flex items-center gap-2 bg-muted rounded-md px-4 py-3 font-mono text-sm",children:[n.jsx("code",{className:"flex-1 truncate",children:e}),n.jsx(Ni,{text:e}),n.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-foreground transition-colors",children:n.jsx(Dr,{className:"w-4 h-4"})})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter your agent token when prompted for authentication."})]})]}),n.jsxs(Te,{children:[n.jsxs(Me,{className:"pb-3",children:[n.jsx(Ie,{className:"text-base",children:"ChatGPT"}),n.jsx(tt,{children:"Connect Oak CI as a tool in ChatGPT."})]}),n.jsxs(ke,{className:"space-y-4",children:[n.jsxs("ol",{className:"list-decimal list-inside text-sm text-muted-foreground space-y-2",children:[n.jsxs("li",{children:["Open ChatGPT and go to ",n.jsx("strong",{children:"Settings"})," > ",n.jsx("strong",{children:"Connected Tools"})]}),n.jsxs("li",{children:["Click ",n.jsx("strong",{children:"Add Tool"})," and select MCP"]}),n.jsx("li",{children:"Enter the MCP server URL:"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"text-xs text-muted-foreground",children:"MCP Server URL"}),n.jsxs("div",{className:"flex items-center gap-2 bg-muted rounded-md px-4 py-3 font-mono text-sm",children:[n.jsx("code",{className:"flex-1 truncate",children:e}),n.jsx(Ni,{text:e})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Authenticate using your agent token when prompted."})]})]}),n.jsxs(Te,{children:[n.jsxs(Me,{className:"pb-3",children:[n.jsxs(Ie,{className:"flex items-center gap-2 text-base",children:[n.jsx(lp,{className:"h-4 w-4"}),"Testing"]}),n.jsx(tt,{children:"Verify your relay is working."})]}),n.jsxs(ke,{className:"space-y-4",children:[n.jsx(Mt,{command:`curl -X POST ${e} -H "Content-Type: application/json" -H "Authorization: Bearer <your-agent-token>" -d '{"jsonrpc":"2.0","method":"tools/list","id":1}'`,label:"List available tools"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Replace ",n.jsx("code",{className:"bg-muted px-1 rounded",children:"<your-agent-token>"})," with your actual agent token. A successful response will return a JSON-RPC result with the available Oak CI tools."]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["For interactive testing, use the"," ",n.jsxs("a",{href:"https://github.com/modelcontextprotocol/inspector",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline inline-flex items-center gap-1",children:["MCP Inspector",n.jsx(Dr,{className:"h-3 w-3"})]})," "," a visual tool for browsing and calling MCP server tools."]})]})]})]})}function kU({currentDomain:e,workerName:s,isConnected:r}){const[l,o]=v.useState(e??""),[u,d]=v.useState(null),f=EU();v.useEffect(()=>{o(e??"")},[e]);const x=l!==(e??""),h=f.isPending,g=l.trim(),y=g&&s?`${s}.${g}`:null,b=()=>{d(null),f.mutate({custom_domain:g||null},{onSuccess:()=>d({type:"success",text:"Custom domain saved."}),onError:C=>d({type:"error",text:C.message})})},N=()=>{d(null),f.mutate({custom_domain:null},{onSuccess:()=>d({type:"success",text:"Custom domain cleared."}),onError:C=>d({type:"error",text:C.message})})};return n.jsxs(Te,{children:[n.jsxs(Me,{className:"pb-3",children:[n.jsxs(Ie,{className:"flex items-center gap-2 text-base",children:[n.jsx(Oi,{className:"h-4 w-4"}),"Settings"]}),n.jsx(tt,{children:"Configure advanced relay options."})]}),n.jsxs(ke,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Custom Domain"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"text",value:l,onChange:C=>o(C.target.value),placeholder:"example.com",className:"flex-1 rounded-md border bg-background px-3 py-2 text-sm font-mono focus:outline-none focus:ring-2 focus:ring-ring",disabled:h}),n.jsx(fe,{onClick:b,disabled:!x||h,size:"sm",children:h?n.jsx($e,{className:"h-4 w-4 animate-spin"}):"Save"})]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Enter your Cloudflare domain. The MCP endpoint will be ",n.jsx("code",{className:"bg-muted px-1 rounded",children:y?`${y}/mcp`:"{worker}.{domain}/mcp"}),". The domain must be in the same Cloudflare account."]}),y&&n.jsxs("div",{className:"flex items-center gap-2 bg-muted/50 rounded-md px-3 py-2 text-xs font-mono border border-dashed",children:[n.jsx("span",{className:"text-muted-foreground",children:"Endpoint:"}),n.jsxs("code",{children:[y,"/mcp"]})]}),r&&x&&g!==(e??"")&&n.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400",children:"Re-deploy needed  click Start Relay to apply."}),e&&n.jsx("button",{onClick:N,disabled:h,className:"text-xs text-muted-foreground underline hover:text-foreground",children:"Clear custom domain"})]}),u&&n.jsxs("div",{className:he("p-3 rounded-md text-sm flex items-center gap-2",u.type==="success"?"bg-green-500/10 text-green-600":"bg-red-500/10 text-red-600"),children:[u.type==="success"?n.jsx(Ln,{className:"h-4 w-4"}):n.jsx(jt,{className:"h-4 w-4"}),u.text]})]})]})}function AU(){const{data:e,isLoading:s}=bU(),r=NU(),l=jU(),o=e?.connected??!1,u=r.isPending||l.isPending,d=()=>{o?l.mutate():(r.reset(),r.mutate())},f=e?.mcp_endpoint??r.data?.mcp_endpoint??(e?.worker_url?`${e.worker_url}/mcp`:null),x=e?.agent_token??r.data?.agent_token??null,h=e?.cf_account_name??r.data?.cf_account_name??null,g=r.data?.error?r.data:null;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-3",children:[n.jsx(Ar,{className:"w-8 h-8"}),"Cloud Relay"]}),n.jsx("p",{className:"text-muted-foreground",children:"Deploy a Cloudflare Worker so cloud AI agents can access your local Oak CI instance."})]}),n.jsxs(Te,{children:[n.jsxs(Me,{children:[n.jsxs(Ie,{className:"flex items-center gap-2",children:[n.jsx(Ar,{className:"h-5 w-5"}),"Relay Connection"]}),n.jsx(tt,{children:o?"Your relay is active. Cloud agents can connect to your local instance.":"Start the relay to deploy a Cloudflare Worker and connect automatically."})]}),n.jsxs(ke,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-muted/50",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:he("w-3 h-3 rounded-full",o?"bg-green-500":"bg-gray-400")}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-sm",children:o?"Relay Active":"Relay Inactive"}),o&&h&&n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Cloudflare account: ",h]})]})]}),n.jsx(fe,{onClick:d,disabled:u||s,variant:o?"outline":"default",size:"sm","aria-label":o?"Stop cloud relay":"Start cloud relay",children:u?n.jsxs(n.Fragment,{children:[n.jsx($e,{className:"h-4 w-4 mr-2 animate-spin"}),r.isPending?"Starting...":"Stopping..."]}):o?"Stop Relay":n.jsxs(n.Fragment,{children:[n.jsx(Ar,{className:"h-4 w-4 mr-2"}),"Start Relay"]})})]}),o&&f&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"MCP Server URL"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("code",{className:"flex-1 bg-muted px-3 py-2 rounded-md text-sm font-mono truncate border",children:f}),n.jsx(Ni,{text:f}),n.jsx(fe,{variant:"outline",size:"sm",className:"flex-shrink-0",asChild:!0,children:n.jsx("a",{href:f,target:"_blank",rel:"noopener noreferrer",children:n.jsx(Dr,{className:"h-4 w-4"})})})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Give this URL to cloud AI agents (Claude.ai, ChatGPT, etc.) as the MCP server endpoint."})]}),!o&&g&&n.jsx(_U,{response:g}),!o&&r.error&&!g&&n.jsxs(Da,{variant:"destructive",children:[n.jsx(jt,{className:"h-4 w-4"}),n.jsx(La,{children:r.error.message})]}),l.error&&n.jsxs(Da,{variant:"destructive",children:[n.jsx(jt,{className:"h-4 w-4"}),n.jsx(La,{children:l.error.message})]})]})]}),n.jsx(kU,{currentDomain:e?.custom_domain??null,workerName:e?.worker_name??r.data?.worker_name??null,isConnected:o}),o&&f&&n.jsx(TU,{mcpEndpoint:f,agentToken:x}),!o&&n.jsx(wU,{})]})}function RU(){const s=Bn().pathname,r=[{id:"audit",label:"Audit Log",path:"/governance/audit",icon:xj},{id:"rules",label:"Rules",path:"/governance/rules",icon:PR}];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Governance"}),n.jsx("p",{className:"text-muted-foreground",children:"Monitor and control what your AI agents are allowed to do."})]}),n.jsx("div",{className:"flex items-center border-b",children:r.map(l=>n.jsxs(Ze,{to:l.path,className:he("px-4 py-2 text-sm font-medium border-b-2 transition-colors flex items-center gap-2",s.startsWith(l.path)?"border-primary text-foreground":"border-transparent text-muted-foreground hover:text-foreground hover:border-muted"),children:[n.jsx(l.icon,{className:"w-4 h-4"}),l.label]},l.id))}),n.jsx(uc,{})]})}const $s={all:["governance"],config:()=>[...$s.all,"config"],audit:e=>[...$s.all,"audit",e],auditSummary:e=>[...$s.all,"audit-summary",e]};async function OU(e){return we(ye.GOVERNANCE_CONFIG,{signal:e})}async function MU(e){return we(ye.GOVERNANCE_CONFIG,{method:"PUT",body:JSON.stringify(e)})}async function DU(e,s){const r=new URLSearchParams;e.since!==void 0&&r.set("since",String(e.since)),e.action&&r.set("action",e.action),e.agent&&r.set("agent",e.agent),e.tool&&r.set("tool",e.tool),e.rule_id&&r.set("rule_id",e.rule_id),e.limit!==void 0&&r.set("limit",String(e.limit)),e.offset!==void 0&&r.set("offset",String(e.offset));const l=r.toString();return we(`${ye.GOVERNANCE_AUDIT}${l?`?${l}`:""}`,{signal:s})}async function LU(e,s){return we(`${ye.GOVERNANCE_AUDIT_SUMMARY}?days=${e}`,{signal:s})}async function IU(e){return cn(ye.GOVERNANCE_TEST,e)}async function zU(){return cn(ye.GOVERNANCE_AUDIT_PRUNE,{})}function UU(){return Tn({queryKey:$s.config(),queryFn:({signal:e})=>OU(e),staleTime:1e4})}function PU(){const e=Ve();return Be({mutationFn:s=>MU(s),onSuccess:s=>{e.setQueryData($s.config(),s.config),e.invalidateQueries({queryKey:$s.config()})}})}function BU(e){return Pa({queryKey:$s.audit(e),queryFn:({signal:s})=>DU(e,s),refetchInterval:15e3,pollCategory:"realtime",placeholderData:s=>s})}function FU(e=7){return Pa({queryKey:$s.auditSummary(e),queryFn:({signal:s})=>LU(e,s),refetchInterval:3e4,pollCategory:"standard"})}function HU(){return Be({mutationFn:e=>IU(e)})}function qU(){const e=Ve();return Be({mutationFn:()=>zU(),onSuccess:()=>{e.invalidateQueries({queryKey:$s.all})}})}const aN={allow:{label:"Allow",color:"text-green-600",bgColor:"bg-green-500/10",icon:gj},deny:{label:"Deny",color:"text-red-500",bgColor:"bg-red-500/10",icon:yd},warn:{label:"Warn",color:"text-amber-500",bgColor:"bg-amber-500/10",icon:bl},observe:{label:"Observe",color:"text-blue-500",bgColor:"bg-blue-500/10",icon:dc}},sN={filesystem:"bg-violet-500/10 text-violet-600",shell:"bg-orange-500/10 text-orange-600",network:"bg-cyan-500/10 text-cyan-600",agent:"bg-pink-500/10 text-pink-600",other:"bg-gray-500/10 text-gray-500"},fi=25,GU=[{label:"Last hour",seconds:3600},{label:"Last 24h",seconds:86400},{label:"Last 7d",seconds:604800},{label:"Last 30d",seconds:2592e3},{label:"All time",seconds:0}];function VU({action:e}){const s=aN[e]??aN.observe,r=s.icon;return n.jsxs("span",{className:he("flex items-center gap-1 px-2 py-0.5 text-xs rounded-full font-medium",s.bgColor,s.color),children:[n.jsx(r,{className:"w-3 h-3"}),s.label]})}function YU({category:e}){if(!e)return null;const s=sN[e]??sN.other;return n.jsx("span",{className:he("px-1.5 py-0.5 text-xs rounded",s),children:e})}function Fo({label:e,value:s,color:r}){return n.jsxs("div",{className:"flex flex-col items-center p-3 rounded-md border bg-card",children:[n.jsx("span",{className:he("text-2xl font-bold tabular-nums",r),children:s.toLocaleString()}),n.jsx("span",{className:"text-xs text-muted-foreground",children:e})]})}function $U(e){const r=Math.floor(Date.now()/1e3)-e;return r<60?"just now":r<3600?`${Math.floor(r/60)}m ago`:r<86400?`${Math.floor(r/3600)}h ago`:r<172800?"yesterday":`${Math.floor(r/86400)}d ago`}function QU({event:e}){const[s,r]=v.useState(!1);return n.jsxs("div",{className:"border rounded-md p-3 hover:bg-muted/30 transition-colors cursor-pointer",onClick:()=>r(!s),children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(VU,{action:e.action}),n.jsx("code",{className:"text-sm font-medium",children:e.tool_name}),n.jsx(YU,{category:e.tool_category}),e.rule_id&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["rule: ",n.jsx("code",{className:"bg-muted px-1 rounded",children:e.rule_id})]}),n.jsx("span",{className:"ml-auto text-xs text-muted-foreground whitespace-nowrap",children:$U(e.created_at_epoch)})]}),s&&n.jsxs("div",{className:"mt-3 pt-3 border-t space-y-2 text-sm",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium text-muted-foreground",children:"Agent:"})," ",e.agent]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("span",{className:"font-medium text-muted-foreground",children:"Session:"})," ",n.jsx(Ze,{to:`/activity/sessions/${e.session_id}`,onClick:l=>l.stopPropagation(),className:"text-primary hover:underline",children:e.session_title||`Session ${e.session_id.slice(0,8)}`})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium text-muted-foreground",children:"Mode:"})," ",e.enforcement_mode]}),e.evaluation_ms!==null&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium text-muted-foreground",children:"Eval time:"})," ",e.evaluation_ms,"ms"]})]}),e.reason&&n.jsxs("div",{className:"text-xs",children:[n.jsx("span",{className:"font-medium text-muted-foreground",children:"Reason:"})," ",n.jsx("span",{children:e.reason})]}),e.matched_pattern&&n.jsxs("div",{className:"text-xs",children:[n.jsx("span",{className:"font-medium text-muted-foreground",children:"Pattern:"})," ",n.jsx("code",{className:"bg-muted px-1 rounded",children:e.matched_pattern})]}),e.tool_input_summary&&n.jsxs("div",{className:"text-xs",children:[n.jsx("span",{className:"font-medium text-muted-foreground",children:"Input:"})," ",n.jsx("code",{className:"bg-muted px-1 rounded text-xs break-all",children:e.tool_input_summary.slice(0,200)})]})]})]})}function KU(){const[e,s]=v.useState(""),[r,l]=v.useState(""),[o,u]=v.useState(604800),[d,f]=v.useState(0),[x,h]=v.useState(!1),g={limit:fi,offset:d,...e&&{action:e},...r&&{tool:r},...o>0&&{since:Math.floor(Date.now()/1e3)-o}},{data:y,isLoading:b,isFetching:N,refetch:C}=BU(g),{data:S}=FU(7),E=y?.events??[],w=y?.total??0,R=d+fi<w,D=d>0,Q=()=>{s(""),l(""),u(604800),f(0)},ae=e||r||o!==604800;return n.jsxs("div",{className:"space-y-4",children:[S&&S.total>0&&n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[n.jsx(Fo,{label:"Total (7d)",value:S.total}),n.jsx(Fo,{label:"Allow",value:S.by_action.allow??0,color:"text-green-600"}),n.jsx(Fo,{label:"Observe",value:S.by_action.observe??0,color:"text-blue-500"}),n.jsx(Fo,{label:"Warn",value:S.by_action.warn??0,color:"text-amber-500"}),n.jsx(Fo,{label:"Deny",value:S.by_action.deny??0,color:"text-red-500"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center gap-3",children:n.jsxs("span",{className:"text-sm text-muted-foreground",children:[w.toLocaleString()," ",w===1?"event":"events"]})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(fe,{variant:x?"default":"outline",size:"sm",onClick:()=>h(!x),children:[n.jsx(pd,{className:"w-4 h-4 mr-1"}),"Filters",ae&&n.jsx("span",{className:"ml-1 w-2 h-2 bg-primary-foreground rounded-full"})]}),n.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>C(),disabled:N,children:[n.jsx(Ja,{className:he("w-4 h-4 mr-1",N&&"animate-spin")}),"Refresh"]})]})]}),x&&n.jsxs("div",{className:"border rounded-md p-4 space-y-3 bg-card",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium",children:"Filters"}),ae&&n.jsxs(fe,{variant:"ghost",size:"sm",onClick:Q,children:[n.jsx(Cn,{className:"w-3 h-3 mr-1"}),"Clear all"]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Decision"}),n.jsxs("select",{value:e,onChange:k=>{s(k.target.value),f(0)},className:"w-full px-3 py-1.5 rounded-md border bg-background text-sm focus:outline-none focus:ring-2 focus:ring-ring",children:[n.jsx("option",{value:"",children:"All decisions"}),n.jsx("option",{value:"allow",children:"Allow"}),n.jsx("option",{value:"deny",children:"Deny"}),n.jsx("option",{value:"warn",children:"Warn"}),n.jsx("option",{value:"observe",children:"Observe"})]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Tool"}),n.jsx("input",{type:"text",value:r,onChange:k=>{l(k.target.value),f(0)},placeholder:"e.g. Bash, Write...",className:"w-full px-3 py-1.5 rounded-md border bg-background text-sm focus:outline-none focus:ring-2 focus:ring-ring"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Time range"}),n.jsx("select",{value:o,onChange:k=>{u(Number(k.target.value)),f(0)},className:"w-full px-3 py-1.5 rounded-md border bg-background text-sm focus:outline-none focus:ring-2 focus:ring-ring",children:GU.map(k=>n.jsx("option",{value:k.seconds,children:k.label},k.seconds))})]})]})]}),b?n.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(k=>n.jsx("div",{className:"border rounded-md p-3 animate-pulse",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-16 h-5 bg-muted rounded-full"}),n.jsx("div",{className:"w-20 h-4 bg-muted rounded"}),n.jsx("div",{className:"w-14 h-4 bg-muted rounded"}),n.jsx("div",{className:"ml-auto w-12 h-3 bg-muted rounded"})]})},k))}):E.length===0?n.jsx(Te,{children:n.jsxs(ke,{className:"flex flex-col items-center justify-center py-12 text-muted-foreground",children:[n.jsx(Jp,{className:"w-12 h-12 mb-4 opacity-30"}),n.jsx("p",{className:"text-sm",children:"No audit events found"}),n.jsx("p",{className:"text-xs mt-1",children:ae?"Try adjusting your filters.":"Events will appear here when governance evaluates tool calls."})]})}):n.jsx("div",{className:"space-y-2",children:E.map(k=>n.jsx(QU,{event:k},k.id))}),w>fi&&n.jsxs("div",{className:"flex items-center justify-between pt-2",children:[n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Showing ",d+1,"",Math.min(d+fi,w)," of ",w.toLocaleString()]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(fe,{variant:"outline",size:"sm",onClick:()=>f(Math.max(0,d-fi)),disabled:!D,children:n.jsx(oj,{className:"w-4 h-4"})}),n.jsx(fe,{variant:"outline",size:"sm",onClick:()=>f(d+fi),disabled:!R,children:n.jsx(Mr,{className:"w-4 h-4"})})]})]})]})}const XU=[{value:"deny",label:"Deny",description:"Block the tool call (enforce mode only)"},{value:"warn",label:"Warn",description:"Allow but warn the agent (enforce mode only)"},{value:"observe",label:"Observe",description:"Log only, never block"}],rN={id:"",description:"",enabled:!0,tool:"*",pattern:"",path_pattern:"",action:"observe",message:""};function bE({action:e}){const s={deny:{label:"Deny",className:"bg-red-500/10 text-red-500"},warn:{label:"Warn",className:"bg-amber-500/10 text-amber-500"},observe:{label:"Observe",className:"bg-blue-500/10 text-blue-500"},allow:{label:"Allow",className:"bg-green-500/10 text-green-600"}},r=s[e]??s.observe;return n.jsx("span",{className:he("px-2 py-0.5 text-xs rounded-full font-medium",r.className),children:r.label})}function ZU({rule:e,onToggle:s,onEdit:r,onDelete:l}){return n.jsxs("div",{className:he("border rounded-md p-4 space-y-2",!e.enabled&&"opacity-60"),children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("code",{className:"text-sm font-semibold",children:e.id}),n.jsx(bE,{action:e.action}),!e.enabled&&n.jsx("span",{className:"text-xs text-muted-foreground",children:"(disabled)"})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>r(e),title:"Edit rule",children:n.jsx(Kp,{className:"w-4 h-4"})}),n.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>l(e),className:"text-destructive hover:text-destructive",title:"Delete rule",children:n.jsx(za,{className:"w-4 h-4"})}),n.jsx(fe,{variant:e.enabled?"outline":"ghost",size:"sm",onClick:()=>s(e.id,!e.enabled),className:e.enabled?"text-green-600":"text-muted-foreground",children:e.enabled?n.jsx(pj,{className:"w-4 h-4"}):n.jsx(Xp,{className:"w-4 h-4"})})]})]}),e.description&&n.jsx("p",{className:"text-sm text-muted-foreground",children:e.description}),n.jsxs("div",{className:"flex flex-wrap gap-3 text-xs text-muted-foreground",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Tool:"})," ",n.jsx("code",{className:"bg-muted px-1 rounded",children:e.tool})]}),e.pattern&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Pattern:"})," ",n.jsx("code",{className:"bg-muted px-1 rounded",children:e.pattern})]}),e.path_pattern&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Path:"})," ",n.jsx("code",{className:"bg-muted px-1 rounded",children:e.path_pattern})]}),e.message&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Message:"})," ",n.jsx("span",{className:"italic",children:e.message})]})]})]})}function JU({open:e,onOpenChange:s,mode:r,rule:l,existingIds:o,onSave:u}){const[d,f]=v.useState(l),[x,h]=v.useState(null);v.useEffect(()=>{e&&(f(l),h(null))},[e,l]);const g=()=>{if(!d.id.trim()){h("Rule ID is required");return}if(!/^[a-z0-9-]+$/.test(d.id)){h("Rule ID must be lowercase alphanumeric with dashes only");return}if(r==="create"&&o.has(d.id)){h(`Rule "${d.id}" already exists`);return}u(d),s(!1)};return e?n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[n.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>s(!1)}),n.jsxs("div",{className:"relative z-50 w-full max-w-lg rounded-lg border bg-background p-6 shadow-lg animate-in fade-in-0 zoom-in-95 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-lg font-semibold",children:r==="create"?"Add Rule":"Edit Rule"}),n.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>s(!1),className:"h-8 w-8 p-0",children:n.jsx(Cn,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm font-medium",children:"Rule ID"}),n.jsx("input",{type:"text",value:d.id,onChange:y=>f({...d,id:y.target.value}),placeholder:"no-env-writes",className:"w-full px-3 py-2 rounded-md border bg-background text-sm focus:outline-none focus:ring-2 focus:ring-ring",disabled:r==="edit"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Lowercase with dashes. Cannot be changed after creation."})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm font-medium",children:"Description"}),n.jsx("input",{type:"text",value:d.description,onChange:y=>f({...d,description:y.target.value}),placeholder:"Block writes to .env files",className:"w-full px-3 py-2 rounded-md border bg-background text-sm focus:outline-none focus:ring-2 focus:ring-ring"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm font-medium",children:"Action"}),n.jsx("select",{value:d.action,onChange:y=>f({...d,action:y.target.value}),className:"w-full px-3 py-2 rounded-md border bg-background text-sm focus:outline-none focus:ring-2 focus:ring-ring",children:XU.map(y=>n.jsxs("option",{value:y.value,children:[y.label,"  ",y.description]},y.value))})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm font-medium",children:"Tool name"}),n.jsx("input",{type:"text",value:d.tool,onChange:y=>f({...d,tool:y.target.value}),placeholder:"* (all tools)",className:"w-full px-3 py-2 rounded-md border bg-background text-sm focus:outline-none focus:ring-2 focus:ring-ring"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:'Tool name or glob pattern (e.g. "Bash", "Write", "*").'})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm font-medium",children:"Input pattern (regex, optional)"}),n.jsx("input",{type:"text",value:d.pattern,onChange:y=>f({...d,pattern:y.target.value}),placeholder:"rm\\s+-rf|DROP\\s+TABLE",className:"w-full px-3 py-2 rounded-md border bg-background text-sm font-mono focus:outline-none focus:ring-2 focus:ring-ring"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Regex matched against the serialized tool input."})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm font-medium",children:"Path pattern (fnmatch, optional)"}),n.jsx("input",{type:"text",value:d.path_pattern,onChange:y=>f({...d,path_pattern:y.target.value}),placeholder:"*.env",className:"w-full px-3 py-2 rounded-md border bg-background text-sm font-mono focus:outline-none focus:ring-2 focus:ring-ring"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Matched against file_path from tool input."})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm font-medium",children:"Agent message (optional)"}),n.jsx("textarea",{value:d.message,onChange:y=>f({...d,message:y.target.value}),placeholder:"This action is not allowed by governance policy.",rows:2,className:"w-full px-3 py-2 rounded-md border bg-background text-sm focus:outline-none focus:ring-2 focus:ring-ring resize-y"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Shown to the agent when the rule triggers."})]}),x&&n.jsx("div",{className:"text-sm text-destructive bg-destructive/10 px-3 py-2 rounded",children:x})]}),n.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[n.jsx(fe,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),n.jsxs(fe,{onClick:g,children:[n.jsx(hs,{className:"w-4 h-4 mr-1"}),r==="create"?"Add Rule":"Save Changes"]})]})]})]}):null}function WU(){const[e,s]=v.useState(""),[r,l]=v.useState(""),o=HU(),u=()=>{let d={};if(r.trim())try{d=JSON.parse(r)}catch{d={raw:r}}o.mutate({tool_name:e,tool_input:d})};return n.jsxs("div",{className:"border rounded-md p-4 space-y-3 bg-card",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(lp,{className:"w-4 h-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm font-medium",children:"Test Policy"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Tool name"}),n.jsx("input",{type:"text",value:e,onChange:d=>s(d.target.value),placeholder:"Bash",className:"w-full px-3 py-1.5 rounded-md border bg-background text-sm focus:outline-none focus:ring-2 focus:ring-ring"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Tool input (JSON)"}),n.jsx("input",{type:"text",value:r,onChange:d=>l(d.target.value),placeholder:'{"command": "rm -rf /"}',className:"w-full px-3 py-1.5 rounded-md border bg-background text-sm font-mono focus:outline-none focus:ring-2 focus:ring-ring"})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(fe,{size:"sm",onClick:u,disabled:!e||o.isPending,children:[o.isPending?n.jsx($e,{className:"w-4 h-4 mr-1 animate-spin"}):n.jsx(lp,{className:"w-4 h-4 mr-1"}),"Test"]}),o.data&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(bE,{action:o.data.action}),o.data.rule_id&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["rule: ",n.jsx("code",{className:"bg-muted px-1 rounded",children:o.data.rule_id})]}),o.data.reason&&n.jsx("span",{className:"text-xs text-muted-foreground",children:o.data.reason})]}),o.error&&n.jsx("span",{className:"text-xs text-destructive",children:o.error.message})]})]})}function eP(){const{data:e,isLoading:s}=UU(),r=PU(),l=qU(),[o,u]=v.useState(null),[d,f]=v.useState(!1),[x,h]=v.useState(!1),[g,y]=v.useState("create"),[b,N]=v.useState(rN),[C,S]=v.useState(!1),[E,w]=v.useState(null),[R,D]=v.useState(!1);v.useEffect(()=>{e&&!d&&u(e)},[e,d]);const Q=J=>{o&&(u({...o,...J}),f(!0),D(!1))},ae=async()=>{if(o)try{await r.mutateAsync(o),f(!1),D(!0),setTimeout(()=>D(!1),3e3)}catch{}},k=()=>{e&&(u(e),f(!1))},A=()=>{y("create"),N({...rN}),h(!0)},L=J=>{y("edit"),N({...J}),h(!0)},O=J=>{w(J),S(!0)},X=()=>{!o||!E||(Q({rules:o.rules.filter(J=>J.id!==E.id)}),S(!1),w(null))},ee=(J,ne)=>{o&&Q({rules:o.rules.map(B=>B.id===J?{...B,enabled:ne}:B)})},Y=J=>{o&&Q(g==="create"?{rules:[...o.rules,J]}:{rules:o.rules.map(ne=>ne.id===J.id?J:ne)})};if(s||!o)return n.jsx("div",{className:"space-y-4",children:[1,2,3].map(J=>n.jsxs("div",{className:"border rounded-md p-4 animate-pulse",children:[n.jsx("div",{className:"h-6 bg-muted rounded w-1/3 mb-2"}),n.jsx("div",{className:"h-4 bg-muted rounded w-2/3"})]},J))});const G=new Set(o.rules.map(J=>J.id));return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"border rounded-md p-4 space-y-4 bg-card",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Jp,{className:"w-5 h-5 text-muted-foreground"}),n.jsx("span",{className:"font-medium",children:"Governance Policy"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[d&&n.jsxs(n.Fragment,{children:[n.jsx(fe,{variant:"ghost",size:"sm",onClick:k,children:"Discard"}),n.jsxs(fe,{size:"sm",onClick:ae,disabled:r.isPending,children:[r.isPending?n.jsx($e,{className:"w-4 h-4 mr-1 animate-spin"}):n.jsx(hs,{className:"w-4 h-4 mr-1"}),"Save"]})]}),R&&n.jsxs("span",{className:"flex items-center gap-1 text-xs text-green-600",children:[n.jsx(Ld,{className:"w-3 h-3"}),"Saved"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"flex items-center justify-between border rounded-md p-3",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium",children:"Governance"}),n.jsx("div",{className:"text-xs text-muted-foreground",children:o.enabled?"Evaluating tool calls against rules":"Not active  no evaluation"})]}),n.jsx(fe,{variant:o.enabled?"outline":"ghost",size:"sm",onClick:()=>Q({enabled:!o.enabled}),className:o.enabled?"text-green-600":"text-muted-foreground",children:o.enabled?n.jsxs(n.Fragment,{children:[n.jsx(gj,{className:"w-4 h-4 mr-1"})," Enabled"]}):n.jsxs(n.Fragment,{children:[n.jsx(Xp,{className:"w-4 h-4 mr-1"})," Disabled"]})})]}),n.jsxs("div",{className:"flex items-center justify-between border rounded-md p-3",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium",children:"Enforcement"}),n.jsx("div",{className:"text-xs text-muted-foreground",children:o.enforcement_mode==="enforce"?"Deny rules will block tool calls":"Observe only  deny rules downgraded to observe"})]}),n.jsx(fe,{variant:"outline",size:"sm",onClick:()=>Q({enforcement_mode:o.enforcement_mode==="enforce"?"observe":"enforce"}),className:o.enforcement_mode==="enforce"?"text-red-500":"text-blue-500",children:o.enforcement_mode==="enforce"?n.jsxs(n.Fragment,{children:[n.jsx(yd,{className:"w-4 h-4 mr-1"})," Enforce"]}):n.jsxs(n.Fragment,{children:[n.jsx(dc,{className:"w-4 h-4 mr-1"})," Observe"]})})]}),n.jsxs("div",{className:"flex items-center justify-between border rounded-md p-3",children:[n.jsxs("div",{className:"flex-1 mr-3",children:[n.jsx("div",{className:"text-sm font-medium",children:"Audit Retention"}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Keep audit events for"," ",n.jsx("input",{type:"number",min:1,max:365,value:o.retention_days??30,onChange:J=>{const ne=parseInt(J.target.value,10);isNaN(ne)||Q({retention_days:Math.max(1,Math.min(365,ne))})},className:"w-14 px-1.5 py-0.5 rounded border bg-background text-sm text-center inline-block"})," ","days"]})]}),n.jsxs(fe,{variant:"ghost",size:"sm",onClick:()=>l.mutate(),disabled:l.isPending,title:"Prune old events now",className:"text-muted-foreground",children:[l.isPending?n.jsx($e,{className:"w-4 h-4 mr-1 animate-spin"}):n.jsx(Qs,{className:"w-4 h-4 mr-1"}),"Prune"]})]})]}),o.enforcement_mode==="enforce"&&n.jsxs("div",{className:"flex items-center gap-2 text-xs text-amber-600 bg-amber-500/10 px-3 py-2 rounded",children:[n.jsx(bl,{className:"w-4 h-4 flex-shrink-0"}),n.jsx("span",{children:"Enforce mode is active. Deny rules will block agent tool calls in real time."})]}),r.error&&n.jsxs("div",{className:"text-sm text-destructive bg-destructive/10 px-3 py-2 rounded",children:["Failed to save: ",r.error.message]})]}),o.enabled&&n.jsx(WU,{}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-sm font-medium",children:["Rules (",o.rules.length,")"]}),n.jsxs(fe,{size:"sm",onClick:A,children:[n.jsx(Ks,{className:"w-4 h-4 mr-1"}),"Add Rule"]})]}),o.rules.length===0?n.jsx(Te,{children:n.jsxs(ke,{className:"flex flex-col items-center justify-center py-12 text-muted-foreground",children:[n.jsx(_O,{className:"w-12 h-12 mb-4 opacity-30"}),n.jsx("p",{className:"text-sm",children:"No rules configured"}),n.jsx("p",{className:"text-xs mt-1 mb-4",children:"Add rules to control what your agents can do."}),n.jsxs(fe,{variant:"outline",size:"sm",onClick:A,children:[n.jsx(Ks,{className:"w-4 h-4 mr-1"}),"Add Rule"]})]})}):n.jsx("div",{className:"space-y-2",children:o.rules.map(J=>n.jsx(ZU,{rule:J,onToggle:ee,onEdit:L,onDelete:O},J.id))})]}),n.jsx(JU,{open:x,onOpenChange:h,mode:g,rule:b,existingIds:G,onSave:Y}),n.jsx(ha,{open:C,onOpenChange:J=>{S(J),J||w(null)},title:"Delete Rule",description:`Remove rule "${E?.id}"? This change takes effect when you save.`,confirmLabel:"Remove",cancelLabel:"Cancel",onConfirm:X,variant:"destructive"})]})}const tP=JC([{path:"/",element:n.jsx(P4,{}),children:[{index:!0,element:n.jsx(aM,{})},{path:"search",element:n.jsx(yM,{})},{path:"activity",element:n.jsx(vM,{}),children:[{index:!0,element:n.jsx(Du,{to:"sessions",replace:!0})},{path:"sessions",element:n.jsx(lD,{})},{path:"plans",element:n.jsx(Cz,{})},{path:"memories",element:n.jsx(Dz,{})}]},{path:"activity/sessions/:id",element:n.jsx(a6,{})},{path:"logs",element:n.jsx(mM,{})},{path:"agents",element:n.jsx(L6,{}),children:[{index:!0,element:n.jsx(Q6,{})},{path:"runs",element:n.jsx(J6,{})},{path:"schedules",element:n.jsx(mU,{})},{path:"settings",element:n.jsx(yU,{})}]},{path:"cloud",element:n.jsx(AU,{})},{path:"governance",element:n.jsx(RU,{}),children:[{index:!0,element:n.jsx(Du,{to:"audit",replace:!0})},{path:"audit",element:n.jsx(KU,{})},{path:"rules",element:n.jsx(eP,{})}]},{path:"team",element:n.jsx(b6,{}),children:[{index:!0,element:n.jsx(Du,{to:"backups",replace:!0})},{path:"backups",element:n.jsx(C6,{})},{path:"sharing",element:n.jsx(T6,{})}]},{path:"config",element:n.jsx(s6,{})},{path:"help",element:n.jsx(D6,{})},{path:"devtools",element:n.jsx(v6,{})},{path:"*",element:n.jsx(Du,{to:"/",replace:!0})}]}]),nP=new IT({defaultOptions:{queries:{staleTime:1e4}}});zw.createRoot(document.getElementById("root")).render(n.jsx(lN.StrictMode,{children:n.jsx(XT,{defaultTheme:"dark",storageKey:"oak-ui-theme",children:n.jsx(zT,{client:nP,children:n.jsx(oA,{children:n.jsx(fT,{router:tP})})})})}));
